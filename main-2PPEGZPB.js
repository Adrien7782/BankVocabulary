var $x=Object.defineProperty,qx=Object.defineProperties;var zx=Object.getOwnPropertyDescriptors;var g0=Object.getOwnPropertySymbols;var Gx=Object.prototype.hasOwnProperty,Wx=Object.prototype.propertyIsEnumerable;var m0=(t,e,n)=>e in t?$x(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})Gx.call(e,n)&&m0(t,n,e[n]);if(g0)for(var n of g0(e))Wx.call(e,n)&&m0(t,n,e[n]);return t},ee=(t,e)=>qx(t,zx(e));var It=null,Wu=!1,Mp=1,Kx=null,Mt=Symbol("SIGNAL");function K(t){let e=It;return It=t,e}function Qu(){return It}var Fo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Da(t){if(Wu)throw new Error("");if(It===null)return;It.consumerOnSignalRead(t);let e=It.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=It.recomputing;if(r&&(n=e!==void 0?e.nextProducer:It.producers,n!==void 0&&n.producer===t)){It.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===It&&(!r||Yx(i,It)))return;let o=Vo(It),s={producer:t,consumer:It,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};It.producersTail=s,e!==void 0?e.nextProducer=s:It.producers=s,o&&E0(t,s)}function y0(){Mp++}function Np(t){if(!(Vo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Mp)){if(!t.producerMustRecompute(t)&&!ba(t)){Rp(t);return}t.producerRecomputeValue(t),Rp(t)}}function xp(t){if(t.consumers===void 0)return;let e=Wu;Wu=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||Qx(r)}}finally{Wu=e}}function Pp(){return It?.consumerAllowSignalWrites!==!1}function Qx(t){t.dirty=!0,xp(t),t.consumerMarkedDirty?.(t)}function Rp(t){t.dirty=!1,t.lastCleanEpoch=Mp}function Lo(t){return t&&v0(t),K(t)}function v0(t){t.producersTail=void 0,t.recomputing=!0}function Ca(t,e){K(e),t&&_0(t)}function _0(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Vo(t))do n=Op(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function ba(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Np(n),r!==n.version))return!0}return!1}function xi(t){if(Vo(t)){let e=t.producers;for(;e!==void 0;)e=Op(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function E0(t,e){let n=t.consumersTail,r=Vo(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)E0(i.producer,i)}function Op(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Vo(e)){let o=e.producers;for(;o!==void 0;)o=Op(o)}return n}function Vo(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function kp(t){Kx?.(t)}function Yx(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Fp(t,e){return Object.is(t,e)}function Yu(t,e){let n=Object.create(Zx);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Np(n),Da(n),n.value===Ku)throw n.error;return n.value};return r[Mt]=n,kp(n),r}var Sp=Symbol("UNSET"),Ap=Symbol("COMPUTING"),Ku=Symbol("ERRORED"),Zx=ee(k({},Fo),{value:Sp,dirty:!0,error:null,equal:Fp,kind:"computed",producerMustRecompute(t){return t.value===Sp||t.value===Ap},producerRecomputeValue(t){if(t.value===Ap)throw new Error("");let e=t.value;t.value=Ap;let n=Lo(t),r,i=!1;try{r=t.computation(),K(null),i=e!==Sp&&e!==Ku&&r!==Ku&&t.equal(e,r)}catch(o){r=Ku,t.error=o}finally{Ca(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function Jx(){throw new Error}var I0=Jx;function w0(t){I0(t)}function Lp(t){I0=t}var Xx=null;function Vp(t,e){let n=Object.create(Zu);n.value=t,e!==void 0&&(n.equal=e);let r=()=>D0(n);return r[Mt]=n,kp(n),[r,s=>Ta(n,s),s=>C0(n,s)]}function D0(t){return Da(t),t.value}function Ta(t,e){Pp()||w0(t),t.equal(t.value,e)||(t.value=e,e1(t))}function C0(t,e){Pp()||w0(t),Ta(t,e(t.value))}var Zu=ee(k({},Fo),{equal:Fp,value:void 0,kind:"signal"});function e1(t){t.version++,y0(),xp(t),Xx?.(t)}function Up(t){let e=K(null);try{return t()}finally{K(e)}}var jp=ee(k({},Fo),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Bp(t){if(t.dirty=!1,t.version>0&&!ba(t))return;t.version++;let e=Lo(t);try{t.cleanup(),t.fn()}finally{Ca(t,e)}}function te(t){return typeof t=="function"}function Uo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ju=Uo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Sa(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var lt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof Ju?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{b0(o)}catch(s){e=e??[],s instanceof Ju?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ju(e)}}add(e){var n;if(e&&e!==this)if(this.closed)b0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Sa(n,e)}remove(e){let{_finalizers:n}=this;n&&Sa(n,e),e instanceof t&&e._removeParent(this)}};lt.EMPTY=(()=>{let t=new lt;return t.closed=!0,t})();var Hp=lt.EMPTY;function Xu(t){return t instanceof lt||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function b0(t){te(t)?t():t.unsubscribe()}var gn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var jo={setTimeout(t,e,...n){let{delegate:r}=jo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=jo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function el(t){jo.setTimeout(()=>{let{onUnhandledError:e}=gn;if(e)e(t);else throw t})}function Aa(){}var T0=$p("C",void 0,void 0);function S0(t){return $p("E",void 0,t)}function A0(t){return $p("N",t,void 0)}function $p(t,e,n){return{kind:t,value:e,error:n}}var Pi=null;function Bo(t){if(gn.useDeprecatedSynchronousErrorHandling){let e=!Pi;if(e&&(Pi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Pi;if(Pi=null,n)throw r}}else t()}function R0(t){gn.useDeprecatedSynchronousErrorHandling&&Pi&&(Pi.errorThrown=!0,Pi.error=t)}var Oi=class extends lt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Xu(e)&&e.add(this)):this.destination=r1}static create(e,n,r){return new Ho(e,n,r)}next(e){this.isStopped?zp(A0(e),this):this._next(e)}error(e){this.isStopped?zp(S0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?zp(T0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},t1=Function.prototype.bind;function qp(t,e){return t1.call(t,e)}var Gp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){tl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){tl(r)}else tl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){tl(n)}}},Ho=class extends Oi{constructor(e,n,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&gn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&qp(e.next,o),error:e.error&&qp(e.error,o),complete:e.complete&&qp(e.complete,o)}):i=e}this.destination=new Gp(i)}};function tl(t){gn.useDeprecatedSynchronousErrorHandling?R0(t):el(t)}function n1(t){throw t}function zp(t,e){let{onStoppedNotification:n}=gn;n&&jo.setTimeout(()=>n(t,e))}var r1={closed:!0,next:Aa,error:n1,complete:Aa};var $o=typeof Symbol=="function"&&Symbol.observable||"@@observable";function mn(t){return t}function Wp(...t){return Kp(t)}function Kp(t){return t.length===0?mn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=o1(n)?n:new Ho(n,r,i);return Bo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=M0(r),new r((i,o)=>{let s=new Ho({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[$o](){return this}pipe(...n){return Kp(n)(this)}toPromise(n){return n=M0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function M0(t){var e;return(e=t??gn.Promise)!==null&&e!==void 0?e:Promise}function i1(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function o1(t){return t&&t instanceof Oi||i1(t)&&Xu(t)}function s1(t){return te(t?.lift)}function ve(t){return e=>{if(s1(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(t,e,n,r,i){return new Qp(t,e,n,r,i)}var Qp=class extends Oi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var N0=Uo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var tt=(()=>{class t extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new nl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new N0}next(n){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Hp:(this.currentObservers=null,o.push(n),new lt(()=>{this.currentObservers=null,Sa(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new pe;return n.source=this,n}}return t.create=(e,n)=>new nl(e,n),t})(),nl=class extends tt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Hp}};var dt=class extends tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ht=new pe(t=>t.complete());function x0(t){return t&&te(t.schedule)}function P0(t){return t[t.length-1]}function rl(t){return te(P0(t))?t.pop():void 0}function Vr(t){return x0(P0(t))?t.pop():void 0}function Yp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function k0(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function O0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ki(t){return this instanceof ki?(this.v=t,this):new ki(t)}function F0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(R){return new Promise(function(A,L){o.push([y,R,A,L])>1||u(y,R)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(R){g(o[0][3],R)}}function l(y){y.value instanceof ki?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,C){y(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function L0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof O0=="function"?O0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var il=t=>t&&typeof t.length=="number"&&typeof t!="function";function ol(t){return te(t?.then)}function sl(t){return te(t[$o])}function al(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function cl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function a1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ul=a1();function ll(t){return te(t?.[ul])}function dl(t){return F0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ki(n.read());if(i)return yield ki(void 0);yield yield ki(r)}}finally{n.releaseLock()}})}function hl(t){return te(t?.getReader)}function ze(t){if(t instanceof pe)return t;if(t!=null){if(sl(t))return c1(t);if(il(t))return u1(t);if(ol(t))return l1(t);if(al(t))return V0(t);if(ll(t))return d1(t);if(hl(t))return h1(t)}throw cl(t)}function c1(t){return new pe(e=>{let n=t[$o]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function u1(t){return new pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function l1(t){return new pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,el)})}function d1(t){return new pe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function V0(t){return new pe(e=>{f1(t,e).catch(n=>e.error(n))})}function h1(t){return V0(dl(t))}function f1(t,e){var n,r,i,o;return k0(this,void 0,void 0,function*(){try{for(n=L0(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function kt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function fl(t,e=0){return ve((n,r)=>{n.subscribe(_e(r,i=>kt(r,t,()=>r.next(i),e),()=>kt(r,t,()=>r.complete(),e),i=>kt(r,t,()=>r.error(i),e)))})}function pl(t,e=0){return ve((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function U0(t,e){return ze(t).pipe(pl(e),fl(e))}function j0(t,e){return ze(t).pipe(pl(e),fl(e))}function B0(t,e){return new pe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function H0(t,e){return new pe(n=>{let r;return kt(n,e,()=>{r=t[ul](),kt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function gl(t,e){if(!t)throw new Error("Iterable cannot be null");return new pe(n=>{kt(n,e,()=>{let r=t[Symbol.asyncIterator]();kt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function $0(t,e){return gl(dl(t),e)}function q0(t,e){if(t!=null){if(sl(t))return U0(t,e);if(il(t))return B0(t,e);if(ol(t))return j0(t,e);if(al(t))return gl(t,e);if(ll(t))return H0(t,e);if(hl(t))return $0(t,e)}throw cl(t)}function Ge(t,e){return e?q0(t,e):ze(t)}function he(...t){let e=Vr(t);return Ge(t,e)}function Zp(t,e){let n=te(t)?t:()=>t,r=i=>i.error(n());return new pe(e?i=>e.schedule(r,0,i):r)}function ml(t){return!!t&&(t instanceof pe||te(t.lift)&&te(t.subscribe))}var Fi=Uo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Pe(t,e){return ve((n,r)=>{let i=0;n.subscribe(_e(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:p1}=Array;function g1(t,e){return p1(e)?t(...e):t(e)}function yl(t){return Pe(e=>g1(t,e))}var{isArray:m1}=Array,{getPrototypeOf:y1,prototype:v1,keys:_1}=Object;function vl(t){if(t.length===1){let e=t[0];if(m1(e))return{args:e,keys:null};if(E1(e)){let n=_1(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function E1(t){return t&&typeof t=="object"&&y1(t)===v1}function _l(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Jp(...t){let e=Vr(t),n=rl(t),{args:r,keys:i}=vl(t);if(r.length===0)return Ge([],e);let o=new pe(I1(r,e,i?s=>_l(i,s):mn));return n?o.pipe(yl(n)):o}function I1(t,e,n=mn){return r=>{z0(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)z0(e,()=>{let l=Ge(t[u],e),h=!1;l.subscribe(_e(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function z0(t,e,n){t?kt(n,t,e):e()}function G0(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=R=>l<r?C(R):u.push(R),C=R=>{o&&e.next(R),l++;let A=!1;ze(n(R,h++)).subscribe(_e(e,L=>{i?.(L),o?y(L):e.next(L)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;u.length&&l<r;){let L=u.shift();s?kt(e,s,()=>C(L)):C(L)}g()}catch(L){e.error(L)}}))};return t.subscribe(_e(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Nt(t,e,n=1/0){return te(e)?Nt((r,i)=>Pe((o,s)=>e(r,o,i,s))(ze(t(r,i))),n):(typeof e=="number"&&(n=e),ve((r,i)=>G0(r,i,t,n)))}function W0(t=1/0){return Nt(mn,t)}function K0(){return W0(1)}function qo(...t){return K0()(Ge(t,Vr(t)))}function Ra(t){return new pe(e=>{ze(t()).subscribe(e)})}function Xp(...t){let e=rl(t),{args:n,keys:r}=vl(t),i=new pe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;ze(n[h]).subscribe(_e(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?_l(r,a):a),o.complete())}))}});return e?i.pipe(yl(e)):i}function nr(t,e){return ve((n,r)=>{let i=0;n.subscribe(_e(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ma(t){return ve((e,n)=>{let r=null,i=!1,o;r=e.subscribe(_e(n,void 0,void 0,s=>{o=ze(t(s,Ma(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function El(t,e){return te(e)?Nt(t,e,1):Nt(t,1)}function Q0(t){return ve((e,n)=>{let r=!1;e.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function rr(t){return t<=0?()=>ht:ve((e,n)=>{let r=0;e.subscribe(_e(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Y0(t=w1){return ve((e,n)=>{let r=!1;e.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function w1(){return new Fi}function eg(t){return ve((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function ir(t,e){let n=arguments.length>=2;return r=>r.pipe(t?nr((i,o)=>t(i,o,r)):mn,rr(1),n?Q0(e):Y0(()=>new Fi))}function Il(t){return t<=0?()=>ht:ve((e,n)=>{let r=[];e.subscribe(_e(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function tg(...t){let e=Vr(t);return ve((n,r)=>{(e?qo(t,n,e):qo(t,n)).subscribe(r)})}function or(t,e){return ve((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(_e(r,u=>{i?.unsubscribe();let l=0,h=o++;ze(t(u,h)).subscribe(i=_e(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Na(t){return ve((e,n)=>{ze(t).subscribe(_e(n,()=>n.complete(),Aa)),!n.closed&&e.subscribe(n)})}function Rn(t,e,n){let r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?ve((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(_e(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):mn}var ng;function wl(){return ng}function Mn(t){let e=ng;return ng=t,e}var Z0=Symbol("NotFound");function zo(t){return t===Z0||t?.name==="\u0275NotFound"}var gg="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",B=class extends Error{code;constructor(e,n){super(Wo(e,n)),this.code=e}};function D1(t){return`NG0${Math.abs(t)}`}function Wo(t,e){return`${D1(t)}${e?": "+e:""}`}var Hi=globalThis;function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("")}function nD(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ar(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(ar).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function mg(t,e){return t?e?`${t} ${e}`:t:e||""}var C1=Ee({__forward_ref__:Ee});function nn(t){return t.__forward_ref__=nn,t.toString=function(){return ar(this())},t}function ft(t){return yg(t)?t():t}function yg(t){return typeof t=="function"&&t.hasOwnProperty(C1)&&t.__forward_ref__===nn}function Y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ur(t){return{providers:t.providers||[],imports:t.imports||[]}}function Va(t){return b1(t,Rl)}function vg(t){return Va(t)!==null}function b1(t,e){return t.hasOwnProperty(e)&&t[e]||null}function T1(t){let e=t?.[Rl]??null;return e||null}function ig(t){return t&&t.hasOwnProperty(Cl)?t[Cl]:null}var Rl=Ee({\u0275prov:Ee}),Cl=Ee({\u0275inj:Ee}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Y({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _g(t){return t&&!!t.\u0275providers}var Eg=Ee({\u0275cmp:Ee}),Ig=Ee({\u0275dir:Ee}),wg=Ee({\u0275pipe:Ee}),Dg=Ee({\u0275mod:Ee}),Pa=Ee({\u0275fac:Ee}),$i=Ee({__NG_ELEMENT_ID__:Ee}),J0=Ee({__NG_ENV_ID__:Ee});function Cg(t){return Ml(t,"@NgModule"),t[Dg]||null}function Hr(t){return Ml(t,"@Component"),t[Eg]||null}function bg(t){return Ml(t,"@Directive"),t[Ig]||null}function rD(t){return Ml(t,"@Pipe"),t[wg]||null}function Ml(t,e){if(t==null)throw new B(-919,!1)}function $r(t){return typeof t=="string"?t:t==null?"":String(t)}var iD=Ee({ngErrorCode:Ee}),S1=Ee({ngErrorMessage:Ee}),A1=Ee({ngTokenPath:Ee});function Tg(t,e){return oD("",-200,e)}function Nl(t,e){throw new B(-201,!1)}function oD(t,e,n){let r=new B(e,t);return r[iD]=e,r[S1]=t,n&&(r[A1]=n),r}function R1(t){return t[iD]}var og;function sD(){return og}function xt(t){let e=og;return og=t,e}function Sg(t,e,n){let r=Va(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Nl(t,"")}var M1={},Li=M1,N1="__NG_DI_FLAG__",sg=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Vi(n)||0;try{return this.injector.get(e,r&8?null:Li,r)}catch(i){if(zo(i))return i;throw i}}};function x1(t,e=0){let n=wl();if(n===void 0)throw new B(-203,!1);if(n===null)return Sg(t,void 0,e);{let r=P1(e),i=n.retrieve(t,r);if(zo(i)){if(r.optional)return null;throw i}return i}}function oe(t,e=0){return(sD()||x1)(ft(t),e)}function P(t,e){return oe(t,Vi(e))}function Vi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function P1(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function ag(t){let e=[];for(let n=0;n<t.length;n++){let r=ft(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=O1(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(oe(i,o))}else e.push(oe(r))}return e}function O1(t){return t[N1]}function Ur(t,e){let n=t.hasOwnProperty(Pa);return n?t[Pa]:null}function aD(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function cD(t){return t.flat(Number.POSITIVE_INFINITY)}function xl(t,e){t.forEach(n=>Array.isArray(n)?xl(n,e):e(n))}function Ag(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ua(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function uD(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function lD(t,e,n){let r=Ko(t,e);return r>=0?t[r|1]=n:(r=~r,uD(t,r,e,n)),r}function Pl(t,e){let n=Ko(t,e);if(n>=0)return t[n|1]}function Ko(t,e){return k1(t,e,1)}function k1(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var qr={},Ut=[],qi=new $(""),Rg=new $("",-1),Mg=new $(""),Oa=class{get(e,n=Li){if(n===Li){let i=oD("",-201);throw i.name="\u0275NotFound",i}return n}};function Qo(t){return{\u0275providers:t}}function dD(t){return Qo([{provide:qi,multi:!0,useValue:t}])}function hD(...t){return{\u0275providers:Ng(!0,t),\u0275fromNgModule:!0}}function Ng(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return xl(e,s=>{let a=s;bl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&fD(i,o),n}function fD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];xg(i,o=>{e(o,r)})}}function bl(t,e,n,r){if(t=ft(t),!t)return!1;let i=null,o=ig(t),s=!o&&Hr(t);if(!o&&!s){let u=t.ngModule;if(o=ig(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)bl(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;xl(o.imports,h=>{bl(h,e,n,r)&&(l||=[],l.push(h))}),l!==void 0&&fD(l,e)}if(!a){let l=Ur(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ut},i),e({provide:Mg,useValue:i,multi:!0},i),e({provide:qi,useValue:()=>oe(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;xg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function xg(t,e){for(let n of t)_g(n)&&(n=n.\u0275providers),Array.isArray(n)?xg(n,e):e(n)}var F1=Ee({provide:String,useValue:Ee});function pD(t){return t!==null&&typeof t=="object"&&F1 in t}function L1(t){return!!(t&&t.useExisting)}function V1(t){return!!(t&&t.useFactory)}function Ui(t){return typeof t=="function"}function gD(t){return!!t.useClass}var ja=new $(""),Dl={},X0={},rg;function Ba(){return rg===void 0&&(rg=new Oa),rg}var nt=class{},ji=class extends nt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,ug(e,s=>this.processProvider(s)),this.records.set(Rg,Go(void 0,this)),i.has("environment")&&this.records.set(nt,Go(void 0,this));let o=this.records.get(ja);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Mg,Ut,{self:!0}))}retrieve(e,n){let r=Vi(n)||0;try{return this.get(e,Li,r)}catch(i){if(zo(i))return i;throw i}}destroy(){xa(this),this._destroyed=!0;let e=K(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(e)}}onDestroy(e){return xa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){xa(this);let n=Mn(this),r=xt(void 0),i;try{return e()}finally{Mn(n),xt(r)}}get(e,n=Li,r){if(xa(this),e.hasOwnProperty(J0))return e[J0](this);let i=Vi(r),o,s=Mn(this),a=xt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=$1(e)&&Va(e);h&&this.injectableDefInScope(h)?l=Go(cg(e),Dl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Ba():this.parent;return n=i&8&&n===Li?null:n,u.get(e,n)}catch(u){let l=R1(u);throw l===-200||l===-201?new B(l,null):u}finally{xt(a),Mn(s)}}resolveInjectorInitializers(){let e=K(null),n=Mn(this),r=xt(void 0),i;try{let o=this.get(qi,Ut,{self:!0});for(let s of o)s()}finally{Mn(n),xt(r),K(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ar(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ft(e);let n=Ui(e)?e:ft(e&&e.provide),r=j1(e);if(!Ui(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Go(void 0,Dl,!0),i.factory=()=>ag(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=K(null);try{if(n.value===X0)throw Tg(ar(e));return n.value===Dl&&(n.value=X0,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&H1(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{K(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ft(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function cg(t){let e=Va(t),n=e!==null?e.factory:Ur(t);if(n!==null)return n;if(t instanceof $)throw new B(204,!1);if(t instanceof Function)return U1(t);throw new B(204,!1)}function U1(t){if(t.length>0)throw new B(204,!1);let n=T1(t);return n!==null?()=>n.factory(t):()=>new t}function j1(t){if(pD(t))return Go(void 0,t.useValue);{let e=Pg(t);return Go(e,Dl)}}function Pg(t,e,n){let r;if(Ui(t)){let i=ft(t);return Ur(i)||cg(i)}else if(pD(t))r=()=>ft(t.useValue);else if(V1(t))r=()=>t.useFactory(...ag(t.deps||[]));else if(L1(t))r=(i,o)=>oe(ft(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=ft(t&&(t.useClass||t.provide));if(B1(t))r=()=>new i(...ag(t.deps));else return Ur(i)||cg(i)}return r}function xa(t){if(t.destroyed)throw new B(205,!1)}function Go(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function B1(t){return!!t.deps}function H1(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function $1(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function ug(t,e){for(let n of t)Array.isArray(n)?ug(n,e):n&&_g(n)?ug(n.\u0275providers,e):e(n)}function wt(t,e){let n;t instanceof ji?(xa(t),n=t):n=new sg(t);let r,i=Mn(n),o=xt(void 0);try{return e()}finally{Mn(i),xt(o)}}function mD(){return sD()!==void 0||wl()!=null}var yn=0,W=1,J=2,rt=3,rn=4,on=5,Yo=6,Zo=7,Be=8,lr=9,dr=10,Oe=11,Jo=12,Og=13,zi=14,Bt=15,zr=16,Gi=17,Nn=18,hr=19,kg=20,sr=21,Ol=22,jr=23,Ht=24,kl=25,Wi=26,He=27,yD=1,Fg=6,Gr=7,Ha=8,Ki=9,Ue=10;function xn(t){return Array.isArray(t)&&typeof t[yD]=="object"}function vn(t){return Array.isArray(t)&&t[yD]===!0}function Lg(t){return(t.flags&4)!==0}function Wr(t){return t.componentOffset>-1}function Xo(t){return(t.flags&1)===1}function Pn(t){return!!t.template}function es(t){return(t[J]&512)!==0}function Qi(t){return(t[J]&256)===256}var vD="svg",_D="math";function sn(t){for(;Array.isArray(t);)t=t[yn];return t}function Vg(t,e){return sn(e[t])}function _n(t,e){return sn(e[t.index])}function $a(t,e){return t.data[e]}function Ug(t,e){return t[e]}function jg(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function an(t,e){let n=e[t];return xn(n)?n:n[yn]}function ED(t){return(t[J]&4)===4}function Fl(t){return(t[J]&128)===128}function ID(t){return vn(t[rt])}function On(t,e){return e==null?null:t[e]}function Bg(t){t[Gi]=0}function Hg(t){t[J]&1024||(t[J]|=1024,Fl(t)&&ts(t))}function wD(t,e){for(;t>0;)e=e[zi],t--;return e}function qa(t){return!!(t[J]&9216||t[Ht]?.dirty)}function Ll(t){t[dr].changeDetectionScheduler?.notify(8),t[J]&64&&(t[J]|=1024),qa(t)&&ts(t)}function ts(t){t[dr].changeDetectionScheduler?.notify(0);let e=Br(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!Fl(e)));)e=Br(e)}function $g(t,e){if(Qi(t))throw new B(911,!1);t[sr]===null&&(t[sr]=[]),t[sr].push(e)}function DD(t,e){if(t[sr]===null)return;let n=t[sr].indexOf(e);n!==-1&&t[sr].splice(n,1)}function Br(t){let e=t[rt];return vn(e)?e[rt]:e}function qg(t){return t[Zo]??=[]}function zg(t){return t.cleanup??=[]}function CD(t,e,n,r){let i=qg(e);i.push(n),t.firstCreatePass&&zg(t).push(r,i.length-1)}var se={lFrame:BD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var lg=!1;function bD(){return se.lFrame.elementDepthCount}function TD(){se.lFrame.elementDepthCount++}function SD(){se.lFrame.elementDepthCount--}function Vl(){return se.bindingsEnabled}function AD(){return se.skipHydrationRootTNode!==null}function RD(t){return se.skipHydrationRootTNode===t}function MD(){se.skipHydrationRootTNode=null}function ae(){return se.lFrame.lView}function Ke(){return se.lFrame.tView}function Ce(t){return se.lFrame.contextLView=t,t[Be]}function be(t){return se.lFrame.contextLView=null,t}function Pt(){let t=Gg();for(;t!==null&&t.type===64;)t=t.parent;return t}function Gg(){return se.lFrame.currentTNode}function ND(){let t=se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ns(t,e){let n=se.lFrame;n.currentTNode=t,n.isParent=e}function Wg(){return se.lFrame.isParent}function xD(){se.lFrame.isParent=!1}function PD(){return se.lFrame.contextLView}function Kg(){return lg}function ka(t){let e=lg;return lg=t,e}function OD(){let t=se.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Qg(){return se.lFrame.bindingIndex}function kD(t){return se.lFrame.bindingIndex=t}function Yi(){return se.lFrame.bindingIndex++}function Ul(t){let e=se.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function FD(){return se.lFrame.inI18n}function LD(t,e){let n=se.lFrame;n.bindingIndex=n.bindingRootIndex=t,jl(e)}function VD(){return se.lFrame.currentDirectiveIndex}function jl(t){se.lFrame.currentDirectiveIndex=t}function UD(t){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Yg(){return se.lFrame.currentQueryIndex}function Bl(t){se.lFrame.currentQueryIndex=t}function q1(t){let e=t[W];return e.type===2?e.declTNode:e.type===1?t[on]:null}function Zg(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=q1(o),i===null||(o=o[zi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=se.lFrame=jD();return r.currentTNode=e,r.lView=t,!0}function Hl(t){let e=jD(),n=t[W];se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function jD(){let t=se.lFrame,e=t===null?null:t.child;return e===null?BD(t):e}function BD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function HD(){let t=se.lFrame;return se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Jg=HD;function $l(){let t=HD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function $D(t){return(se.lFrame.contextLView=wD(t,se.lFrame.contextLView))[Be]}function kn(){return se.lFrame.selectedIndex}function Kr(t){se.lFrame.selectedIndex=t}function ql(){let t=se.lFrame;return $a(t.tView,t.selectedIndex)}function qD(){return se.lFrame.currentNamespace}var zD=!0;function zl(){return zD}function za(t){zD=t}function dg(t,e=null,n=null,r){let i=Xg(t,e,n,r);return i.resolveInjectorInitializers(),i}function Xg(t,e=null,n=null,r,i=new Set){let o=[n||Ut,hD(t)];return r=r||(typeof t=="object"?void 0:ar(t)),new ji(o,e||Ba(),r||null,i)}var tn=class t{static THROW_IF_NOT_FOUND=Li;static NULL=new Oa;static create(e,n){if(Array.isArray(e))return dg({name:""},n,e,"");{let r=e.name??"";return dg({name:r},e.parent,e.providers,r)}}static \u0275prov=Y({token:t,providedIn:"any",factory:()=>oe(Rg)});static __NG_ELEMENT_ID__=-1},it=new $(""),Fn=(()=>{class t{static __NG_ELEMENT_ID__=z1;static __NG_ENV_ID__=n=>n}return t})(),Tl=class extends Fn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Qi(this._lView)}onDestroy(e){let n=this._lView;return $g(n,e),()=>DD(n,e)}};function z1(){return new Tl(ae())}var GD=!1,WD=new $(""),Qr=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new dt(!1);debugTaskTracker=P(WD,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new pe(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Y({token:t,providedIn:"root",factory:()=>new t})}return t})(),hg=class extends tt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,mD()&&(this.destroyRef=P(Fn,{optional:!0})??void 0,this.pendingTasks=P(Qr,{optional:!0})??void 0)}emit(e){let n=K(null);try{super.next(e)}finally{K(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof lt&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},We=hg;function Sl(...t){}function em(t){let e,n;function r(){t=Sl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function KD(t){return queueMicrotask(()=>t()),()=>{t=Sl}}var tm="isAngularZone",Fa=tm+"_ID",G1=0,jt=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new We(!1);onMicrotaskEmpty=new We(!1);onStable=new We(!1);onError=new We(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=GD}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Q1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(tm)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,W1,Sl,Sl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},W1={};function nm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function K1(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){em(()=>{t.callbackScheduled=!1,fg(t),t.isCheckStableRunning=!0,nm(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),fg(t)}function Q1(t){let e=()=>{K1(t)},n=G1++;t._inner=t._inner.fork({name:"angular",properties:{[tm]:!0,[Fa]:n,[Fa+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Y1(u))return r.invokeTask(o,s,a,u);try{return eD(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),tD(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return eD(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Z1(u)&&e(),tD(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,fg(t),nm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function fg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function eD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function tD(t){t._nesting--,nm(t)}var La=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new We;onMicrotaskEmpty=new We;onStable=new We;onError=new We;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Y1(t){return QD(t,"__ignore_ng_zone__")}function Z1(t){return QD(t,"__scheduler_tick__")}function QD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var cr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},En=new $("",{factory:()=>{let t=P(jt),e=P(nt),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(cr),n.handleError(r))})}}}),YD={provide:qi,useValue:()=>{let t=P(cr,{optional:!0})},multi:!0},J1=new $("",{factory:()=>{let t=P(it).defaultView;if(!t)return;let e=P(En),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),P(Fn).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function rm(){return Qo([dD(()=>{P(J1)})])}function ue(t,e){let[n,r,i]=Vp(t,e?.equal),o=n,s=o[Mt];return o.set=r,o.update=i,o.asReadonly=ZD.bind(o),o}function ZD(){let t=this[Mt];if(t.readonlyFn===void 0){let e=()=>this();e[Mt]=t,t.readonlyFn=e}return t.readonlyFn}var Gl=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=X1}return t})();function X1(){return new Gl(ae(),Pt())}var Bi=class{},Ga=new $("",{factory:()=>!0});var im=new $("");var Wl=(()=>{class t{static \u0275prov=Y({token:t,providedIn:"root",factory:()=>new pg})}return t})(),pg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},Al=class{[Mt];constructor(e){this[Mt]=e}destroy(){this[Mt].destroy()}};function rs(t,e){let n=e?.injector??P(tn),r=e?.manualCleanup!==!0?n.get(Fn):null,i,o=n.get(Gl,null,{optional:!0}),s=n.get(Bi);return o!==null?(i=nP(o.view,s,t),r instanceof Tl&&r._lView===o.view&&(r=null)):i=rP(t,n.get(Wl),s),i.injector=n,r!==null&&(i.onDestroyFns=[r.onDestroy(()=>i.destroy())]),new Al(i)}var JD=ee(k({},jp),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let t=ka(!1);try{Bp(this)}finally{ka(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=K(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],K(t)}}}),eP=ee(k({},JD),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(xi(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.scheduler.remove(this)}}),tP=ee(k({},JD),{consumerMarkedDirty(){this.view[J]|=8192,ts(this.view),this.notifier.notify(13)},destroy(){if(xi(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.view[jr]?.delete(this)}});function nP(t,e,n){let r=Object.create(tP);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=XD(r,n),t[jr]??=new Set,t[jr].add(r),r.consumerMarkedDirty(r),r}function rP(t,e,n){let r=Object.create(eP);return r.fn=XD(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function XD(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}function ot(t){return Up(t)}function rc(t){return{toString:t}.toString()}function hP(t){return typeof t=="function"}function RC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Xl=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},ro=(()=>{let t=()=>MC;return t.ngInherit=!0,t})();function MC(t){return t.type.prototype.ngOnChanges&&(t.setInput=pP),fP}function fP(){let t=xC(this),e=t?.current;if(e){let n=t.previous;if(n===qr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function pP(t,e,n,r,i){let o=this.declaredInputs[r],s=xC(t)||gP(t,{previous:qr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Xl(l&&l.currentValue,n,u===qr),RC(t,e,i,n)}var NC="__ngSimpleChanges__";function xC(t){return t[NC]||null}function gP(t,e){return t[NC]=e}var eC=[];var Te=function(t,e=null,n){for(let r=0;r<eC.length;r++){let i=eC[r];i(t,e,n)}},me=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(me||{});function mP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=MC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function PC(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Ql(t,e,n){OC(t,e,3,n)}function Yl(t,e,n,r){(t[J]&3)===n&&OC(t,e,n,r)}function om(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function OC(t,e,n,r){let i=r!==void 0?t[Gi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Gi]+=65536),(a<o||o==-1)&&(yP(t,n,e,u),t[Gi]=(t[Gi]&4294901760)+u+2),u++}function tC(t,e){Te(me.LifecycleHookStart,t,e);let n=K(null);try{e.call(t)}finally{K(n),Te(me.LifecycleHookEnd,t,e)}}function yP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[J]>>14<t[Gi]>>16&&(t[J]&3)===e&&(t[J]+=16384,tC(a,o)):tC(a,o)}var os=-1,Ji=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function vP(t){return(t.flags&8)!==0}function _P(t){return(t.flags&16)!==0}function EP(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];wP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function IP(t){return t===3||t===4||t===6}function wP(t){return t.charCodeAt(0)===64}function Ya(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?nC(t,n,i,null,e[++r]):nC(t,n,i,null,null))}}return t}function nC(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function kC(t){return t!==os}function ed(t){return t&32767}function DP(t){return t>>16}function td(t,e){let n=DP(t),r=e;for(;n>0;)r=r[zi],n--;return r}var ym=!0;function nd(t){let e=ym;return ym=t,e}var CP=256,FC=CP-1,LC=5,bP=0,Ln={};function TP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty($i)&&(r=n[$i]),r==null&&(r=n[$i]=bP++);let i=r&FC,o=1<<i;e.data[t+(i>>LC)]|=o}function rd(t,e){let n=VC(t,e);if(n!==-1)return n;let r=e[W];r.firstCreatePass&&(t.injectorIndex=e.length,sm(r.data,t),sm(e,null),sm(r.blueprint,null));let i=zm(t,e),o=t.injectorIndex;if(kC(i)){let s=ed(i),a=td(i,e),u=a[W].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function sm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function VC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function zm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=$C(i),r===null)return os;if(n++,i=i[zi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return os}function vm(t,e,n){TP(t,e,n)}function UC(t,e,n){if(n&8||t!==void 0)return t;Nl(e,"NodeInjector")}function jC(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[lr],o=xt(void 0);try{return i?i.get(e,r,n&8):Sg(e,r,n&8)}finally{xt(o)}}return UC(r,e,n)}function BC(t,e,n,r=0,i){if(t!==null){if(e[J]&2048&&!(r&2)){let s=MP(t,e,n,r,Ln);if(s!==Ln)return s}let o=HC(t,e,n,r,Ln);if(o!==Ln)return o}return jC(e,n,r,i)}function HC(t,e,n,r,i){let o=AP(n);if(typeof o=="function"){if(!Zg(e,t,r))return r&1?UC(i,n,r):jC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Nl(n);else return s}finally{Jg()}}else if(typeof o=="number"){let s=null,a=VC(t,e),u=os,l=r&1?e[Bt][on]:null;for((a===-1||r&4)&&(u=a===-1?zm(t,e):e[a+8],u===os||!iC(r,!1)?a=-1:(s=e[W],a=ed(u),e=td(u,e)));a!==-1;){let h=e[W];if(rC(o,a,h.data)){let p=SP(a,e,n,s,r,l);if(p!==Ln)return p}u=e[a+8],u!==os&&iC(r,e[W].data[a+8]===l)&&rC(o,a,e)?(s=h,a=ed(u),e=td(u,e)):a=-1}}return i}function SP(t,e,n,r,i,o){let s=e[W],a=s.data[t+8],u=r==null?Wr(a)&&ym:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=Zl(a,s,n,u,l);return h!==null?Za(e,s,h,a,i):Ln}function Zl(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let C=s[y];if(y<u&&n===C||y>=u&&C.type===n)return y}if(i){let y=s[u];if(y&&Pn(y)&&y.type===n)return u}return null}function Za(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Ji){let a=o;if(a.resolving)throw Tg("");let u=nd(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],h,p=a.injectImpl?xt(a.injectImpl):null,g=Zg(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&mP(n,s[n],e)}finally{p!==null&&xt(p),nd(u),a.resolving=!1,Jg()}}return o}function AP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty($i)?t[$i]:void 0;return typeof e=="number"?e>=0?e&FC:RP:e}function rC(t,e,n){let r=1<<t;return!!(n[e+(t>>LC)]&r)}function iC(t,e){return!(t&2)&&!(t&1&&e)}var Zi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return BC(this._tNode,this._lView,e,Vi(r),n)}};function RP(){return new Zi(Pt(),ae())}function jn(t){return rc(()=>{let e=t.prototype.constructor,n=e[Pa]||_m(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Pa]||_m(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function _m(t){return yg(t)?()=>{let e=_m(ft(t));return e&&e()}:Ur(t)}function MP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[J]&2048&&!es(s);){let a=HC(o,s,n,r|2,Ln);if(a!==Ln)return a;let u=o.parent;if(!u){let l=s[kg];if(l){let h=l.get(n,Ln,r);if(h!==Ln)return h}u=$C(s),s=s[zi]}o=u}return i}function $C(t){let e=t[W],n=e.type;return n===2?e.declTNode:n===1?t[on]:null}function NP(){return us(Pt(),ae())}function us(t,e){return new fr(_n(t,e))}var fr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=NP}return t})();function xP(t){return t instanceof fr?t.nativeElement:t}function PP(){return this._results[Symbol.iterator]()}var id=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new tt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=cD(e);(this._changesDetected=!aD(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=PP};function qC(t){return(t.flags&128)===128}var Gm=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Gm||{}),zC=new Map,OP=0;function kP(){return OP++}function FP(t){zC.set(t[hr],t)}function Em(t){zC.delete(t[hr])}var oC="__ngContext__";function ss(t,e){xn(e)?(t[oC]=e[hr],FP(e)):t[oC]=e}function GC(t){return KC(t[Jo])}function WC(t){return KC(t[rn])}function KC(t){for(;t!==null&&!vn(t);)t=t[rn];return t}var LP;function Wm(t){LP=t}var gd=new $("",{factory:()=>VP}),VP="ng";var md=new $(""),ic=new $("",{providedIn:"platform",factory:()=>"unknown"});var yd=new $("",{factory:()=>P(it).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var QC="r";var YC="di";var ZC=!1,JC=new $("",{factory:()=>ZC});var UP=(t,e,n,r)=>{};function jP(t,e,n,r){UP(t,e,n,r)}function Km(t){return(t.flags&32)===32}var BP=()=>null;function XC(t,e,n=!1){return BP(t,e,n)}function eb(t,e){let n=t.contentQueries;if(n!==null){let r=K(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Bl(o),a.contentQueries(2,e[s],s)}}}finally{K(r)}}}function Im(t,e,n){Bl(0);let r=K(null);try{e(t,n)}finally{K(r)}}function Qm(t,e,n){if(Lg(e)){let r=K(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{K(r)}}}var wn=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(wn||{});var wm=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gg})`}};function tb(t){return t instanceof wm?t.changingThisBreaksApplicationSecurity:t}var HP=/^>|^->|<!--|-->|--!>|<!-$/g,$P=/(<|>)/g,qP="\u200B$1\u200B";function zP(t){return t.replace(HP,e=>e.replace($P,qP))}function GP(t,e){return t.createText(e)}function WP(t,e,n){t.setValue(e,n)}function KP(t,e){return t.createComment(zP(e))}function nb(t,e,n){return t.createElement(e,n)}function od(t,e,n,r,i){t.insertBefore(e,n,r,i)}function rb(t,e,n){t.appendChild(e,n)}function sC(t,e,n,r,i){r!==null?od(t,e,n,r,i):rb(t,e,n)}function ib(t,e,n,r){t.removeChild(null,e,n,r)}function QP(t,e,n){t.setAttribute(e,"style",n)}function YP(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ob(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&EP(t,e,r),i!==null&&YP(t,e,i),o!==null&&QP(t,e,o)}function sb(t){return t instanceof Function?t():t}function ZP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var ab="ng-template";function JP(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&ZP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ym(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Ym(t){return t.type===4&&t.value!==ab}function XP(t,e,n){let r=t.type===4&&!n?ab:t.value;return e===r}function eO(t,e,n){let r=4,i=t.attrs,o=i!==null?rO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!In(r)&&!In(u))return!1;if(s&&In(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!XP(t,u,n)||u===""&&e.length===1){if(In(r))return!1;s=!0}}else if(r&8){if(i===null||!JP(t,i,u,n)){if(In(r))return!1;s=!0}}else{let l=e[++a],h=tO(u,i,Ym(t),n);if(h===-1){if(In(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(In(r))return!1;s=!0}}}}return In(r)||s}function In(t){return(t&1)===0}function tO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return iO(e,t)}function nO(t,e,n=!1){for(let r=0;r<e.length;r++)if(eO(t,e[r],n))return!0;return!1}function rO(t){for(let e=0;e<t.length;e++){let n=t[e];if(IP(n))return e}return t.length}function iO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function aC(t,e){return t?":not("+e.trim()+")":e}function oO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!In(s)&&(e+=aC(o,i),i=""),r=s,o=o||!In(r);n++}return i!==""&&(e+=aC(o,i)),e}function sO(t){return t.map(oO).join(",")}function aO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!In(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Ft={};function Zm(t,e,n,r,i,o,s,a,u,l,h){let p=He+r,g=p+i,y=cO(p,g),C=typeof l=="function"?l():l;return y[W]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function cO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ft);return n}function uO(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Zm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Jm(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[yn]=i,p[J]=r|4|128|8|64|1024,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),Bg(p),p[rt]=p[zi]=t,p[Be]=n,p[dr]=s||t&&t[dr],p[Oe]=a||t&&t[Oe],p[lr]=u||t&&t[lr]||null,p[on]=o,p[hr]=kP(),p[Yo]=h,p[kg]=l,p[Bt]=e.type==2?t[Bt]:p,p}function lO(t,e,n){let r=_n(e,t),i=uO(n),o=t[dr].rendererFactory,s=Xm(t,Jm(t,i,null,cb(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function cb(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function ub(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Xm(t,e){return t[Jo]?t[Og][rn]=e:t[Jo]=e,t[Og]=e,e}function H(t=1){lb(Ke(),ae(),kn()+t,!1)}function lb(t,e,n,r){if(!r)if((e[J]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ql(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Yl(e,o,0,n)}Kr(n)}var vd=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(vd||{});function Dm(t,e,n,r){let i=K(null);try{let[o,s,a]=t.inputs[n],u=null;(s&vd.SignalBased)!==0&&(u=e[o][Mt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):RC(e,u,o,r)}finally{K(i)}}var Vn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Vn||{}),dO;function ey(t,e){return dO(t,e)}var Xi=new Set,ty=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(ty||{}),oc=new $(""),cC=new Set;function io(t){cC.has(t)||(cC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var db=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Y({token:t,providedIn:"root",factory:()=>new t})}return t})();var hb=new $("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:P(nt)})});function fb(t,e,n){let r=t.get(hb);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function hO(t,e){let n=t.get(hb);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function fO(t,e){for(let[n,r]of e)fb(t,r.animateFns)}function uC(t,e,n,r){let i=t?.[Wi]?.enter;e!==null&&i&&i.has(n.index)&&fO(r,i)}function is(t,e,n,r,i,o,s,a){if(i!=null){let u,l=!1;vn(i)?u=i:xn(i)&&(l=!0,i=i[yn]);let h=sn(i);t===0&&r!==null?(uC(a,r,o,n),s==null?rb(e,r,h):od(e,r,h,s||null,!0)):t===1&&r!==null?(uC(a,r,o,n),od(e,r,h,s||null,!0)):t===2?lC(a,o,n,p=>{ib(e,h,l,p)}):t===3&&lC(a,o,n,()=>{e.destroyNode(h)}),u!=null&&TO(e,t,n,u,o,r,s)}}function pO(t,e){pb(t,e),e[yn]=null,e[on]=null}function gO(t,e,n,r,i,o){r[yn]=i,r[on]=e,Ed(t,r,n,1,i,o)}function pb(t,e){e[dr].changeDetectionScheduler?.notify(9),Ed(t,e,e[Oe],2,null,null)}function mO(t){let e=t[Jo];if(!e)return am(t[W],t);for(;e;){let n=null;if(xn(e))n=e[Jo];else{let r=e[Ue];r&&(n=r)}if(!n){for(;e&&!e[rn]&&e!==t;)xn(e)&&am(e[W],e),e=e[rt];e===null&&(e=t),xn(e)&&am(e[W],e),n=e&&e[rn]}e=n}}function ny(t,e){let n=t[Ki],r=n.indexOf(e);n.splice(r,1)}function _d(t,e){if(Qi(e))return;let n=e[Oe];n.destroyNode&&Ed(t,e,n,3,null,null),mO(e)}function am(t,e){if(Qi(e))return;let n=K(null);try{e[J]&=-129,e[J]|=256,e[Ht]&&xi(e[Ht]),_O(t,e),vO(t,e),e[W].type===1&&e[Oe].destroy();let r=e[zr];if(r!==null&&vn(e[rt])){r!==e[rt]&&ny(r,e);let i=e[Nn];i!==null&&i.detachView(t)}Em(e)}finally{K(n)}}function lC(t,e,n,r){let i=t?.[Wi];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Xi.add(t[hr]),fb(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),yO(t,r)}else t&&Xi.delete(t[hr]),r(!1)},i)}function yO(t,e){let n=t[Wi]?.running;if(n){n.then(()=>{t[Wi].running=void 0,Xi.delete(t[hr]),e(!0)});return}e(!1)}function vO(t,e){let n=t.cleanup,r=e[Zo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Zo]=null);let i=e[sr];if(i!==null){e[sr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[jr];if(o!==null){e[jr]=null;for(let s of o)s.destroy()}}function _O(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ji)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Te(me.LifecycleHookStart,a,u);try{u.call(a)}finally{Te(me.LifecycleHookEnd,a,u)}}else{Te(me.LifecycleHookStart,i,o);try{o.call(i)}finally{Te(me.LifecycleHookEnd,i,o)}}}}}function EO(t,e,n){return IO(t,e.parent,n)}function IO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[yn];if(Wr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===wn.None||i===wn.Emulated)return null}return _n(r,n)}function wO(t,e,n){return CO(t,e,n)}function DO(t,e,n){return t.type&40?_n(t,n):null}var CO=DO,dC;function ry(t,e,n,r){let i=EO(t,r,e),o=e[Oe],s=r.parent||e[on],a=wO(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)sC(o,i,n[u],a,!1);else sC(o,i,n,a,!1);dC!==void 0&&dC(o,r,e,n,i)}function Ka(t,e){if(e!==null){let n=e.type;if(n&3)return _n(e,t);if(n&4)return Cm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ka(t,r);{let i=t[e.index];return vn(i)?Cm(-1,i):sn(i)}}else{if(n&128)return Ka(t,e.next);if(n&32)return ey(e,t)()||sn(t[e.index]);{let r=gb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Br(t[Bt]);return Ka(i,r)}else return Ka(t,e.next)}}}return null}function gb(t,e){if(e!==null){let r=t[Bt][on],i=e.projection;return r.projection[i]}return null}function Cm(t,e){let n=Ue+t+1;if(n<e.length){let r=e[n],i=r[W].firstChild;if(i!==null)return Ka(r,i)}return e[Gr]}function iy(t,e,n,r,i,o,s){for(;n!=null;){let a=r[lr];if(n.type===128){n=n.next;continue}let u=r[n.index],l=n.type;if(s&&e===0&&(u&&ss(sn(u),r),n.flags|=2),!Km(n))if(l&8)iy(t,e,n.child,r,i,o,!1),is(e,t,a,i,u,n,o,r);else if(l&32){let h=ey(n,r),p;for(;p=h();)is(e,t,a,i,p,n,o,r);is(e,t,a,i,u,n,o,r)}else l&16?bO(t,e,r,n,i,o):is(e,t,a,i,u,n,o,r);n=s?n.projectionNext:n.next}}function Ed(t,e,n,r,i,o){iy(n,r,t.firstChild,e,i,o,!1)}function bO(t,e,n,r,i,o){let s=n[Bt],u=s[on].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];is(e,t,n[lr],i,h,r,o,n)}else{let l=u,h=s[rt];qC(r)&&(l.flags|=128),iy(t,e,l,h,i,o,!0)}}function TO(t,e,n,r,i,o,s){let a=r[Gr],u=sn(r);a!==u&&is(e,t,n,o,a,i,s);for(let l=Ue;l<r.length;l++){let h=r[l];Ed(h[W],h,t,e,o,a)}}function SO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Vn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Vn.Important),t.setStyle(n,r,i,o))}}function mb(t,e,n,r,i){let o=kn(),s=r&2;try{Kr(-1),s&&e.length>He&&lb(t,e,He,!1);let a=s?me.TemplateUpdateStart:me.TemplateCreateStart;Te(a,i,n),n(r,i)}finally{Kr(o);let a=s?me.TemplateUpdateEnd:me.TemplateCreateEnd;Te(a,i,n)}}function Id(t,e,n){OO(t,e,n),(n.flags&64)===64&&kO(t,e,n)}function wd(t,e,n=_n){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function AO(t,e,n,r){let o=r.get(JC,ZC)||n===wn.ShadowDom||n===wn.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,o);return RO(s),s}function RO(t){MO(t)}var MO=()=>null;function NO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function yb(t,e,n,r,i,o){let s=e[W];if(sy(t,s,e,n,r)){Wr(t)&&PO(e,t.index);return}t.type&3&&(n=NO(n)),xO(t,e,n,r,i,o)}function xO(t,e,n,r,i,o){if(t.type&3){let s=_n(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function PO(t,e){let n=an(e,t);n[J]&16||(n[J]|=64)}function OO(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Wr(n)&&lO(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||rd(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=Za(e,t,s,n);if(ss(u,e),o!==null&&UO(e,s-r,u,a,n,o),Pn(a)){let l=an(n.index,e);l[Be]=Za(e,t,s,n)}}}function kO(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=VD();try{Kr(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];jl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&FO(u,l)}}finally{Kr(-1),jl(s)}}function FO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function oy(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];nO(e,o.selectors,!1)&&(r??=[],Pn(o)?r.unshift(o):r.push(o))}return r}function LO(t,e,n,r,i,o){let s=_n(t,e);VO(e[Oe],s,o,t.value,n,r,i)}function VO(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?$r(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function UO(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Dm(r,n,u,l)}}function vb(t,e,n,r,i){let o=He+n,s=e[W],a=i(s,e,t,r,n);e[o]=a,ns(t,!0);let u=t.type===2;return u?(ob(e[Oe],a,t),(bD()===0||Xo(t))&&ss(a,e),TD()):ss(a,e),zl()&&(!u||!Km(t))&&ry(s,e,a,t),t}function _b(t){let e=t;return Wg()?xD():(e=e.parent,ns(e,!1)),e}function jO(t,e){let n=t[lr];if(!n)return;let r;try{r=n.get(En,null)}catch{r=null}r?.(e)}function sy(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Dm(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];Dm(h,l,r,i),a=!0}return a}function BO(t,e){let n=an(e,t),r=n[W];HO(r,n);let i=n[yn];i!==null&&n[Yo]===null&&(n[Yo]=XC(i,n[lr])),Te(me.ComponentStart);try{ay(r,n,n[Be])}finally{Te(me.ComponentEnd,n[Be])}}function HO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ay(t,e,n){Hl(e);try{let r=t.viewQuery;r!==null&&Im(1,r,n);let i=t.template;i!==null&&mb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Nn]?.finishViewCreation(t),t.staticContentQueries&&eb(t,e),t.staticViewQueries&&Im(2,t.viewQuery,n);let o=t.components;o!==null&&$O(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,$l()}}function $O(t,e){for(let n=0;n<e.length;n++)BO(t,e[n])}function Dd(t,e,n,r){let i=K(null);try{let o=e.tView,a=t[J]&4096?4096:16,u=Jm(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[zr]=l;let h=t[Nn];return h!==null&&(u[Nn]=h.createEmbeddedView(o)),ay(o,u,n),u}finally{K(i)}}function Ja(t,e){return!e||e.firstChild===null||qC(t)}function Xa(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(sn(o)),vn(o)&&Eb(o,r);let s=n.type;if(s&8)Xa(t,e,n.child,r);else if(s&32){let a=ey(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=gb(e,n);if(Array.isArray(a))r.push(...a);else{let u=Br(e[Bt]);Xa(u[W],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Eb(t,e){for(let n=Ue;n<t.length;n++){let r=t[n],i=r[W].firstChild;i!==null&&Xa(r[W],r,i,e)}t[Gr]!==t[yn]&&e.push(t[Gr])}function Ib(t){if(t[kl]!==null){for(let e of t[kl])e.impl.addSequence(e);t[kl].length=0}}var wb=[];function qO(t){return t[Ht]??zO(t)}function zO(t){let e=wb.pop()??Object.create(WO);return e.lView=t,e}function GO(t){t.lView[Ht]!==t&&(t.lView=null,wb.push(t))}var WO=ee(k({},Fo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{ts(t.lView)},consumerOnSignalRead(){this.lView[Ht]=this}});function KO(t){let e=t[Ht]??Object.create(QO);return e.lView=t,e}var QO=ee(k({},Fo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Br(t.lView);for(;e&&!Db(e[W]);)e=Br(e);e&&Hg(e)},consumerOnSignalRead(){this.lView[Ht]=this}});function Db(t){return t.type!==2}function Cb(t){if(t[jr]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[jr])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[J]&8192)}}var YO=100;function bb(t,e=0){let r=t[dr].rendererFactory,i=!1;i||r.begin?.();try{ZO(t,e)}finally{i||r.end?.()}}function ZO(t,e){let n=Kg();try{ka(!0),bm(t,e);let r=0;for(;qa(t);){if(r===YO)throw new B(103,!1);r++,bm(t,1)}}finally{ka(n)}}function JO(t,e,n,r){if(Qi(e))return;let i=e[J],o=!1,s=!1;Hl(e);let a=!0,u=null,l=null;o||(Db(t)?(l=qO(e),u=Lo(l)):Qu()===null?(a=!1,l=KO(e),u=Lo(l)):e[Ht]&&(xi(e[Ht]),e[Ht]=null));try{Bg(e),kD(t.bindingStartIndex),n!==null&&mb(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Ql(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Yl(e,y,0,null),om(e,0)}if(s||XO(e),Cb(e),Tb(e,0),t.contentQueries!==null&&eb(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Ql(e,y)}else{let y=t.contentHooks;y!==null&&Yl(e,y,1),om(e,1)}tk(t,e);let p=t.components;p!==null&&Ab(e,p,0);let g=t.viewQuery;if(g!==null&&Im(2,g,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Ql(e,y)}else{let y=t.viewHooks;y!==null&&Yl(e,y,2),om(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ol]){for(let y of e[Ol])y();e[Ol]=null}o||(Ib(e),e[J]&=-73)}catch(h){throw o||ts(e),h}finally{l!==null&&(Ca(l,u),a&&GO(l)),$l()}}function Tb(t,e){for(let n=GC(t);n!==null;n=WC(n))for(let r=Ue;r<n.length;r++){let i=n[r];Sb(i,e)}}function XO(t){for(let e=GC(t);e!==null;e=WC(e)){if(!(e[J]&2))continue;let n=e[Ki];for(let r=0;r<n.length;r++){let i=n[r];Hg(i)}}}function ek(t,e,n){Te(me.ComponentStart);let r=an(e,t);try{Sb(r,n)}finally{Te(me.ComponentEnd,r[Be])}}function Sb(t,e){Fl(t)&&bm(t,e)}function bm(t,e){let r=t[W],i=t[J],o=t[Ht],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ba(o)),s||=!1,o&&(o.dirty=!1),t[J]&=-9217,s)JO(r,t,r.template,t[Be]);else if(i&8192){let a=K(null);try{Cb(t),Tb(t,1);let u=r.components;u!==null&&Ab(t,u,1),Ib(t)}finally{K(a)}}}function Ab(t,e,n){for(let r=0;r<e.length;r++)ek(t,e[r],n)}function tk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Kr(~i);else{let o=i,s=n[++r],a=n[++r];LD(s,o);let u=e[o];Te(me.HostBindingsUpdateStart,u);try{a(2,u)}finally{Te(me.HostBindingsUpdateEnd,u)}}}}finally{Kr(-1)}}function cy(t,e){let n=Kg()?64:1088;for(t[dr].changeDetectionScheduler?.notify(e);t;){t[J]|=n;let r=Br(t);if(es(t)&&!r)return t;t=r}return null}function Rb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Mb(t,e){let n=Ue+e;if(n<t.length)return t[n]}function Cd(t,e,n,r=!0){let i=e[W];if(nk(i,e,t,n),r){let s=Cm(n,t),a=e[Oe],u=a.parentNode(t[Gr]);u!==null&&gO(i,t[on],a,e,u,s)}let o=e[Yo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Nb(t,e){let n=ec(t,e);return n!==void 0&&_d(n[W],n),n}function ec(t,e){if(t.length<=Ue)return;let n=Ue+e,r=t[n];if(r){let i=r[zr];i!==null&&i!==t&&ny(i,r),e>0&&(t[n-1][rn]=r[rn]);let o=Ua(t,Ue+e);pO(r[W],r);let s=o[Nn];s!==null&&s.detachView(o[W]),r[rt]=null,r[rn]=null,r[J]&=-129}return r}function nk(t,e,n,r){let i=Ue+r,o=n.length;r>0&&(n[i-1][rn]=e),r<o-Ue?(e[rn]=n[i],Ag(n,Ue+r,e)):(n.push(e),e[rn]=null),e[rt]=n;let s=e[zr];s!==null&&n!==s&&xb(s,e);let a=e[Nn];a!==null&&a.insertView(t),Ll(e),e[J]|=128}function xb(t,e){let n=t[Ki],r=e[rt];if(xn(r))t[J]|=2;else{let i=r[rt][Bt];e[Bt]!==i&&(t[J]|=2)}n===null?t[Ki]=[e]:n.push(e)}var Yr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[W];return Xa(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Be]}set context(e){this._lView[Be]=e}get destroyed(){return Qi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[rt];if(vn(e)){let n=e[Ha],r=n?n.indexOf(this):-1;r>-1&&(ec(e,r),Ua(n,r))}this._attachedToViewContainer=!1}_d(this._lView[W],this._lView)}onDestroy(e){$g(this._lView,e)}markForCheck(){cy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){Ll(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,bb(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=es(this._lView),n=this._lView[zr];n!==null&&!e&&ny(n,this._lView),pb(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=es(this._lView),r=this._lView[zr];r!==null&&!n&&xb(r,this._lView),Ll(this._lView)}};var Zr=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=rk;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Dd(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Yr(o)}}return t})();function rk(){return uy(Pt(),ae())}function uy(t,e){return t.type&4?new Zr(e,t,us(t,e)):null}function bd(t,e,n,r,i){let o=t.data[e];if(o===null)o=ik(t,e,n,r,i),FD()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=ND();o.injectorIndex=s===null?-1:s.injectorIndex}return ns(o,!0),o}function ik(t,e,n,r,i){let o=Gg(),s=Wg(),a=s?o:o&&o.parent,u=t.data[e]=sk(t,a,n,e,r,i);return ok(t,u,o,s),u}function ok(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function sk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return AD()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ak(t){let e=t[Fg]??[],r=t[rt][Oe],i=[];for(let o of e)o.data[YC]!==void 0?i.push(o):ck(o,r);t[Fg]=i}function ck(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[QC];for(;n<i;){let o=r.nextSibling;ib(e,r,!1),r=o,n++}}}var uk=()=>null,lk=()=>null;function Tm(t,e){return uk(t,e)}function Pb(t,e,n){return lk(t,e,n)}var Ob=class{},Td=class{},Sm=class{resolveComponentFactory(e){throw new B(917,!1)}},sc=class{static NULL=new Sm},eo=class{},ac=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>dk()}return t})();function dk(){let t=ae(),e=Pt(),n=an(e.index,t);return(xn(n)?n:t)[Oe]}var kb=(()=>{class t{static \u0275prov=Y({token:t,providedIn:"root",factory:()=>null})}return t})();var Jl={},Am=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Jl,r);return i!==Jl||n===Jl?i:this.parentInjector.get(e,n,r)}};function hC(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=mg(i,a);else if(o==2){let u=a,l=e[++s];r=mg(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ye(t,e=0){let n=ae();if(n===null)return oe(t,e);let r=Pt();return BC(r,n,ft(t),e)}function Fb(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}pk(t,e,n,a,o,u,l)}o!==null&&r!==null&&hk(n,r,o)}function hk(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}function fk(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function pk(t,e,n,r,i,o,s){let a=r.length,u=null;for(let g=0;g<a;g++){let y=r[g];u===null&&Pn(y)&&(u=y,fk(t,n,g)),vm(rd(n,e),t,y.type)}Ek(n,t.data.length,a),u?.viewProvidersResolver&&u.viewProvidersResolver(u);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=ub(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(n.mergedAttrs=Ya(n.mergedAttrs,y.hostAttrs),mk(t,n,e,p,y),_k(p,y,i),s!==null&&s.has(y)){let[R,A]=s.get(y);n.directiveToIndex.set(y.type,[p,R+n.directiveStart,A+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let C=y.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}gk(t,n,o)}function gk(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))fC(0,e,i,r),fC(1,e,i,r),gC(e,r,!1);else{let o=n.get(i);pC(0,e,o,r),pC(1,e,o,r),gC(e,r,!0)}}}function fC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Lb(e,o)}}function pC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Lb(e,s)}}function Lb(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function gC(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Ym(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function mk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ur(i.type,!0)),s=new Ji(o,Pn(i),ye,null);t.blueprint[r]=s,n[r]=s,yk(t,e,r,ub(t,n,i.hostVars,Ft),i)}function yk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;vk(s)!=a&&s.push(a),s.push(n,r,o)}}function vk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function _k(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Pn(e)&&(n[""]=t)}}function Ek(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ly(t,e,n,r,i,o,s,a){let u=e[W],l=u.consts,h=On(l,s),p=bd(u,t,n,r,h);return o&&Fb(u,e,p,On(l,a),i),p.mergedAttrs=Ya(p.mergedAttrs,p.attrs),p.attrs!==null&&hC(p,p.attrs,!1),p.mergedAttrs!==null&&hC(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function dy(t,e){PC(t,e),Lg(e)&&t.queries.elementEnd(e)}function Ik(t,e,n){return t[e]=n}function Un(t,e,n){if(n===Ft)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function hy(t,e,n,r){let i=Un(t,e,n);return Un(t,e+1,r)||i}function wk(t,e,n,r,i){let o=hy(t,e,n,r);return Un(t,e+2,i)||o}function cm(t,e,n){return function r(i){let o=Wr(t)?an(t.index,e):e;cy(o,5);let s=e[Be],a=mC(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=mC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function mC(t,e,n,r){let i=K(null);try{return Te(me.OutputStart,e,n),n(r)!==!1}catch(o){return jO(t,o),!1}finally{Te(me.OutputEnd,e,n),K(i)}}function Dk(t,e,n,r,i,o,s,a){let u=Xo(t),l=!1,h=null;if(!r&&u&&(h=bk(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=_n(t,n),g=r?r(p):p;jP(n,g,o,a);let y=i.listen(g,o,a);if(!Ck(o)){let C=r?R=>r(sn(R[t.index])):t.index;Vb(C,e,n,o,a,y,!1)}}return l}function Ck(t){return t.startsWith("animation")||t.startsWith("transition")}function bk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Zo],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function Vb(t,e,n,r,i,o,s){let a=e.firstCreatePass?zg(e):null,u=qg(n),l=u.length;u.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function yC(t,e,n,r,i,o){let s=e[n],a=e[W],l=a.data[n].outputs[r],p=s[l].subscribe(o);Vb(t.index,a,e,i,o,p,!0)}var Rm=Symbol("BINDING");var sd=class extends sc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Hr(e);return new as(n,this.ngModule)}};function Tk(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&vd.SignalBased)!==0};return i&&(o.transform=i),o})}function Sk(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function Ak(t,e,n){let r=e instanceof nt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Am(n,r):n}function Rk(t){let e=t.get(eo,null);if(e===null)throw new B(407,!1);let n=t.get(kb,null),r=t.get(Bi,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function Mk(t,e){let n=Ub(t);return nb(e,n,n==="svg"?vD:n==="math"?_D:null)}function Ub(t){return(t.selectors[0][0]||"div").toLowerCase()}var as=class extends Td{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Tk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Sk(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=sO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){Te(me.DynamicComponentStart);let a=K(null);try{let u=this.componentDef,l=Nk(r,u,s,o),h=Ak(u,i||this.ngModule,e),p=Rk(h),g=p.rendererFactory.createRenderer(null,u),y=r?AO(g,r,u.encapsulation,h):Mk(u,g),C=s?.some(vC)||o?.some(L=>typeof L!="function"&&L.bindings.some(vC)),R=Jm(null,l,null,512|cb(u),null,null,p,g,h,null,XC(y,h,!0));R[He]=y,Hl(R);let A=null;try{let L=ly(He,R,2,"#host",()=>l.directiveRegistry,!0,0);ob(g,y,L),ss(y,R),Id(l,R,L),Qm(l,L,R),dy(l,L),n!==void 0&&Pk(L,this.ngContentSelectors,n),A=an(L.index,R),R[Be]=A[Be],ay(l,R,null)}catch(L){throw A!==null&&Em(A),Em(R),L}finally{Te(me.DynamicComponentEnd),$l()}return new ad(this.componentType,R,!!C)}finally{K(a)}}};function Nk(t,e,n,r){let i=t?["ng-version","21.1.2"]:aO(e.selectors[0]),o=null,s=null,a=0;if(n)for(let h of n)a+=h[Rm].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[Rm].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=bg(p);u.push(g)}return Zm(0,null,xk(o,s),1,a,u,null,null,null,[i],null)}function xk(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function vC(t){let e=t[Rm].kind;return e==="input"||e==="twoWay"}var ad=class extends Ob{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=$a(n[W],He),this.location=us(this._tNode,n),this.instance=an(this._tNode.index,n)[Be],this.hostView=this.changeDetectorRef=new Yr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=sy(r,i[W],i,e,n);this.previousInputValues.set(e,n);let s=an(r.index,i);cy(s,1)}get injector(){return new Zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Pk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var pr=(()=>{class t{static __NG_ELEMENT_ID__=Ok}return t})();function Ok(){let t=Pt();return Bb(t,ae())}var kk=pr,jb=class extends kk{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return us(this._hostTNode,this._hostLView)}get injector(){return new Zi(this._hostTNode,this._hostLView)}get parentInjector(){let e=zm(this._hostTNode,this._hostLView);if(kC(e)){let n=td(e,this._hostLView),r=ed(e),i=n[W].data[r+8];return new Zi(i,n)}else return new Zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=_C(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ue}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Tm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Ja(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let u=e&&!hP(e),l;if(u)l=n;else{let A=n||{};l=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef,s=A.directives,a=A.bindings}let h=u?e:new as(Hr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let L=(u?p:this.parentInjector).get(nt,null);L&&(o=L)}let g=Hr(h.componentType??{}),y=Tm(this._lContainer,g?.id??null),C=y?.firstChild??null,R=h.create(p,i,C,o,s,a);return this.insertImpl(R.hostView,l,Ja(this._hostTNode,y)),R}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(ID(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[rt],l=new jb(u,u[on],u[rt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Cd(s,i,o,r),e.attachToViewContainerRef(),Ag(um(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=_C(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ec(this._lContainer,n);r&&(Ua(um(this._lContainer),n),_d(r[W],r))}detach(e){let n=this._adjustIndex(e,-1),r=ec(this._lContainer,n);return r&&Ua(um(this._lContainer),n)!=null?new Yr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function _C(t){return t[Ha]}function um(t){return t[Ha]||(t[Ha]=[])}function Bb(t,e){let n,r=e[t.index];return vn(r)?n=r:(n=Rb(r,e,null,t),e[t.index]=n,Xm(e,n)),Lk(n,e,t,r),new jb(n,t,e)}function Fk(t,e){let n=t[Oe],r=n.createComment(""),i=_n(e,t),o=n.parentNode(i);return od(n,o,r,n.nextSibling(i),!1),r}var Lk=jk,Vk=()=>!1;function Uk(t,e,n){return Vk(t,e,n)}function jk(t,e,n,r){if(t[Gr])return;let i;n.type&8?i=sn(r):i=Fk(e,n),t[Gr]=i}var Mm=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Nm=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)fy(e,n).matches!==null&&this.queries[n].setDirty()}},xm=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Kk(e):this.predicate=e}},Pm=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Om=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,Bk(n,o)),this.matchTNodeWithReadOption(e,n,Zl(n,e,o,!1,!1))}else r===Zr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Zl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===fr||i===pr||i===Zr&&n.type&4)this.addMatch(n.index,-2);else{let o=Zl(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Bk(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Hk(t,e){return t.type&11?us(t,e):t.type&4?uy(t,e):null}function $k(t,e,n,r){return n===-1?Hk(e,t):n===-2?qk(t,e,r):Za(t,t[W],n,e)}function qk(t,e,n){if(n===fr)return us(e,t);if(n===Zr)return uy(e,t);if(n===pr)return Bb(e,t)}function Hb(t,e,n,r){let i=e[Nn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push($k(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function km(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Hb(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Ue;p<h.length;p++){let g=h[p];g[zr]===g[rt]&&km(g[W],g,l,r)}if(h[Ki]!==null){let p=h[Ki];for(let g=0;g<p.length;g++){let y=p[g];km(y[W],y,l,r)}}}}}return r}function zk(t,e){return t[Nn].queries[e].queryList}function Gk(t,e,n){let r=new id((n&4)===4);return CD(t,e,r,r.destroy),(e[Nn]??=new Nm).queries.push(new Mm(r))-1}function Wk(t,e,n){let r=Ke();return r.firstCreatePass&&(Qk(r,new xm(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),Gk(r,ae(),e)}function Kk(t){return t.split(",").map(e=>e.trim())}function Qk(t,e,n){t.queries===null&&(t.queries=new Pm),t.queries.track(new Om(e,n))}function fy(t,e){return t.queries.getByIndex(e)}function Yk(t,e){let n=t[W],r=fy(n,e);return r.crossesNgTemplate?km(n,t,e,[]):Hb(n,t,r,e)}var to=class{},Sd=class{};var cd=class extends to{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new sd(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Cg(e);this._bootstrapComponents=sb(o.bootstrap),this._r3Injector=Xg(e,n,[{provide:to,useValue:this},{provide:sc,useValue:this.componentFactoryResolver},...r],ar(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ud=class extends Sd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new cd(this.moduleType,e,[])}};var tc=class extends to{injector;componentFactoryResolver=new sd(this);instance=null;constructor(e){super();let n=new ji([...e.providers,{provide:to,useValue:this},{provide:sc,useValue:this.componentFactoryResolver}],e.parent||Ba(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function cc(t,e,n=null){return new tc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Zk=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Ng(!1,n.type),i=r.length>0?cc([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Y({token:t,providedIn:"environment",factory:()=>new t(oe(nt))})}return t})();function uc(t){return rc(()=>{let e=$b(t),n=ee(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Gm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Zk).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||wn.Emulated,styles:t.styles||Ut,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&io("NgStandalone"),qb(n);let r=t.dependencies;return n.directiveDefs=EC(r,Jk),n.pipeDefs=EC(r,rD),n.id=tF(n),n})}function Jk(t){return Hr(t)||bg(t)}function Jr(t){return rc(()=>({type:t.type,bootstrap:t.bootstrap||Ut,declarations:t.declarations||Ut,imports:t.imports||Ut,exports:t.exports||Ut,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Xk(t,e){if(t==null)return qr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=vd.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function eF(t){if(t==null)return qr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function $e(t){return rc(()=>{let e=$b(t);return qb(e),e})}function py(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function $b(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||qr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ut,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Xk(t.inputs,e),outputs:eF(t.outputs),debugInfo:null}}function qb(t){t.features?.forEach(e=>e(t))}function EC(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function tF(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function nF(t){return Object.getPrototypeOf(t.prototype).constructor}function $t(t){let e=nF(t.type),n=!0,r=[t];for(;e;){let i;if(Pn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=lm(t.inputs),s.declaredInputs=lm(t.declaredInputs),s.outputs=lm(t.outputs);let a=i.hostBindings;a&&aF(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&oF(t,u),l&&sF(t,l),rF(t,i),nD(t.outputs,i.outputs),Pn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===$t&&(n=!1)}}e=Object.getPrototypeOf(e)}iF(r)}function rF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function iF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ya(i.hostAttrs,n=Ya(n,i.hostAttrs))}}function lm(t){return t===qr?{}:t===Ut?[]:t}function oF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function sF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function aF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function zb(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=Ya(t.mergedAttrs,t.attrs);let h=t.tView=Zm(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),ns(t,!1);let u=uF(n,e,t,r);zl()&&ry(n,e,u,t),ss(u,e);let l=Rb(u,e,u,t);e[r+He]=l,Xm(e,l),Uk(l,t,e)}function cF(t,e,n,r,i,o,s,a,u,l,h){let p=n+He,g;return e.firstCreatePass?(g=bd(e,p,4,s||null,a||null),Vl()&&Fb(e,t,g,On(e.consts,l),oy),PC(e,g)):g=e.data[p],zb(g,t,e,n,r,i,o,u),Xo(g)&&Id(e,t,g),l!=null&&wd(t,g,h),g}function ld(t,e,n,r,i,o,s,a,u,l,h){let p=n+He,g;if(e.firstCreatePass){if(g=bd(e,p,4,s||null,a||null),l!=null){let y=On(e.consts,l);g.localNames=[];for(let C=0;C<y.length;C+=2)g.localNames.push(y[C],-1)}}else g=e.data[p];return zb(g,t,e,n,r,i,o,u),l!=null&&wd(t,g,h),g}function lc(t,e,n,r,i,o,s,a){let u=ae(),l=Ke(),h=On(l.consts,o);return cF(u,l,t,e,n,r,i,h,void 0,s,a),lc}var uF=lF;function lF(t,e,n,r){return za(!0),e[Oe].createComment("")}var gy=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Gb(t){return typeof t=="function"&&t[Mt]!==void 0}function my(t){return Gb(t)&&typeof t.set=="function"}var yy=new $("");function Xr(t){return!!t&&typeof t.then=="function"}function vy(t){return!!t&&typeof t.subscribe=="function"}var Wb=new $("");var _y=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=P(Wb,{optional:!0})??[];injector=P(tn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=wt(this.injector,i);if(Xr(o))n.push(o);else if(vy(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ad=new $("");function Kb(){Lp(()=>{let t="";throw new B(600,t)})}function Qb(t){return t.isBoundToModule}var dF=10;var oo=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(En);afterRenderManager=P(db);zonelessEnabled=P(Ga);rootEffectScheduler=P(Wl);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new tt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=P(Qr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Pe(n=>!n))}constructor(){P(oc,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=P(nt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=tn.NULL){return this._injector.get(jt).run(()=>{Te(me.BootstrapComponentStart);let s=n instanceof Td;if(!this._injector.get(_y).done){let C="";throw new B(405,C)}let u;s?u=n:u=this._injector.get(sc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=Qb(u)?void 0:this._injector.get(to),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(yy,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Qa(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),Te(me.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Te(me.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(ty.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Te(me.ChangeDetectionEnd),new B(101,!1);let n=K(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,K(n),this.afterTick.next(),Te(me.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(eo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<dF;){Te(me.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Te(me.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!qa(i))continue;let o=r&&!this.zonelessEnabled?0:1;bb(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>qa(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Qa(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Ad,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Qa(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new B(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Qa(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ei(t,e,n,r){let i=ae(),o=Yi();if(Un(i,o,e)){let s=Ke(),a=ql();LO(a,i,t,e,n,r)}return ei}var sG=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Fm=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function dm(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function hF(t,e,n,r){let i,o,s=0,a=t.length-1,u=void 0;if(Array.isArray(e)){K(r);let l=e.length-1;for(K(null);s<=a&&s<=l;){let h=t.at(s),p=e[s],g=dm(s,h,s,p,n);if(g!==0){g<0&&t.updateValue(s,p),s++;continue}let y=t.at(a),C=e[l],R=dm(a,y,l,C,n);if(R!==0){R<0&&t.updateValue(a,C),a--,l--;continue}let A=n(s,h),L=n(a,y),q=n(s,p);if(Object.is(q,L)){let Z=n(l,C);Object.is(Z,A)?(t.swap(s,a),t.updateValue(a,C),l--,a--):t.move(a,s),t.updateValue(s,p),s++;continue}if(i??=new dd,o??=wC(t,s,a,n),Lm(t,i,s,q))t.updateValue(s,p),s++,a++;else if(o.has(q))i.set(A,t.detach(s)),a--;else{let Z=t.create(s,e[s]);t.attach(s,Z),s++,a++}}for(;s<=l;)IC(t,i,n,s,e[s]),s++}else if(e!=null){K(r);let l=e[Symbol.iterator]();K(null);let h=l.next();for(;!h.done&&s<=a;){let p=t.at(s),g=h.value,y=dm(s,p,s,g,n);if(y!==0)y<0&&t.updateValue(s,g),s++,h=l.next();else{i??=new dd,o??=wC(t,s,a,n);let C=n(s,g);if(Lm(t,i,s,C))t.updateValue(s,g),s++,a++,h=l.next();else if(!o.has(C))t.attach(s,t.create(s,g)),s++,a++,h=l.next();else{let R=n(s,p);i.set(R,t.detach(s)),a--}}}for(;!h.done;)IC(t,i,n,t.length,h.value),h=l.next()}for(;s<=a;)t.destroy(t.detach(a--));i?.forEach(l=>{t.destroy(l)})}function Lm(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function IC(t,e,n,r,i){if(Lm(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function wC(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var dd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function qt(t,e,n,r,i,o,s,a){io("NgControlFlow");let u=ae(),l=Ke(),h=On(l.consts,o);return ld(u,l,t,e,n,r,i,h,256,s,a),Ey}function Ey(t,e,n,r,i,o,s,a){io("NgControlFlow");let u=ae(),l=Ke(),h=On(l.consts,o);return ld(u,l,t,e,n,r,i,h,512,s,a),Ey}function zt(t,e){io("NgControlFlow");let n=ae(),r=Yi(),i=n[r]!==Ft?n[r]:-1,o=i!==-1?hd(n,He+i):void 0,s=0;if(Un(n,r,t)){let a=K(null);try{if(o!==void 0&&Nb(o,s),t!==-1){let u=He+t,l=hd(n,u),h=Bm(n[W],u),p=Pb(l,h,n),g=Dd(n,h,e,{dehydratedView:p});Cd(l,g,s,Ja(h,p))}}finally{K(a)}}else if(o!==void 0){let a=Mb(o,s);a!==void 0&&(a[Be]=e)}}var Vm=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ue}};var Um=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function ls(t,e,n,r,i,o,s,a,u,l,h,p,g){io("NgControlFlow");let y=ae(),C=Ke(),R=u!==void 0,A=ae(),L=a?s.bind(A[Bt][Be]):s,q=new Um(R,L);A[He+t]=q,ld(y,C,t+1,e,n,r,i,On(C.consts,o),256),R&&ld(y,C,t+2,u,l,h,p,On(C.consts,g),512)}var jm=class extends Fm{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Ue}at(e){return this.getLView(e)[Be].$implicit}attach(e,n){let r=n[Yo];this.needsIndexUpdate||=e!==this.length,Cd(this.lContainer,n,e,Ja(this.templateTNode,r)),fF(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,pF(this.lContainer,e),gF(this.lContainer,e)}create(e,n){let r=Tm(this.lContainer,this.templateTNode.tView.ssrId);return Dd(this.hostLView,this.templateTNode,new Vm(this.lContainer,n,e),{dehydratedView:r})}destroy(e){_d(e[W],e)}updateValue(e,n){this.getLView(e)[Be].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Be].$index=e}getLView(e){return mF(this.lContainer,e)}};function ds(t){let e=K(null),n=kn();try{let r=ae(),i=r[W],o=r[n],s=n+1,a=hd(r,s);if(o.liveCollection===void 0){let l=Bm(i,s);o.liveCollection=new jm(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(hF(u,t,o.trackByFn,e),u.updateIndexes(),o.hasEmptyBlock){let l=Yi(),h=u.length===0;if(Un(r,l,h)){let p=n+2,g=hd(r,p);if(h){let y=Bm(i,p),C=Pb(g,y,r),R=Dd(r,y,void 0,{dehydratedView:C});Cd(g,R,0,Ja(y,C))}else i.firstUpdatePass&&ak(g),Nb(g,0)}}}finally{K(e)}}function hd(t,e){return t[e]}function fF(t,e){if(t.length<=Ue)return;let n=Ue+e,r=t[n],i=r?r[Wi]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[lr];hO(o,i),Xi.delete(r[hr]),i.detachedLeaveAnimationFns=void 0}}function pF(t,e){if(t.length<=Ue)return;let n=Ue+e,r=t[n],i=r?r[Wi]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function gF(t,e){return ec(t,e)}function mF(t,e){return Mb(t,e)}function Bm(t,e){return $a(t,e)}function pt(t,e,n){let r=ae(),i=Yi();if(Un(r,i,e)){let o=Ke(),s=ql();yb(s,r,t,e,r[Oe],n)}return pt}function DC(t,e,n,r,i){sy(e,t,n,i?"class":"style",r)}function x(t,e,n,r){let i=ae(),o=i[W],s=t+He,a=o.firstCreatePass?ly(s,i,2,e,oy,Vl(),n,r):o.data[s];if(vb(a,i,t,e,yF),Xo(a)){let u=i[W];Id(u,i,a),Qm(u,a,i)}return r!=null&&wd(i,a),x}function O(){let t=Ke(),e=Pt(),n=_b(e);return t.firstCreatePass&&dy(t,n),RD(n)&&MD(),SD(),n.classesWithoutHost!=null&&vP(n)&&DC(t,n,ae(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&_P(n)&&DC(t,n,ae(),n.stylesWithoutHost,!1),O}function ti(t,e,n,r){return x(t,e,n,r),O(),ti}var yF=(t,e,n,r,i)=>(za(!0),nb(e[Oe],r,qD()));function so(t,e,n){let r=ae(),i=r[W],o=t+He,s=i.firstCreatePass?ly(o,r,8,"ng-container",oy,Vl(),e,n):i.data[o];if(vb(s,r,t,"ng-container",vF),Xo(s)){let a=r[W];Id(a,r,s),Qm(a,s,r)}return n!=null&&wd(r,s),so}function ao(){let t=Ke(),e=Pt(),n=_b(e);return t.firstCreatePass&&dy(t,n),ao}var vF=(t,e,n,r,i)=>(za(!0),KP(e[Oe],""));function Gt(){return ae()}var Wa=void 0;function _F(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var EF=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Wa,Wa,Wa],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",_F],hm={};function Wt(t){let e=IF(t),n=CC(e);if(n)return n;let r=e.split("-")[0];if(n=CC(r),n)return n;if(r==="en")return EF;throw new B(701,!1)}function CC(t){return t in hm||(hm[t]=Hi.ng&&Hi.ng.common&&Hi.ng.common.locales&&Hi.ng.common.locales[t]),hm[t]}var qe=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(qe||{});function IF(t){return t.toLowerCase().replace(/_/g,"-")}var dc="en-US";var wF=dc;function Yb(t){typeof t=="string"&&(wF=t.toLowerCase().replace(/_/g,"-"))}function Se(t,e,n){let r=ae(),i=Ke(),o=Pt();return Zb(i,r,r[Oe],o,t,e,n),Se}function Zb(t,e,n,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=cm(r,e,o),Dk(r,t,e,s,n,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];u??=cm(r,e,o),yC(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=cm(r,e,o),yC(r,e,p,i,i,u)}}function ie(t=1){return $D(t)}function Rd(t,e,n){return Wk(t,e,n),Rd}function Iy(t){let e=ae(),n=Ke(),r=Yg();Bl(r+1);let i=fy(n,r);if(t.dirty&&ED(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=Yk(e,r);t.reset(o,xP),t.notifyOnChanges()}return!0}return!1}function wy(){return zk(ae(),Yg())}function Dy(t){let e=PD();return Ug(e,He+t)}function Kl(t,e){return t<<17|e<<2}function no(t){return t>>17&32767}function DF(t){return(t&2)==2}function CF(t,e){return t&131071|e<<17}function Hm(t){return t|2}function cs(t){return(t&131068)>>2}function fm(t,e){return t&-131069|e<<2}function bF(t){return(t&1)===1}function $m(t){return t|1}function TF(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=no(s),u=cs(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Ko(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=no(t[a+1]);t[r+1]=Kl(g,a),g!==0&&(t[g+1]=fm(t[g+1],r)),t[a+1]=CF(t[a+1],r)}else t[r+1]=Kl(a,0),a!==0&&(t[a+1]=fm(t[a+1],r)),a=r;else t[r+1]=Kl(u,0),a===0?a=r:t[u+1]=fm(t[u+1],r),u=r;l&&(t[r+1]=Hm(t[r+1])),bC(t,h,r,!0),bC(t,h,r,!1),SF(e,h,t,r,o),s=Kl(a,u),o?e.classBindings=s:e.styleBindings=s}function SF(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ko(o,e)>=0&&(n[r+1]=$m(n[r+1]))}function bC(t,e,n,r){let i=t[n+1],o=e===null,s=r?no(i):cs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];AF(u,e)&&(a=!0,t[s+1]=r?$m(l):Hm(l)),s=r?no(l):cs(l)}a&&(t[n+1]=r?Hm(i):$m(i))}function AF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ko(t,e)>=0:!1}function Md(t,e,n){return Jb(t,e,n,!1),Md}function Kt(t,e){return Jb(t,e,null,!0),Kt}function Jb(t,e,n,r){let i=ae(),o=Ke(),s=Ul(2);if(o.firstUpdatePass&&MF(o,t,s,r),e!==Ft&&Un(i,s,e)){let a=o.data[kn()];kF(o,a,i,i[Oe],t,i[s+1]=FF(e,n),r,s)}}function RF(t,e){return e>=t.expandoStartIndex}function MF(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[kn()],s=RF(t,n);LF(o,r)&&e===null&&!s&&(e=!1),e=NF(i,o,e,r),TF(i,o,e,n,s,r)}}function NF(t,e,n,r){let i=UD(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=pm(null,t,e,n,r),n=nc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=pm(i,t,e,n,r),o===null){let u=xF(t,e,r);u!==void 0&&Array.isArray(u)&&(u=pm(null,t,e,u[1],r),u=nc(u,e.attrs,r),PF(t,e,r,u))}else o=OF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function xF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(cs(r)!==0)return t[no(r)]}function PF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[no(i)]=r}function OF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=nc(r,s,n)}return nc(r,e.attrs,n)}function pm(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=nc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function nc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),lD(t,s,n?!0:e[++o]))}return t===void 0?null:t}function kF(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=bF(l)?TC(u,e,n,i,cs(l),s):void 0;if(!fd(h)){fd(o)||DF(l)&&(o=TC(u,null,n,i,a,s));let p=Vg(kn(),n);SO(r,s,p,i,o)}}function TC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===Ft&&(g=p?Ut:void 0);let y=p?Pl(g,r):h===r?g:void 0;if(l&&!fd(y)&&(y=Pl(u,r)),fd(y)&&(a=y,s))return a;let C=t[i+1];i=s?no(C):cs(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Pl(u,r))}return a}function fd(t){return t!==void 0}function FF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ar(tb(t)))),t}function LF(t,e){return(t.flags&(e?8:16))!==0}function V(t,e=""){let n=ae(),r=Ke(),i=t+He,o=r.firstCreatePass?bd(r,i,1,e,null):r.data[i],s=VF(r,n,o,e);n[i]=s,zl()&&ry(r,n,s,o),ns(o,!1)}var VF=(t,e,n,r)=>(za(!0),GP(e[Oe],r));function UF(t,e,n,r=""){return Un(t,Yi(),n)?e+$r(n)+r:Ft}function jF(t,e,n,r,i,o=""){let s=Qg(),a=hy(t,s,n,i);return Ul(2),a?e+$r(n)+r+$r(i)+o:Ft}function BF(t,e,n,r,i,o,s,a=""){let u=Qg(),l=wk(t,u,n,i,s);return Ul(3),l?e+$r(n)+r+$r(i)+o+$r(s)+a:Ft}function Dt(t){return gr("",t),Dt}function gr(t,e,n){let r=ae(),i=UF(r,t,e,n);return i!==Ft&&Cy(r,kn(),i),gr}function co(t,e,n,r,i){let o=ae(),s=jF(o,t,e,n,r,i);return s!==Ft&&Cy(o,kn(),s),co}function Nd(t,e,n,r,i,o,s){let a=ae(),u=BF(a,t,e,n,r,i,o,s);return u!==Ft&&Cy(a,kn(),u),Nd}function Cy(t,e,n){let r=Vg(e,t);WP(t[Oe],r,n)}function hc(t,e,n){my(e)&&(e=e());let r=ae(),i=Yi();if(Un(r,i,e)){let o=Ke(),s=ql();yb(s,r,t,e,r[Oe],n)}return hc}function xd(t,e){let n=my(t);return n&&t.set(e),n}function fc(t,e){let n=ae(),r=Ke(),i=Pt();return Zb(r,n,n[Oe],i,t,e),fc}function SC(t,e,n){let r=Ke();r.firstCreatePass&&Xb(e,r.data,r.blueprint,Pn(t),n)}function Xb(t,e,n,r,i){if(t=ft(t),Array.isArray(t))for(let o=0;o<t.length;o++)Xb(t[o],e,n,r,i);else{let o=Ke(),s=ae(),a=Pt(),u=Ui(t)?t:ft(t.provide),l=Pg(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Ui(t)||!t.multi){let y=new Ji(l,i,ye,null),C=mm(u,e,i?h:h+g,p);C===-1?(vm(rd(a,s),o,u),gm(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[C]=y,s[C]=y)}else{let y=mm(u,e,h+g,p),C=mm(u,e,h,h+g),R=y>=0&&n[y],A=C>=0&&n[C];if(i&&!A||!i&&!R){vm(rd(a,s),o,u);let L=qF(i?$F:HF,n.length,i,r,l,t);!i&&A&&(n[C].providerFactory=L),gm(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(L),s.push(L)}else{let L=eT(n[i?C:y],l,!i&&r);gm(o,t,y>-1?y:C,L)}!i&&r&&A&&n[C].componentProviders++}}}function gm(t,e,n,r){let i=Ui(e),o=gD(e);if(i||o){let u=(o?ft(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function eT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function mm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function HF(t,e,n,r,i){return qm(this.multi,[])}function $F(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Za(r,r[W],this.providerFactory.index,i);s=u.slice(0,a),qm(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],qm(o,s);return s}function qm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function qF(t,e,n,r,i,o){let s=new Ji(t,n,ye,null);return s.multi=[],s.index=e,s.componentProviders=0,eT(s,i,r&&!n),s}function mr(t,e){return n=>{n.providersResolver=(r,i)=>SC(r,i?i(t):t,!1),e&&(n.viewProvidersResolver=(r,i)=>SC(r,i?i(e):e,!0))}}function zF(t,e){let n=t[e];return n===Ft?void 0:n}function GF(t,e,n,r,i,o,s){let a=e+n;return hy(t,a,i,o)?Ik(t,a+2,s?r.call(s,i,o):r(i,o)):zF(t,a+2)}function by(t,e){let n=Ke(),r,i=t+He;n.firstCreatePass?(r=WF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Ur(r.type,!0)),s,a=xt(ye);try{let u=nd(!1),l=o();return nd(u),jg(n,ae(),i,l),l}finally{xt(a)}}function WF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Ty(t,e,n,r){let i=t+He,o=ae(),s=Ug(o,i);return KF(o,i)?GF(o,OD(),e,s.transform,n,r,s):s.transform(n,r)}function KF(t,e){return t[W].data[e].pure}var pd=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Sy=(()=>{class t{compileModuleSync(n){return new ud(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Cg(n),o=sb(i.declarations).reduce((s,a)=>{let u=Hr(a);return u&&s.push(new as(u)),s},[]);return new pd(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var tT=(()=>{class t{applicationErrorHandler=P(En);appRef=P(oo);taskService=P(Qr);ngZone=P(jt);zonelessEnabled=P(Ga);tracing=P(oc,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new lt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Fa):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(im,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?KD:em;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Fa+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nT(){return[{provide:Bi,useExisting:tT},{provide:jt,useClass:La},{provide:Ga,useValue:!0}]}function QF(){return typeof $localize<"u"&&$localize.locale||dc}var pc=new $("",{factory:()=>P(pc,{optional:!0,skipSelf:!0})||QF()});function Qt(t,e){return Yu(t,e?.equal)}var iT=Symbol("InputSignalNode#UNSET"),hL=ee(k({},Zu),{transformFn:void 0,applyValueToInputSignal(t,e){Ta(t,e)}});function oT(t,e){let n=Object.create(hL);n.value=t,n.transformFn=e?.transform;function r(){if(Da(n),n.value===iT){let i=null;throw new B(-950,i)}return n.value}return r[Mt]=n,r}function rT(t,e){return oT(t,e)}function fL(t){return oT(iT,t)}var sT=(rT.required=fL,rT);var Ay=new $(""),pL=new $("");function gc(t){return!t.moduleRef}function gL(t){let e=gc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(jt);return n.run(()=>{gc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(En),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),gc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Ay);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Ay);s.add(o),t.moduleRef.onDestroy(()=>{Qa(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return yL(r,n,()=>{let o=e.get(Qr),s=o.add(),a=e.get(_y);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(pc,dc);if(Yb(u||dc),!e.get(pL,!0))return gc(t)?e.get(oo):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(gc(t)){let h=e.get(oo);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return mL?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>{o.remove(s)})})})}var mL;function yL(t,e,n){try{let r=n();return Xr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Pd=null;function vL(t=[],e){return tn.create({name:e,providers:[{provide:ja,useValue:"platform"},{provide:Ay,useValue:new Set([()=>Pd=null])},...t]})}function _L(t=[]){if(Pd)return Pd;let e=vL(t);return Pd=e,Kb(),EL(e),e}function EL(t){let e=t.get(md,null);wt(t,()=>{e?.forEach(n=>n())})}var IL=1e4;var MZ=IL-1e3;var mc=(()=>{class t{static __NG_ELEMENT_ID__=wL}return t})();function wL(t){return DL(Pt(),ae(),(t&16)===16)}function DL(t,e,n){if(Wr(t)&&!n){let r=an(t.index,e);return new Yr(r,r)}else if(t.type&175){let r=e[Bt];return new Yr(r,e)}return null}function aT(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Te(me.BootstrapApplicationStart);try{let o=i?.injector??_L(r),s=[nT(),YD,...n||[]],a=new tc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return gL({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Te(me.BootstrapApplicationEnd)}}function Od(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var cT=null;function cn(){return cT}function My(t){cT??=t}var yc=class{},kd=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:()=>P(uT),providedIn:"platform"})}return t})();var uT=(()=>{class t extends kd{_location;_history;_doc=P(it);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cn().getBaseHref(this._doc)}onPopState(n){let r=cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function hT(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function lT(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function ni(t){return t&&t[0]!=="?"?`?${t}`:t}var Fd=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:()=>P(bL),providedIn:"root"})}return t})(),CL=new $(""),bL=(()=>{class t extends Fd{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(it).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return hT(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ni(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ni(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ni(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(oe(kd),oe(CL,8))};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hs=(()=>{class t{_subject=new tt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=AL(lT(dT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ni(r))}normalize(n){return t.stripTrailingSlash(SL(this._basePath,dT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ni(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ni(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ni;static joinWithSlash=hT;static stripTrailingSlash=lT;static \u0275fac=function(r){return new(r||t)(oe(Fd))};static \u0275prov=Y({token:t,factory:()=>TL(),providedIn:"root"})}return t})();function TL(){return new hs(oe(Fd))}function SL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function dT(t){return t.replace(/\/index.html$/,"")}function AL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Ct=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(Ct||{}),Ae=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(Ae||{}),Lt=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(Lt||{}),vr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function gT(t){return Wt(t)[qe.LocaleId]}function mT(t,e,n){let r=Wt(t),i=[r[qe.DayPeriodsFormat],r[qe.DayPeriodsStandalone]],o=un(i,e);return un(o,n)}function yT(t,e,n){let r=Wt(t),i=[r[qe.DaysFormat],r[qe.DaysStandalone]],o=un(i,e);return un(o,n)}function vT(t,e,n){let r=Wt(t),i=[r[qe.MonthsFormat],r[qe.MonthsStandalone]],o=un(i,e);return un(o,n)}function _T(t,e){let r=Wt(t)[qe.Eras];return un(r,e)}function vc(t,e){let n=Wt(t);return un(n[qe.DateFormat],e)}function _c(t,e){let n=Wt(t);return un(n[qe.TimeFormat],e)}function Ec(t,e){let r=Wt(t)[qe.DateTimeFormat];return un(r,e)}function Ic(t,e){let n=Wt(t),r=n[qe.NumberSymbols][e];if(typeof r>"u"){if(e===vr.CurrencyDecimal)return n[qe.NumberSymbols][vr.Decimal];if(e===vr.CurrencyGroup)return n[qe.NumberSymbols][vr.Group]}return r}function ET(t){if(!t[qe.ExtraData])throw new B(2303,!1)}function IT(t){let e=Wt(t);return ET(e),(e[qe.ExtraData][2]||[]).map(r=>typeof r=="string"?Ny(r):[Ny(r[0]),Ny(r[1])])}function wT(t,e,n){let r=Wt(t);ET(r);let i=[r[qe.ExtraData][0],r[qe.ExtraData][1]],o=un(i,e)||[];return un(o,n)||[]}function un(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new B(2304,!1)}function Ny(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var RL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ld={},ML=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function DT(t,e,n,r){let i=UL(t);e=yr(n,e)||e;let s=[],a;for(;e;)if(a=ML.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=bT(r,u),i=VL(i,r));let l="";return s.forEach(h=>{let p=FL(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Hd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function yr(t,e){let n=gT(t);if(Ld[n]??={},Ld[n][e])return Ld[n][e];let r="";switch(e){case"shortDate":r=vc(t,Lt.Short);break;case"mediumDate":r=vc(t,Lt.Medium);break;case"longDate":r=vc(t,Lt.Long);break;case"fullDate":r=vc(t,Lt.Full);break;case"shortTime":r=_c(t,Lt.Short);break;case"mediumTime":r=_c(t,Lt.Medium);break;case"longTime":r=_c(t,Lt.Long);break;case"fullTime":r=_c(t,Lt.Full);break;case"short":let i=yr(t,"shortTime"),o=yr(t,"shortDate");r=Vd(Ec(t,Lt.Short),[i,o]);break;case"medium":let s=yr(t,"mediumTime"),a=yr(t,"mediumDate");r=Vd(Ec(t,Lt.Medium),[s,a]);break;case"long":let u=yr(t,"longTime"),l=yr(t,"longDate");r=Vd(Ec(t,Lt.Long),[u,l]);break;case"full":let h=yr(t,"fullTime"),p=yr(t,"fullDate");r=Vd(Ec(t,Lt.Full),[h,p]);break}return r&&(Ld[n][e]=r),r}function Vd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Dn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function NL(t,e){return Dn(t,3).substring(0,e)}function Qe(t,e,n=0,r=!1,i=!1){return function(o,s){let a=xL(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return NL(a,e);let u=Ic(s,vr.MinusSign);return Dn(a,e,u,r,i)}}function xL(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new B(2301,!1)}}function Ne(t,e,n=Ct.Format,r=!1){return function(i,o){return PL(i,o,t,e,n,r)}}function PL(t,e,n,r,i,o){switch(n){case 2:return vT(e,i,r)[t.getMonth()];case 1:return yT(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=IT(e),h=wT(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[y,C]=g,R=s>=y.hours&&a>=y.minutes,A=s<C.hours||s===C.hours&&a<C.minutes;if(y.hours<C.hours){if(R&&A)return!0}else if(R||A)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return mT(e,i,r)[s<12?0:1];case 3:return _T(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new B(2302,!1)}}function Ud(t){return function(e,n,r){let i=-1*r,o=Ic(n,vr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+Dn(s,2,o)+Dn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Dn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Dn(s,2,o)+":"+Dn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Dn(s,2,o)+":"+Dn(Math.abs(i%60),2,o);default:throw new B(2310,!1)}}}var OL=0,Bd=4;function kL(t){let e=Hd(t,OL,1).getDay();return Hd(t,0,1+(e<=Bd?Bd:Bd+7)-e)}function CT(t){let e=t.getDay(),n=e===0?-3:Bd-e;return Hd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function xy(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=CT(n),s=kL(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Dn(i,t,Ic(r,vr.MinusSign))}}function jd(t,e=!1){return function(n,r){let o=CT(n).getFullYear();return Dn(o,t,Ic(r,vr.MinusSign),e)}}var Py={};function FL(t){if(Py[t])return Py[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ne(3,Ae.Abbreviated);break;case"GGGG":e=Ne(3,Ae.Wide);break;case"GGGGG":e=Ne(3,Ae.Narrow);break;case"y":e=Qe(0,1,0,!1,!0);break;case"yy":e=Qe(0,2,0,!0,!0);break;case"yyy":e=Qe(0,3,0,!1,!0);break;case"yyyy":e=Qe(0,4,0,!1,!0);break;case"Y":e=jd(1);break;case"YY":e=jd(2,!0);break;case"YYY":e=jd(3);break;case"YYYY":e=jd(4);break;case"M":case"L":e=Qe(1,1,1);break;case"MM":case"LL":e=Qe(1,2,1);break;case"MMM":e=Ne(2,Ae.Abbreviated);break;case"MMMM":e=Ne(2,Ae.Wide);break;case"MMMMM":e=Ne(2,Ae.Narrow);break;case"LLL":e=Ne(2,Ae.Abbreviated,Ct.Standalone);break;case"LLLL":e=Ne(2,Ae.Wide,Ct.Standalone);break;case"LLLLL":e=Ne(2,Ae.Narrow,Ct.Standalone);break;case"w":e=xy(1);break;case"ww":e=xy(2);break;case"W":e=xy(1,!0);break;case"d":e=Qe(2,1);break;case"dd":e=Qe(2,2);break;case"c":case"cc":e=Qe(7,1);break;case"ccc":e=Ne(1,Ae.Abbreviated,Ct.Standalone);break;case"cccc":e=Ne(1,Ae.Wide,Ct.Standalone);break;case"ccccc":e=Ne(1,Ae.Narrow,Ct.Standalone);break;case"cccccc":e=Ne(1,Ae.Short,Ct.Standalone);break;case"E":case"EE":case"EEE":e=Ne(1,Ae.Abbreviated);break;case"EEEE":e=Ne(1,Ae.Wide);break;case"EEEEE":e=Ne(1,Ae.Narrow);break;case"EEEEEE":e=Ne(1,Ae.Short);break;case"a":case"aa":case"aaa":e=Ne(0,Ae.Abbreviated);break;case"aaaa":e=Ne(0,Ae.Wide);break;case"aaaaa":e=Ne(0,Ae.Narrow);break;case"b":case"bb":case"bbb":e=Ne(0,Ae.Abbreviated,Ct.Standalone,!0);break;case"bbbb":e=Ne(0,Ae.Wide,Ct.Standalone,!0);break;case"bbbbb":e=Ne(0,Ae.Narrow,Ct.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ne(0,Ae.Abbreviated,Ct.Format,!0);break;case"BBBB":e=Ne(0,Ae.Wide,Ct.Format,!0);break;case"BBBBB":e=Ne(0,Ae.Narrow,Ct.Format,!0);break;case"h":e=Qe(3,1,-12);break;case"hh":e=Qe(3,2,-12);break;case"H":e=Qe(3,1);break;case"HH":e=Qe(3,2);break;case"m":e=Qe(4,1);break;case"mm":e=Qe(4,2);break;case"s":e=Qe(5,1);break;case"ss":e=Qe(5,2);break;case"S":e=Qe(6,1);break;case"SS":e=Qe(6,2);break;case"SSS":e=Qe(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Ud(0);break;case"ZZZZZ":e=Ud(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ud(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ud(2);break;default:return null}return Py[t]=e,e}function bT(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function LL(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function VL(t,e,n){let i=t.getTimezoneOffset(),o=bT(e,i);return LL(t,-1*(o-i))}function UL(t){if(fT(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Hd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(RL))return jL(r)}let e=new Date(t);if(!fT(e))throw new B(2311,!1);return e}function jL(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function fT(t){return t instanceof Date&&!isNaN(t.valueOf())}var ky=(()=>{class t{_viewContainer;_context=new $d;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){pT(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){pT(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(ye(pr),ye(Zr))};static \u0275dir=$e({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),$d=class{$implicit=null;ngIf=null};function pT(t,e){if(t&&!t.createEmbeddedView)throw new B(2020,!1)}var Oy=class{_viewContainerRef;_templateRef;_created=!1;constructor(e,n){this._viewContainerRef=e,this._templateRef=n}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},qd=(()=>{class t{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let r=n===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let r of this._defaultViews)r.enforceState(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275dir=$e({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return t})(),Fy=(()=>{class t{ngSwitch;_view;ngSwitchCase;constructor(n,r,i){this.ngSwitch=i,i._addCase(),this._view=new Oy(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||t)(ye(pr),ye(Zr),ye(qd,9))};static \u0275dir=$e({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return t})();function BL(t,e){return new B(2100,!1)}var HL="mediumDate",TT=new $(""),ST=new $(""),Ly=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??HL,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return DT(n,s,o||this.locale,a)}catch(s){throw BL(t,s.message)}}static \u0275fac=function(r){return new(r||t)(ye(pc,16),ye(TT,24),ye(ST,24))};static \u0275pipe=py({name:"date",type:t,pure:!0})}return t})();var zd=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Jr({type:t});static \u0275inj=ur({})}return t})();function Vy(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var wc=class{};var AT="browser";var Dc=class{_doc;constructor(e){this._doc=e}manager},Gd=(()=>{class t extends Dc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(oe(it))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})(),Qd=new $(""),Hy=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof Gd));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof Gd);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(oe(Qd),oe(jt))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})(),Uy="ng-app-id";function RT(t){for(let e of t)e.remove()}function MT(t,e){let n=e.createElement("style");return n.textContent=t,n}function zL(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Uy}="${e}"],link[${Uy}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Uy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function By(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var $y=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,zL(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,MT);r?.forEach(i=>this.addUsage(i,this.external,By))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(RT(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])RT(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,MT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,By(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(oe(it),oe(gd),oe(yd,8),oe(ic))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})(),jy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},qy=/%COMP%/g;var xT="%COMP%",GL=`_nghost-${xT}`,WL=`_ngcontent-${xT}`,KL=!0,QL=new $("",{factory:()=>KL});function YL(t){return WL.replace(qy,t)}function ZL(t){return GL.replace(qy,t)}function PT(t,e){return e.map(n=>n.replace(qy,t))}var zy=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,s,a,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.defaultRenderer=new Cc(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Kd?i.applyToHost(n):i instanceof bc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.tracingService;switch(r.encapsulation){case wn.Emulated:o=new Kd(u,l,r,this.appId,h,s,a,p);break;case wn.ShadowDom:return new Wd(u,n,r,s,a,this.nonce,p,l);case wn.ExperimentalIsolatedShadowDom:return new Wd(u,n,r,s,a,this.nonce,p);default:o=new bc(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(oe(Hy),oe($y),oe(gd),oe(QL),oe(it),oe(jt),oe(yd),oe(oc,8))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})(),Cc=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(jy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(NT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(NT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=jy[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=jy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Vn.DashCase|Vn.Important)?e.style.setProperty(n,r,i&Vn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Vn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=cn().getGlobalEventTarget(this.doc,e),!e))throw new B(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function NT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Wd=class extends Cc{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,s,a,u){super(e,i,o,a),this.hostEl=n,this.sharedStylesHost=u,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=PT(r.id,l);for(let p of l){let g=document.createElement("style");s&&g.setAttribute("nonce",s),g.textContent=p,this.shadowRoot.appendChild(g)}let h=r.getExternalStyles?.();if(h)for(let p of h){let g=By(p,i);s&&g.setAttribute("nonce",s),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},bc=class extends Cc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=u?PT(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Xi.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Kd=class extends bc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=YL(l),this.hostAttr=ZL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Yd=class t extends yc{supportsDOMEvents=!0;static makeCurrent(){My(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=JL();return n==null?null:XL(n)}resetBaseElement(){Tc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Vy(document.cookie,e)}},Tc=null;function JL(){return Tc=Tc||document.head.querySelector("base"),Tc?Tc.getAttribute("href"):null}function XL(t){return new URL(t,document.baseURI).pathname}var eV=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})(),OT=["alt","control","meta","shift"],tV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},kT=(()=>{class t extends Dc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),OT.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=tV[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),OT.forEach(s=>{if(s!==i){let a=nV[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(oe(it))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})();async function Gy(t,e,n){let r=k({rootComponent:t},rV(e,n));return aT(r)}function rV(t,e){return{platformRef:e?.platformRef,appProviders:[...cV,...t?.providers??[]],platformProviders:aV}}function iV(){Yd.makeCurrent()}function oV(){return new cr}function sV(){return Wm(document),document}var aV=[{provide:ic,useValue:AT},{provide:md,useValue:iV,multi:!0},{provide:it,useFactory:sV}];var cV=[{provide:ja,useValue:"root"},{provide:cr,useFactory:oV},{provide:Qd,useClass:Gd,multi:!0},{provide:Qd,useClass:kT,multi:!0},zy,$y,Hy,{provide:eo,useExisting:zy},{provide:wc,useClass:eV},[]];var FT=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(oe(it))};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ne="primary",Lc=Symbol("RouteTitle"),Zy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ys(t){return new Zy(t)}function Wy(t,e,n){for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(i[0]===":")n[i.substring(1)]=o;else if(i!==o.path)return!1}return!0}function lV(t,e,n){let r=n.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let u={},l=t.slice(0,r.length);return Wy(r,l,u)?{consumed:l,posParams:u}:null}if(i!==r.lastIndexOf("**"))return null;let o=r.slice(0,i),s=r.slice(i+1);if(o.length+s.length>t.length||n.pathMatch==="full"&&e.hasChildren()&&n.path!=="**")return null;let a={};return!Wy(o,t.slice(0,o.length),a)||!Wy(s,t.slice(t.length-s.length),a)?null:{consumed:t,posParams:a}}function nh(t){return new Promise((e,n)=>{t.pipe(ir()).subscribe({next:r=>e(r),error:r=>n(r)})})}function dV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Hn(t[n],e[n]))return!1;return!0}function Hn(t,e){let n=t?Jy(t):void 0,r=e?Jy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!GT(t[i],e[i]))return!1;return!0}function Jy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function GT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function hV(t){return t.length>0?t[t.length-1]:null}function po(t){return ml(t)?t:Xr(t)?Ge(Promise.resolve(t)):he(t)}function WT(t){return ml(t)?nh(t):Promise.resolve(t)}var fV={exact:QT,subset:YT},KT={exact:pV,subset:gV,ignored:()=>!0};function LT(t,e,n){return fV[n.paths](t.root,e.root,n.matrixParams)&&KT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function pV(t,e){return Hn(t,e)}function QT(t,e,n){if(!lo(t.segments,e.segments)||!Xd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!QT(t.children[r],e.children[r],n))return!1;return!0}function gV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>GT(t[n],e[n]))}function YT(t,e,n){return ZT(t,e,e.segments,n)}function ZT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!lo(i,n)||e.hasChildren()||!Xd(i,n,r))}else if(t.segments.length===n.length){if(!lo(t.segments,n)||!Xd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!YT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!lo(t.segments,i)||!Xd(t.segments,i,r)||!t.children[ne]?!1:ZT(t.children[ne],e,o,r)}}function Xd(t,e,n){return e.every((r,i)=>KT[n](t[i].parameters,r.parameters))}var $n=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ys(this.queryParams),this._queryParamMap}toString(){return vV.serialize(this)}},Ie=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return eh(this)}},uo=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ys(this.parameters),this._parameterMap}toString(){return XT(this)}};function mV(t,e){return lo(t,e)&&t.every((n,r)=>Hn(n.parameters,e[r].parameters))}function lo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function yV(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}var hh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:()=>new ho,providedIn:"root"})}return t})(),ho=class{parse(e){let n=new ev(e);return new $n(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Sc(e.root,!0)}`,r=IV(e.queryParams),i=typeof e.fragment=="string"?`#${_V(e.fragment)}`:"";return`${n}${r}${i}`}},vV=new ho;function eh(t){return t.segments.map(e=>XT(e)).join("/")}function Sc(t,e){if(!t.hasChildren())return eh(t);if(e){let n=t.children[ne]?Sc(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ne&&r.push(`${i}:${Sc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=yV(t,(r,i)=>i===ne?[Sc(t.children[ne],!1)]:[`${i}:${Sc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ne]!=null?`${eh(t)}/${n[0]}`:`${eh(t)}/(${n.join("//")})`}}function JT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zd(t){return JT(t).replace(/%3B/gi,";")}function _V(t){return encodeURI(t)}function Xy(t){return JT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function th(t){return decodeURIComponent(t)}function VT(t){return th(t.replace(/\+/g,"%20"))}function XT(t){return`${Xy(t.path)}${EV(t.parameters)}`}function EV(t){return Object.entries(t).map(([e,n])=>`;${Xy(e)}=${Xy(n)}`).join("")}function IV(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Zd(n)}=${Zd(i)}`).join("&"):`${Zd(n)}=${Zd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var wV=/^[^\/()?;#]+/;function Ky(t){let e=t.match(wV);return e?e[0]:""}var DV=/^[^\/()?;=#]+/;function CV(t){let e=t.match(DV);return e?e[0]:""}var bV=/^[^=?&#]+/;function TV(t){let e=t.match(bV);return e?e[0]:""}var SV=/^[^&#]+/;function AV(t){let e=t.match(SV);return e?e[0]:""}var ev=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new Ie(e,n)),r}parseSegment(){let e=Ky(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new uo(th(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=CV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ky(this.remaining);i&&(r=i,this.capture(r))}e[th(n)]=th(r)}parseQueryParam(e){let n=TV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=AV(this.remaining);s&&(r=s,this.capture(r))}let i=VT(n),o=VT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ky(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);let s=this.parseChildren();n[o??ne]=Object.keys(s).length===1&&s[ne]?s[ne]:new Ie([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function eS(t){return t.segments.length>0?new Ie([],{[ne]:t}):t}function tS(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=tS(i);if(r===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ie(t.segments,e);return RV(n)}function RV(t){if(t.numberOfChildren===1&&t.children[ne]){let e=t.children[ne];return new Ie(t.segments.concat(e.segments),e.children)}return t}function vs(t){return t instanceof $n}function MV(t,e,n=null,r=null,i=new ho){let o=nS(t);return rS(o,e,n,r,i)}function nS(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Ie(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=eS(r);return e??i}function rS(t,e,n,r,i){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return Qy(o,o,o,n,r,i);let s=NV(e);if(s.toRoot())return Qy(o,o,new Ie([],{}),n,r,i);let a=xV(s,o,t),u=a.processChildren?Rc(a.segmentGroup,a.index,s.commands):oS(a.segmentGroup,a.index,s.commands);return Qy(o,a.segmentGroup,u,n,r,i)}function rh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function xc(t){return typeof t=="object"&&t!=null&&t.outlets}function UT(t,e,n){t||="\u0275";let r=new $n;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function Qy(t,e,n,r,i,o){let s={};for(let[l,h]of Object.entries(r??{}))s[l]=Array.isArray(h)?h.map(p=>UT(l,p,o)):UT(l,h,o);let a;t===e?a=n:a=iS(t,e,n);let u=eS(tS(a));return new $n(u,s,i)}function iS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=iS(o,e,n)}),new Ie(t.segments,r)}var ih=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&rh(r[0]))throw new B(4003,!1);let i=r.find(xc);if(i&&i!==hV(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function NV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ih(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ih(n,e,r)}var ps=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function xV(t,e,n){if(t.isAbsolute)return new ps(e,!0,0);if(!n)return new ps(e,!1,NaN);if(n.parent===null)return new ps(n,!0,0);let r=rh(t.commands[0])?0:1,i=n.segments.length-1+r;return PV(n,i,t.numberOfDoubleDots)}function PV(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new ps(r,!1,i-o)}function OV(t){return xc(t[0])?t[0].outlets:{[ne]:t}}function oS(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return Rc(t,e,n);let r=kV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ie(t.segments.slice(0,r.pathIndex),{});return o.children[ne]=new Ie(t.segments.slice(r.pathIndex),t.children),Rc(o,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?tv(t,e,n):r.match?Rc(t,0,i):tv(t,e,n)}function Rc(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=OV(n),i={};if(Object.keys(r).some(o=>o!==ne)&&t.children[ne]&&t.numberOfChildren===1&&t.children[ne].segments.length===0){let o=Rc(t.children[ne],e,n);return new Ie(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=oS(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(t.segments,i)}}function kV(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(xc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!BT(u,l,s))return o;r+=2}else{if(!BT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function tv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(xc(o)){let u=FV(o.outlets);return new Ie(r,u)}if(i===0&&rh(n[0])){let u=t.segments[e];r.push(new uo(u.path,jT(n[0]))),i++;continue}let s=xc(o)?o.outlets[ne]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&rh(a)?(r.push(new uo(s,jT(a))),i+=2):(r.push(new uo(s,{})),i++)}return new Ie(r,{})}function FV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=tv(new Ie([],{}),0,r))}),e}function jT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function BT(t,e,n){return t==n.path&&Hn(e,n.parameters)}var Mc="imperative",gt=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(gt||{}),ln=class{id;url;constructor(e,n){this.id=e,this.url=n}},_s=class extends ln{type=gt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ri=class extends ln{urlAfterRedirects;type=gt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ot=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Ot||{}),oh=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(oh||{}),bn=class extends ln{reason;code;type=gt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function sS(t){return t instanceof bn&&(t.code===Ot.Redirect||t.code===Ot.SupersededByNewNavigation)}var ii=class extends ln{reason;code;type=gt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Es=class extends ln{error;target;type=gt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pc=class extends ln{urlAfterRedirects;state;type=gt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nv=class extends ln{urlAfterRedirects;state;type=gt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rv=class extends ln{urlAfterRedirects;state;shouldActivate;type=gt.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},iv=class extends ln{urlAfterRedirects;state;type=gt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ov=class extends ln{urlAfterRedirects;state;type=gt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sv=class{route;type=gt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},av=class{route;type=gt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},cv=class{snapshot;type=gt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uv=class{snapshot;type=gt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lv=class{snapshot;type=gt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dv=class{snapshot;type=gt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Is=class{},ws=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function LV(t){return!(t instanceof Is)&&!(t instanceof ws)}var hv=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Vc(this.rootInjector)}},Vc=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new hv(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(oe(nt))};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=fv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=fv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=pv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return pv(e,this._root).map(n=>n.value)}};function fv(t,e){if(t===e.value)return e;for(let n of e.children){let r=fv(t,n);if(r)return r}return null}function pv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=pv(t,n);if(r.length)return r.unshift(e),r}return[]}var Yt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function fs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ah=class extends sh{snapshot;constructor(e,n){super(e),this.snapshot=n,Dv(this,e)}toString(){return this.snapshot.toString()}};function aS(t,e){let n=VV(t,e),r=new dt([new uo("",{})]),i=new dt({}),o=new dt({}),s=new dt({}),a=new dt(""),u=new fo(r,i,s,a,o,ne,t,n.root);return u.snapshot=n.root,new ah(new Yt(u,[]),n)}function VV(t,e){let n={},r={},i={},s=new gs([],n,i,"",r,ne,t,null,{},e);return new uh("",new Yt(s,[]))}var fo=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Pe(l=>l[Lc]))??he(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Pe(e=>ys(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Pe(e=>ys(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ch(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&uS(i)&&(r.resolve[Lc]=i.title),r}var gs=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[Lc]}constructor(e,n,r,i,o,s,a,u,l,h){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l,this._environmentInjector=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ys(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ys(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},uh=class extends sh{url;constructor(e,n){super(n),this.url=e,Dv(this,n)}toString(){return cS(this._root)}};function Dv(t,e){e.value._routerState=t,e.children.forEach(n=>Dv(t,n))}function cS(t){let e=t.children.length>0?` { ${t.children.map(cS).join(", ")} } `:"";return`${t.value}${e}`}function Yy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Hn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Hn(e.params,n.params)||t.paramsSubject.next(n.params),dV(e.url,n.url)||t.urlSubject.next(n.url),Hn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function gv(t,e){let n=Hn(t.params,e.params)&&mV(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||gv(t.parent,e.parent))}function uS(t){return typeof t.title=="string"||t.title===null}var UV=new $(""),lS=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ne;activateEvents=new We;deactivateEvents=new We;attachEvents=new We;detachEvents=new We;routerOutletData=sT();parentContexts=P(Vc);location=P(pr);changeDetector=P(mc);inputBinder=P(fh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new mv(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=$e({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ro]})}return t})(),mv=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===fo?this.route:e===Vc?this.childContexts:e===UV?this.outletData:this.parent.get(e,n)}},fh=new $("");var dS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=uc({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ti(0,"router-outlet")},dependencies:[lS],encapsulation:2})}return t})();function Cv(t){let e=t.children&&t.children.map(Cv),n=e?ee(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=dS),n}function jV(t,e,n){let r=Oc(t,e._root,n?n._root:void 0);return new ah(r,e)}function Oc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=BV(t,e,n);return new Yt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Oc(t,a)),s}}let r=HV(e.value),i=e.children.map(o=>Oc(t,o));return new Yt(r,i)}}function BV(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Oc(t,r,i);return Oc(t,r)})}function HV(t){return new fo(new dt(t.url),new dt(t.params),new dt(t.queryParams),new dt(t.fragment),new dt(t.data),t.outlet,t.component,t)}var kc=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},hS="ngNavigationCancelingError";function lh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=vs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fS(!1,Ot.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function fS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[hS]=!0,n.cancellationCode=e,n}function $V(t){return pS(t)&&vs(t.url)}function pS(t){return!!t&&t[hS]}var yv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Yy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=fs(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=fs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=fs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=fs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new dv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new uv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Yy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Yy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},dh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ms=class{component;route;constructor(e,n){this.component=e,this.route=n}};function qV(t,e,n){let r=t._root,i=e?e._root:null;return Ac(r,i,n,[r.value])}function zV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Cs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!vg(t)?t:e.get(t):r}function Ac(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=fs(e);return t.children.forEach(s=>{GV(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Nc(a,n.getContext(s),i)),i}function GV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=WV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new dh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ac(t,e,a?a.children:null,r,i):Ac(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ms(a.outlet.component,s))}else s&&Nc(e,a,i),i.canActivateChecks.push(new dh(r)),o.component?Ac(t,null,a?a.children:null,r,i):Ac(t,null,n,r,i);return i}function WV(t,e,n){if(typeof n=="function")return wt(e._environmentInjector,()=>n(t,e));switch(n){case"pathParamsChange":return!lo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!lo(t.url,e.url)||!Hn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gv(t,e)||!Hn(t.queryParams,e.queryParams);default:return!gv(t,e)}}function Nc(t,e,n){let r=fs(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Nc(s,e.children.getContext(o),n):Nc(s,null,n):Nc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ms(e.outlet.component,i)):n.canDeactivateChecks.push(new ms(null,i)):n.canDeactivateChecks.push(new ms(null,i))}function Uc(t){return typeof t=="function"}function KV(t){return typeof t=="boolean"}function QV(t){return t&&Uc(t.canLoad)}function YV(t){return t&&Uc(t.canActivate)}function ZV(t){return t&&Uc(t.canActivateChild)}function JV(t){return t&&Uc(t.canDeactivate)}function XV(t){return t&&Uc(t.canMatch)}function gS(t){return t instanceof Fi||t?.name==="EmptyError"}var Jd=Symbol("INITIAL_VALUE");function Ds(){return or(t=>Jp(t.map(e=>e.pipe(rr(1),tg(Jd)))).pipe(Pe(e=>{for(let n of e)if(n!==!0){if(n===Jd)return Jd;if(n===!1||e2(n))return n}return!0}),nr(e=>e!==Jd),rr(1)))}function e2(t){return vs(t)||t instanceof kc}function mS(t){return t.aborted?he(void 0).pipe(rr(1)):new pe(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function yS(t){return Na(mS(t))}function t2(t){return Nt(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=e;return o.length===0&&i.length===0?he(ee(k({},e),{guardsResult:!0})):n2(o,n,r).pipe(Nt(s=>s&&KV(s)?r2(n,i,t):he(s)),Pe(s=>ee(k({},e),{guardsResult:s})))})}function n2(t,e,n){return Ge(t).pipe(Nt(r=>c2(r.component,r.route,n,e)),ir(r=>r!==!0,!0))}function r2(t,e,n){return Ge(e).pipe(El(r=>qo(o2(r.route.parent,n),i2(r.route,n),a2(t,r.path),s2(t,r.route))),ir(r=>r!==!0,!0))}function i2(t,e){return t!==null&&e&&e(new lv(t)),he(!0)}function o2(t,e){return t!==null&&e&&e(new cv(t)),he(!0)}function s2(t,e){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return he(!0);let r=n.map(i=>Ra(()=>{let o=e._environmentInjector,s=Cs(i,o),a=YV(s)?s.canActivate(e,t):wt(o,()=>s(e,t));return po(a).pipe(ir())}));return he(r).pipe(Ds())}function a2(t,e){let n=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(o=>zV(o)).filter(o=>o!==null).map(o=>Ra(()=>{let s=o.guards.map(a=>{let u=o.node._environmentInjector,l=Cs(a,u),h=ZV(l)?l.canActivateChild(n,t):wt(u,()=>l(n,t));return po(h).pipe(ir())});return he(s).pipe(Ds())}));return he(i).pipe(Ds())}function c2(t,e,n,r){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return he(!0);let o=i.map(s=>{let a=e._environmentInjector,u=Cs(s,a),l=JV(u)?u.canDeactivate(t,e,n,r):wt(a,()=>u(t,e,n,r));return po(l).pipe(ir())});return he(o).pipe(Ds())}function u2(t,e,n,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return he(!0);let s=o.map(a=>{let u=Cs(a,t),l=QV(u)?u.canLoad(e,n):wt(t,()=>u(e,n)),h=po(l);return i?h.pipe(yS(i)):h});return he(s).pipe(Ds(),vS(r))}function vS(t){return Wp(Rn(e=>{if(typeof e!="boolean")throw lh(t,e)}),Pe(e=>e===!0))}function l2(t,e,n,r,i){let o=e.canMatch;if(!o||o.length===0)return he(!0);let s=o.map(a=>{let u=Cs(a,t),l=XV(u)?u.canMatch(e,n):wt(t,()=>u(e,n));return po(l).pipe(yS(i))});return he(s).pipe(Ds(),vS(r))}var _r=class t extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,t.prototype)}},Fc=class t extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,t.prototype)}};function d2(t){throw new B(4e3,!1)}function h2(t){throw fS(!1,Ot.GuardRejected)}var vv=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[ne])throw d2(`${e.redirectTo}`);i=i.children[ne]}}async applyRedirectCommands(e,n,r,i,o){let s=await f2(n,i,o);if(s instanceof $n)throw new Fc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Fc(a);return a}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new $n(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function f2(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p,paramMap:g,queryParamMap:y}=e;return nh(po(wt(n,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p,paramMap:g,queryParamMap:y}))))}function p2(t,e){return t.providers&&!t._injector&&(t._injector=cc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Cn(t){return t.outlet||ne}function g2(t,e){let n=t.filter(r=>Cn(r)===e);return n.push(...t.filter(r=>Cn(r)!==e)),n}var _v={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function m2(t,e,n,r,i,o){let s=_S(t,e,n);return s.matched?(r=p2(e,r),l2(r,e,n,i,o).pipe(Pe(a=>a===!0?s:k({},_v)))):he(s)}function _S(t,e,n){if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},_v):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||lV)(n,t,e);if(!i)return k({},_v);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function HT(t,e,n,r){return n.length>0&&_2(t,n,r)?{segmentGroup:new Ie(e,v2(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&E2(t,n,r)?{segmentGroup:new Ie(t.segments,y2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function y2(t,e,n,r){let i={};for(let o of n)if(ph(t,e,o)&&!r[Cn(o)]){let s=new Ie([],{});i[Cn(o)]=s}return k(k({},r),i)}function v2(t,e){let n={};n[ne]=e;for(let r of t)if(r.path===""&&Cn(r)!==ne){let i=new Ie([],{});n[Cn(r)]=i}return n}function _2(t,e,n){return n.some(r=>ph(t,e,r)&&Cn(r)!==ne)}function E2(t,e,n){return n.some(r=>ph(t,e,r))}function ph(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function I2(t,e,n){return e.length===0&&!t.children[n]}var Ev=class{};async function w2(t,e,n,r,i,o,s="emptyOnly",a){return new Iv(t,e,n,r,i,s,o,a).recognize()}var D2=31,Iv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a,u){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=u,this.applyRedirects=new vv(this.urlSerializer,this.urlTree)}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}async recognize(){let e=HT(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new Yt(r,n),o=new uh("",i),s=MV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let n=new gs([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,e,ne,n),rootSnapshot:n}}catch(r){if(r instanceof Fc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof _r?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,o);let s=await this.processSegment(e,n,r,r.segments,i,!0,o);return s instanceof Yt?[s]:[]}async processChildren(e,n,r,i){let o=[];for(let u of Object.keys(r.children))u==="primary"?o.unshift(u):o.push(u);let s=[];for(let u of o){let l=r.children[u],h=g2(n,u),p=await this.processSegmentGroup(e,h,l,u,i);s.push(...p)}let a=ES(s);return C2(a),a}async processSegment(e,n,r,i,o,s,a){for(let u of n)try{return await this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a)}catch(l){if(l instanceof _r||gS(l))continue;throw l}if(I2(r,i,o))return new Ev;throw new _r(r)}async processSegmentAgainstRoute(e,n,r,i,o,s,a,u){if(Cn(r)!==s&&(s===ne||!ph(i,o,r)))throw new _r(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,u);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u);throw new _r(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=_S(n,i,o);if(!u)throw new _r(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>D2&&(this.allowRedirects=!1));let y=new gs(o,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,$T(i),Cn(i),i.component??i._loadedComponent??null,i,qT(i),e),C=ch(y,a,this.paramsInheritanceStrategy);if(y.params=Object.freeze(C.params),y.data=Object.freeze(C.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let R=await this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e),A=await this.applyRedirects.lineralizeSegments(i,R);return this.processSegment(e,r,n,A.concat(g),s,!1,a)}async matchSegmentAgainstRoute(e,n,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await nh(m2(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new _r(n);e=r._injector??e;let{routes:u}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:h,consumedSegments:p,remainingSegments:g}=a,y=new gs(p,h,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,$T(r),Cn(r),r.component??r._loadedComponent??null,r,qT(r),e),C=ch(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let{segmentGroup:R,slicedSegments:A}=HT(n,p,g,u);if(A.length===0&&R.hasChildren()){let Z=await this.processChildren(l,u,R,y);return new Yt(y,Z)}if(u.length===0&&A.length===0)return new Yt(y,[]);let L=Cn(r)===o,q=await this.processSegment(l,u,R,A,L?ne:o,!0,y);return new Yt(y,q instanceof Yt?[q]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0){let o=n._loadedNgModuleFactory;return o&&!n._loadedInjector&&(n._loadedInjector=o.create(e).injector),{routes:n._loadedRoutes,injector:n._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await nh(u2(e,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,n._loadedNgModuleFactory=o.factory,o}throw h2(n)}return{routes:[],injector:e}}};function C2(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}function b2(t){let e=t.value.routeConfig;return e&&e.path===""}function ES(t){let e=[],n=new Set;for(let r of t){if(!b2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=ES(r.children);e.push(new Yt(r.value,i))}return e.filter(r=>!n.has(r))}function $T(t){return t.data||{}}function qT(t){return t.resolve||{}}function T2(t,e,n,r,i,o,s){return Nt(async a=>{let{state:u,tree:l}=await w2(t,e,n,r,a.extractedUrl,i,o,s);return ee(k({},a),{targetSnapshot:u,urlAfterRedirects:l})})}function S2(t){return Nt(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return he(e);let i=new Set(r.map(a=>a.route)),o=new Set;for(let a of i)if(!o.has(a))for(let u of IS(a))o.add(u);let s=0;return Ge(o).pipe(El(a=>i.has(a)?A2(a,n,t):(a.data=ch(a,a.parent,t).resolve,he(void 0))),Rn(()=>s++),Il(1),Nt(a=>s===o.size?he(e):ht))})}function IS(t){let e=t.children.map(n=>IS(n)).flat();return[t,...e]}function A2(t,e,n){let r=t.routeConfig,i=t._resolve;return r?.title!==void 0&&!uS(r)&&(i[Lc]=r.title),Ra(()=>(t.data=ch(t,t.parent,n).resolve,R2(i,t,e).pipe(Pe(o=>(t._resolvedData=o,t.data=k(k({},t.data),o),null)))))}function R2(t,e,n){let r=Jy(t);if(r.length===0)return he({});let i={};return Ge(r).pipe(Nt(o=>M2(t[o],e,n).pipe(ir(),Rn(s=>{if(s instanceof kc)throw lh(new ho,s);i[o]=s}))),Il(1),Pe(()=>i),Ma(o=>gS(o)?ht:Zp(o)))}function M2(t,e,n){let r=e._environmentInjector,i=Cs(t,r),o=i.resolve?i.resolve(e,n):wt(r,()=>i(e,n));return po(o)}function zT(t){return or(e=>{let n=t(e);return n?Ge(n).pipe(Pe(()=>e)):he(e)})}var wS=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ne);return r}getResolvedTitleForRoute(n){return n.data[Lc]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:()=>P(N2),providedIn:"root"})}return t})(),N2=(()=>{class t extends wS{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(oe(FT))};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gh=new $("",{factory:()=>({})}),mh=new $(""),DS=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(Sy);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await WT(wt(n,()=>r.loadComponent())),s=await bS(CS(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await x2(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,r._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function x2(t,e,n,r){let i=await WT(wt(n,()=>t.loadChildren())),o=await bS(CS(i)),s;o instanceof Sd||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(t);let a,u,l=!1,h;return Array.isArray(s)?(u=s,l=!0):(a=s.create(n).injector,h=s,u=a.get(mh,[],{optional:!0,self:!0}).flat()),{routes:u.map(Cv),injector:a,factory:h}}function P2(t){return t&&typeof t=="object"&&"default"in t}function CS(t){return P2(t)?t.default:t}async function bS(t){return t}var bv=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:()=>P(O2),providedIn:"root"})}return t})(),O2=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),TS=new $("");var k2=()=>{},SS=new $(""),AS=(()=>{class t{currentNavigation=ue(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=ue(null);events=new tt;transitionAbortWithErrorSubject=new tt;configLoader=P(DS);environmentInjector=P(nt);destroyRef=P(Fn);urlSerializer=P(hh);rootContexts=P(Vc);location=P(hs);inputBindingEnabled=P(fh,{optional:!0})!==null;titleStrategy=P(wS);options=P(gh,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(bv);createViewTransition=P(TS,{optional:!0});navigationErrorHandler=P(SS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>he(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new sv(i)),r=i=>this.events.next(new av(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;ot(()=>{this.transitions?.next(ee(k({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new dt(null),this.transitions.pipe(nr(r=>r!==null),or(r=>{let i=!1,o=new AbortController,s=()=>!i&&this.currentTransition?.id===r.id;return he(r).pipe(or(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ot.SupersededByNewNavigation),ht;this.currentTransition=r;let u=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:u?ee(k({},u),{previousNavigation:null}):null,abort:()=>o.abort()});let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload")return this.events.next(new ii(a.id,this.urlSerializer.serialize(a.rawUrl),"",oh.IgnoredSameUrlNavigation)),a.resolve(!1),ht;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return he(a).pipe(or(p=>(this.events.next(new _s(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),p.id!==this.navigationId?ht:Promise.resolve(p))),T2(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Rn(p=>{r.targetSnapshot=p.targetSnapshot,r.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation.update(y=>(y.finalUrl=p.urlAfterRedirects,y));let g=new Pc(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:p,extractedUrl:g,source:y,restoredState:C,extras:R}=a,A=new _s(p,this.urlSerializer.serialize(g),y,C);this.events.next(A);let L=aS(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=ee(k({},a),{targetSnapshot:L,urlAfterRedirects:g,extras:ee(k({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(q=>(q.finalUrl=g,q)),he(r)}else return this.events.next(new ii(a.id,this.urlSerializer.serialize(a.extractedUrl),"",oh.IgnoredByUrlHandlingStrategy)),a.resolve(!1),ht}),Pe(a=>{let u=new nv(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(u),this.currentTransition=r=ee(k({},a),{guards:qV(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),t2(a=>this.events.next(a)),or(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw lh(this.urlSerializer,a.guardsResult);let u=new rv(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(u),!s())return ht;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",Ot.GuardRejected),ht;if(a.guards.canActivateChecks.length===0)return he(a);let l=new iv(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(l),!s())return ht;let h=!1;return he(a).pipe(S2(this.paramsInheritanceStrategy),Rn({next:()=>{h=!0;let p=new ov(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(p)},complete:()=>{h||this.cancelNavigationTransition(a,"",Ot.NoDataFromResolver)}}))}),zT(a=>{let u=h=>{let p=[];if(h.routeConfig?._loadedComponent)h.component=h.routeConfig?._loadedComponent;else if(h.routeConfig?.loadComponent){let g=h._environmentInjector;p.push(this.configLoader.loadComponent(g,h.routeConfig).then(y=>{h.component=y}))}for(let g of h.children)p.push(...u(g));return p},l=u(a.targetSnapshot.root);return l.length===0?he(a):Ge(Promise.all(l).then(()=>a))}),zT(()=>this.afterPreactivation()),or(()=>{let{currentSnapshot:a,targetSnapshot:u}=r,l=this.createViewTransition?.(this.environmentInjector,a.root,u.root);return l?Ge(l).pipe(Pe(()=>r)):he(r)}),rr(1),Pe(a=>{let u=jV(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=ee(k({},a),{targetRouterState:u}),this.currentNavigation.update(l=>(l.targetRouterState=u,l)),this.events.next(new Is),s()&&(new yv(n.routeReuseStrategy,r.targetRouterState,r.currentRouterState,l=>this.events.next(l),this.inputBindingEnabled).activate(this.rootContexts),s()&&(i=!0,this.currentNavigation.update(l=>(l.abort=k2,l)),this.lastSuccessfulNavigation.set(ot(this.currentNavigation)),this.events.next(new ri(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),Na(mS(o.signal).pipe(nr(()=>!i&&!r.targetRouterState),Rn(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",Ot.Aborted)}))),Rn({complete:()=>{i=!0}}),Na(this.transitionAbortWithErrorSubject.pipe(Rn(a=>{throw a}))),eg(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",Ot.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ma(a=>{if(i=!0,this.destroyed)return r.resolve(!1),ht;if(pS(a))this.events.next(new bn(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),$V(a)?this.events.next(new ws(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let u=new Es(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let l=wt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(l instanceof kc){let{message:h,cancellationCode:p}=lh(this.urlSerializer,l);this.events.next(new bn(r.id,this.urlSerializer.serialize(r.extractedUrl),h,p)),this.events.next(new ws(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(u),a}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return ht}))}))}cancelNavigationTransition(n,r,i){let o=new bn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=ot(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function F2(t){return t!==Mc}var RS=new $("");var L2=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:()=>P(V2),providedIn:"root"})}return t})(),wv=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}shouldDestroyInjector(e){return!0}},V2=(()=>{class t extends wv{static \u0275fac=(()=>{let n;return function(i){return(n||(n=jn(t)))(i||t)}})();static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Tv=(()=>{class t{urlSerializer=P(hh);options=P(gh,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(hs);urlHandlingStrategy=P(bv);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new $n;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof $n?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=aS(null,P(nt));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:()=>P(U2),providedIn:"root"})}return t})(),U2=(()=>{class t extends Tv{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof _s?this.updateStateMemento():n instanceof ii?this.commitTransition(r):n instanceof Pc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Is?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof bn&&!sS(n)?this.restoreHistory(r):n instanceof Es?this.restoreHistory(r,!0):n instanceof ri&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=k(k({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=k(k({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=jn(t)))(i||t)}})();static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function MS(t,e){t.events.pipe(nr(n=>n instanceof ri||n instanceof bn||n instanceof Es||n instanceof ii),Pe(n=>n instanceof ri||n instanceof ii?0:(n instanceof bn?n.code===Ot.Redirect||n.code===Ot.SupersededByNewNavigation:!1)?2:1),nr(n=>n!==2),rr(1)).subscribe(()=>{e()})}var NS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Sv=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(gy);stateManager=P(Tv);options=P(gh,{optional:!0})||{};pendingTasks=P(Qr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(AS);urlSerializer=P(hh);location=P(hs);urlHandlingStrategy=P(bv);injector=P(nt);_events=new tt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(L2);injectorCleanup=P(RS,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(mh,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(fh,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new lt;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=ot(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof bn&&r.code!==Ot.Redirect&&r.code!==Ot.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ri)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof ws){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||F2(i.source)},s);this.scheduleNavigation(a,Mc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}LV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(En)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ot(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Cv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=nS(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return rS(p,n,h,l??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=vs(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Mc,null,r)}navigate(n,r={skipLocationChange:!1}){return j2(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Wo(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=k({},NS):r===!1?i=k({},xS):i=r,vs(n))return LT(this.currentUrlTree,n,i);let o=this.parseUrl(n);return LT(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return MS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function j2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}var B2=new $("");function Av(t,...e){return Qo([{provide:mh,multi:!0,useValue:t},[],{provide:fo,useFactory:H2},{provide:Ad,multi:!0,useFactory:$2},e.map(n=>n.\u0275providers)])}function H2(){return P(Sv).routerState.root}function $2(){let t=P(tn);return e=>{let n=t.get(oo);if(e!==n.components[0])return;let r=t.get(Sv),i=t.get(q2);t.get(z2)===1&&r.initialNavigation(),t.get(G2,null,{optional:!0})?.setUpPreloading(),t.get(B2,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var q2=new $("",{factory:()=>new tt}),z2=new $("",{factory:()=>1});var G2=new $("");var PS=[];var OS={providers:[rm(),Av(PS)]};var $S=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(ye(ac),ye(fr))};static \u0275dir=$e({type:t})}return t})(),qS=(()=>{class t extends $S{static \u0275fac=(()=>{let n;return function(i){return(n||(n=jn(t)))(i||t)}})();static \u0275dir=$e({type:t,features:[$t]})}return t})(),Nv=new $("");var K2={provide:Nv,useExisting:nn(()=>bh),multi:!0};function Q2(){let t=cn()?cn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Y2=new $(""),bh=(()=>{class t extends $S{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Q2())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(ye(ac),ye(fr),ye(Y2,8))};static \u0275dir=$e({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Se("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[mr([K2]),$t]})}return t})();function Z2(t){return t==null||J2(t)===0}function J2(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Gc=new $(""),zS=new $("");function X2(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function eU(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function tU(t){return Z2(t.value)?{required:!0}:null}function kS(t){return null}function GS(t){return t!=null}function WS(t){return Xr(t)?Ge(t):t}function KS(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function QS(t,e){return e.map(n=>n(t))}function nU(t){return!t.validate}function YS(t){return t.map(e=>nU(e)?e:n=>e.validate(n))}function rU(t){if(!t)return null;let e=t.filter(GS);return e.length==0?null:function(n){return KS(QS(n,e))}}function xv(t){return t!=null?rU(YS(t)):null}function iU(t){if(!t)return null;let e=t.filter(GS);return e.length==0?null:function(n){let r=QS(n,e).map(WS);return Xp(r).pipe(Pe(KS))}}function Pv(t){return t!=null?iU(YS(t)):null}function FS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function oU(t){return t._rawValidators}function sU(t){return t._rawAsyncValidators}function Rv(t){return t?Array.isArray(t)?t:[t]:[]}function vh(t,e){return Array.isArray(t)?t.includes(e):t===e}function LS(t,e){let n=Rv(e);return Rv(t).forEach(i=>{vh(n,i)||n.push(i)}),n}function VS(t,e){return Rv(e).filter(n=>!vh(t,n))}var _h=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Pv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ss=class extends _h{name;get formDirective(){return null}get path(){return null}},zc=class extends _h{_parent=null;name=null;valueAccessor=null},Eh=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var ZS=(()=>{class t extends Eh{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ye(zc,2))};static \u0275dir=$e({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Kt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[$t]})}return t})(),JS=(()=>{class t extends Eh{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ye(Ss,10))};static \u0275dir=$e({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Kt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[$t]})}return t})();var jc="VALID",yh="INVALID",bs="PENDING",Bc="DISABLED",oi=class{},Ih=class extends oi{value;source;constructor(e,n){super(),this.value=e,this.source=n}},$c=class extends oi{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},qc=class extends oi{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Ts=class extends oi{status;source;constructor(e,n){super(),this.status=e,this.source=n}},Mv=class extends oi{source;constructor(e){super(),this.source=e}},wh=class extends oi{source;constructor(e){super(),this.source=e}};function XS(t){return(Th(t)?t.validators:t)||null}function aU(t){return Array.isArray(t)?xv(t):t||null}function eA(t,e){return(Th(e)?e.asyncValidators:t)||null}function cU(t){return Array.isArray(t)?Pv(t):t||null}function Th(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function uU(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function lU(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new B(1002,"")})}var Dh=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ot(this.statusReactive)}set status(e){ot(()=>this.statusReactive.set(e))}_status=Qt(()=>this.statusReactive());statusReactive=ue(void 0);get valid(){return this.status===jc}get invalid(){return this.status===yh}get pending(){return this.status==bs}get disabled(){return this.status===Bc}get enabled(){return this.status!==Bc}errors;get pristine(){return ot(this.pristineReactive)}set pristine(e){ot(()=>this.pristineReactive.set(e))}_pristine=Qt(()=>this.pristineReactive());pristineReactive=ue(!0);get dirty(){return!this.pristine}get touched(){return ot(this.touchedReactive)}set touched(e){ot(()=>this.touchedReactive.set(e))}_touched=Qt(()=>this.touchedReactive());touchedReactive=ue(!1);get untouched(){return!this.touched}_events=new tt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(LS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(LS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(VS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(VS(e,this._rawAsyncValidators))}hasValidator(e){return vh(this._rawValidators,e)}hasAsyncValidator(e){return vh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ee(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new qc(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new qc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ee(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new $c(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new $c(!0,r))}markAsPending(e={}){this.status=bs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ts(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ee(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Bc,this.errors=null,this._forEachChild(i=>{i.disable(ee(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ih(this.value,r)),this._events.next(new Ts(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=jc,this._forEachChild(r=>{r.enable(ee(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jc||this.status===bs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ih(this.value,n)),this._events.next(new Ts(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ee(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bc:jc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=bs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=WS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ts(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?Bc:this.errors?yh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bs)?bs:this._anyControlsHaveStatus(yh)?yh:jc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new $c(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new qc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Th(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=aU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=cU(this._rawAsyncValidators)}},Ch=class extends Dh{constructor(e,n,r){super(XS(n),eA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){lU(this,!0,e),Object.keys(e).forEach(r=>{uU(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,ee(k({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new wh(this))}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ov=new $("",{factory:()=>kv}),kv="always";function dU(t,e){return[...e.path,t]}function tA(t,e,n=kv){nA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),fU(t,e),gU(t,e),pU(t,e),hU(t,e)}function US(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function hU(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function nA(t,e){let n=oU(t);e.validator!==null?t.setValidators(FS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=sU(t);e.asyncValidator!==null?t.setAsyncValidators(FS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();US(e._rawValidators,i),US(e._rawAsyncValidators,i)}function fU(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&rA(t,e)})}function pU(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&rA(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function rA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function gU(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function mU(t,e){t==null,nA(t,e)}function yU(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function vU(t){return Object.getPrototypeOf(t.constructor)===qS}function _U(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function EU(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===bh?n=o:vU(o)?r=o:i=o}),i||r||n||null}var IU={provide:Ss,useExisting:nn(()=>Fv)},Hc=Promise.resolve(),Fv=(()=>{class t extends Ss{callSetDisabledState;get submitted(){return ot(this.submittedReactive)}_submitted=Qt(()=>this.submittedReactive());submittedReactive=ue(!1);_directives=new Set;form;ngSubmit=new We;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Ch({},xv(n),Pv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Hc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),tA(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Hc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Hc.then(()=>{let r=this._findContainer(n.path),i=new Ch({});mU(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Hc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Hc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),_U(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Mv(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(ye(Gc,10),ye(zS,10),ye(Ov,8))};static \u0275dir=$e({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Se("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[mr([IU]),$t]})}return t})();function jS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function BS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var wU=class extends Dh{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(XS(n),eA(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Th(n)&&(n.nonNullable||n.initialValueIsDefault)&&(BS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new wh(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){BS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var DU={provide:zc,useExisting:nn(()=>Lv)},HS=Promise.resolve(),Lv=(()=>{class t extends zc{_changeDetectorRef;callSetDisabledState;control=new wU;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new We;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=EU(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),yU(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){tA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){HS.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Od(r);HS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?dU(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(ye(Ss,9),ye(Gc,10),ye(zS,10),ye(Nv,10),ye(mc,8),ye(Ov,8))};static \u0275dir=$e({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[mr([DU]),$t,ro]})}return t})();var iA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=$e({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),CU={provide:Nv,useExisting:nn(()=>Vv),multi:!0},Vv=(()=>{class t extends qS{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=jn(t)))(i||t)}})();static \u0275dir=$e({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Se("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[mr([CU]),$t]})}return t})();function oA(t){return typeof t=="number"?t:parseFloat(t)}var Uv=(()=>{class t{_validator=kS;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):kS,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=$e({type:t,features:[ro]})}return t})(),bU={provide:Gc,useExisting:nn(()=>jv),multi:!0},jv=(()=>{class t extends Uv{max;inputName="max";normalizeInput=n=>oA(n);createValidator=n=>eU(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=jn(t)))(i||t)}})();static \u0275dir=$e({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ei("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[mr([bU]),$t]})}return t})(),TU={provide:Gc,useExisting:nn(()=>Bv),multi:!0},Bv=(()=>{class t extends Uv{min;inputName="min";normalizeInput=n=>oA(n);createValidator=n=>X2(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=jn(t)))(i||t)}})();static \u0275dir=$e({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ei("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[mr([TU]),$t]})}return t})(),SU={provide:Gc,useExisting:nn(()=>Hv),multi:!0};var Hv=(()=>{class t extends Uv{required;inputName="required";normalizeInput=Od;createValidator=n=>tU;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=jn(t)))(i||t)}})();static \u0275dir=$e({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ei("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[mr([SU]),$t]})}return t})();var AU=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Jr({type:t});static \u0275inj=ur({})}return t})();var sA=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ov,useValue:n.callSetDisabledState??kv}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Jr({type:t});static \u0275inj=ur({imports:[AU]})}return t})();var As={production:!1,firebase:{apiKey:"AIzaSyCD3nmAW337IXqSLeOZhGhTITqzWhZSCr4",authDomain:"bankvocabulary.firebaseapp.com",projectId:"bankvocabulary",appId:"1:87768864379:web:70bfbcaaca6dd55dab74de"},requireEmailVerification:!0};var aA=()=>{};var lA=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},MU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},dA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(n[h],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new qv;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},qv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},NU=function(t){let e=lA(t);return dA.encodeByteArray(e,!0)},Kc=function(t){return NU(t).replace(/\./g,"")},Ah=function(t){try{return dA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var xU=()=>hA().__FIREBASE_DEFAULTS__,PU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ah(t[1]);return e&&JSON.parse(e)},Rh=()=>{try{return aA()||xU()||PU()||OU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Gv=t=>{var e,n;return(n=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fA=t=>{let e=Gv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Wv=()=>{var t;return(t=Rh())===null||t===void 0?void 0:t.config},Kv=t=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${t}`]};var Sh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function si(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Mh(t){return(await fetch(t,{credentials:"include"})).ok}function pA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Kc(JSON.stringify(n)),Kc(JSON.stringify(s)),""].join(".")}var Wc={};function kU(){let t={prod:[],emulator:[]};for(let e of Object.keys(Wc))Wc[e]?t.emulator.push(e):t.prod.push(e);return t}function FU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var cA=!1;function Nh(t,e){if(typeof window>"u"||typeof document>"u"||!si(window.location.host)||Wc[t]===e||Wc[t]||cA)return;Wc[t]=e;function n(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=kU().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{cA=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=FU(r),y=n("text"),C=document.getElementById(y)||document.createElement("span"),R=n("learnmore"),A=document.getElementById(R)||document.createElement("a"),L=n("preprendIcon"),q=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let Z=g.element;a(Z),h(A,R);let Re=l();u(q,L),Z.append(q,C,A,Re),document.body.appendChild(Z)}o?(C.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function st(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function LU(){var t;let e=(t=Rh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _A(){let t=st();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EA(){return!LU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qv(){try{return typeof indexedDB=="object"}catch{return!1}}function IA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var VU="FirebaseError",Zt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=VU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Er.prototype.create)}},Er=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?UU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Zt(i,a,r)}};function UU(t,e){return t.replace(jU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var jU=/\{\$([^}]+)}/g;function wA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qn(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(uA(o)&&uA(s)){if(!qn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function uA(t){return t!==null&&typeof t=="object"}function Qc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ms(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function DA(t,e){let n=new zv(t,e);return n.subscribe.bind(n)}var zv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$v),i.error===void 0&&(i.error=$v),i.complete===void 0&&(i.complete=$v);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function BU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $v(){}var nte=14400*1e3;function Le(t){return t&&t._delegate?t._delegate:t}var dn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var go="[DEFAULT]";var Yv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Sh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($U(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function HU(t){return t===go?void 0:t}function $U(t){return t.instantiationMode==="EAGER"}var xh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Yv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var qU=[],le=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(le||{}),zU={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},GU=le.INFO,WU={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},KU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=WU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ai=class{constructor(e){this.name=e,this._logLevel=GU,this._logHandler=KU,this._userLogHandler=null,qU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var QU=(t,e)=>e.some(n=>t instanceof n),CA,bA;function YU(){return CA||(CA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZU(){return bA||(bA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var TA=new WeakMap,Jv=new WeakMap,SA=new WeakMap,Zv=new WeakMap,e_=new WeakMap;function JU(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(zn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&TA.set(n,t)}).catch(()=>{}),e_.set(e,t),e}function XU(t){if(Jv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Jv.set(t,e)}var Xv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AA(t){Xv=t(Xv)}function ej(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ph(this),e,...n);return SA.set(r,e.sort?e.sort():[e]),zn(r)}:ZU().includes(t)?function(...e){return t.apply(Ph(this),e),zn(TA.get(this))}:function(...e){return zn(t.apply(Ph(this),e))}}function tj(t){return typeof t=="function"?ej(t):(t instanceof IDBTransaction&&XU(t),QU(t,YU())?new Proxy(t,Xv):t)}function zn(t){if(t instanceof IDBRequest)return JU(t);if(Zv.has(t))return Zv.get(t);let e=tj(t);return e!==t&&(Zv.set(t,e),e_.set(e,t)),e}var Ph=t=>e_.get(t);function MA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=zn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(zn(s.result),u.oldVersion,u.newVersion,zn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var nj=["get","getKey","getAll","getAllKeys","count"],rj=["put","add","delete","clear"],t_=new Map;function RA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(t_.get(e))return t_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=rj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nj.includes(n)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return t_.set(e,o),o}AA(t=>ee(k({},t),{get:(e,n,r)=>RA(e,n)||t.get(e,n,r),has:(e,n)=>!!RA(e,n)||t.has(e,n)}));var r_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ij(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function ij(t){let e=t.getComponent();return e?.type==="VERSION"}var i_="@firebase/app",NA="0.13.2";var Ir=new ai("@firebase/app"),oj="@firebase/app-compat",sj="@firebase/analytics-compat",aj="@firebase/analytics",cj="@firebase/app-check-compat",uj="@firebase/app-check",lj="@firebase/auth",dj="@firebase/auth-compat",hj="@firebase/database",fj="@firebase/data-connect",pj="@firebase/database-compat",gj="@firebase/functions",mj="@firebase/functions-compat",yj="@firebase/installations",vj="@firebase/installations-compat",_j="@firebase/messaging",Ej="@firebase/messaging-compat",Ij="@firebase/performance",wj="@firebase/performance-compat",Dj="@firebase/remote-config",Cj="@firebase/remote-config-compat",bj="@firebase/storage",Tj="@firebase/storage-compat",Sj="@firebase/firestore",Aj="@firebase/ai",Rj="@firebase/firestore-compat",Mj="firebase",Nj="11.10.0";var o_="[DEFAULT]",xj={[i_]:"fire-core",[oj]:"fire-core-compat",[aj]:"fire-analytics",[sj]:"fire-analytics-compat",[uj]:"fire-app-check",[cj]:"fire-app-check-compat",[lj]:"fire-auth",[dj]:"fire-auth-compat",[hj]:"fire-rtdb",[fj]:"fire-data-connect",[pj]:"fire-rtdb-compat",[gj]:"fire-fn",[mj]:"fire-fn-compat",[yj]:"fire-iid",[vj]:"fire-iid-compat",[_j]:"fire-fcm",[Ej]:"fire-fcm-compat",[Ij]:"fire-perf",[wj]:"fire-perf-compat",[Dj]:"fire-rc",[Cj]:"fire-rc-compat",[bj]:"fire-gcs",[Tj]:"fire-gcs-compat",[Sj]:"fire-fst",[Rj]:"fire-fst-compat",[Aj]:"fire-vertex","fire-js":"fire-js",[Mj]:"fire-js-all"};var Oh=new Map,Pj=new Map,s_=new Map;function xA(t,e){try{t.container.addComponent(e)}catch(n){Ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ui(t){let e=t.name;if(s_.has(e))return Ir.debug(`There were multiple attempts to register component ${e}.`),!1;s_.set(e,t);for(let n of Oh.values())xA(n,t);for(let n of Pj.values())xA(n,t);return!0}function Zc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jt(t){return t==null?!1:t.settings!==void 0}var Oj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new Er("app","Firebase",Oj);var a_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}};var li=Nj;function Jc(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:o_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ci.create("bad-app-name",{appName:String(i)});if(n||(n=Wv()),!n)throw ci.create("no-options");let o=Oh.get(i);if(o){if(qn(n,o.options)&&qn(r,o.config))return o;throw ci.create("duplicate-app",{appName:i})}let s=new xh(i);for(let u of s_.values())s.addComponent(u);let a=new a_(n,r,s);return Oh.set(i,a),a}function Ns(t=o_){let e=Oh.get(t);if(!e&&t===o_&&Wv())return Jc();if(!e)throw ci.create("no-app",{appName:t});return e}function Tn(t,e,n){var r;let i=(r=xj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ir.warn(a.join(" "));return}ui(new dn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var kj="firebase-heartbeat-database",Fj=1,Yc="firebase-heartbeat-store",n_=null;function FA(){return n_||(n_=MA(kj,Fj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ci.create("idb-open",{originalErrorMessage:t.message})})),n_}async function Lj(t){try{let n=(await FA()).transaction(Yc),r=await n.objectStore(Yc).get(LA(t));return await n.done,r}catch(e){if(e instanceof Zt)Ir.warn(e.message);else{let n=ci.create("idb-get",{originalErrorMessage:e?.message});Ir.warn(n.message)}}}async function PA(t,e){try{let r=(await FA()).transaction(Yc,"readwrite");await r.objectStore(Yc).put(e,LA(t)),await r.done}catch(n){if(n instanceof Zt)Ir.warn(n.message);else{let r=ci.create("idb-set",{originalErrorMessage:n?.message});Ir.warn(r.message)}}}function LA(t){return`${t.name}!${t.options.appId}`}var Vj=1024,Uj=30,c_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new u_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=OA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Uj){let s=Bj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ir.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=OA(),{heartbeatsToSend:r,unsentEntries:i}=jj(this._heartbeatsCache.heartbeats),o=Kc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ir.warn(n),""}}};function OA(){return new Date().toISOString().substring(0,10)}function jj(t,e=Vj){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var u_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qv()?IA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await Lj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return PA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return PA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function kA(t){return Kc(JSON.stringify({version:2,heartbeats:t})).length}function Bj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Hj(t){ui(new dn("platform-logger",e=>new r_(e),"PRIVATE")),ui(new dn("heartbeat",e=>new c_(e),"PRIVATE")),Tn(i_,NA,t),Tn(i_,NA,"esm2017"),Tn("fire-js","")}Hj("");var $j="firebase",qj="11.10.0";Tn($j,qj,"app");function eR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var tR=eR,nR=new Er("auth","Firebase",eR());var jh=new ai("@firebase/auth");function zj(t,...e){jh.logLevel<=le.WARN&&jh.warn(`Auth (${li}): ${t}`,...e)}function Fh(t,...e){jh.logLevel<=le.ERROR&&jh.error(`Auth (${li}): ${t}`,...e)}function Wn(t,...e){throw P_(t,...e)}function mo(t,...e){return P_(t,...e)}function rR(t,e,n){let r=Object.assign(Object.assign({},tR()),{[e]:n});return new Er("auth","Firebase",r).create(e,{appName:t.name})}function fi(t){return rR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function P_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nR.create(t,...e)}function z(t,e,...n){if(!t)throw P_(e,...n)}function wr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Fh(e),new Error(e)}function pi(t,e){t||wr(e)}function f_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Gj(){return VA()==="http:"||VA()==="https:"}function VA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Wj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Gj()||yA()||"connection"in navigator)?navigator.onLine:!0}function Kj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var yo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,pi(n>e,"Short delay should be less than long delay!"),this.isMobile=gA()||vA()}get(){return Wj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function O_(t,e){pi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Bh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Qj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Yj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Zj=new yo(3e4,6e4);function gi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cr(t,e,n,r,i={}){return iR(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Qc(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let l=Object.assign({method:e,headers:u},o);return mA()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&si(t.emulatorConfig.host)&&(l.credentials="include"),Bh.fetch()(await oR(t,t.config.apiHost,n,a),l)})}async function iR(t,e,n){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Qj),e);try{let i=new p_(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw kh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw kh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw kh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw rR(t,h,l);Wn(t,h)}}catch(i){if(i instanceof Zt)throw i;Wn(t,"network-request-failed",{message:String(i)})}}async function Jh(t,e,n,r,i={}){let o=await Cr(t,e,n,r,i);return"mfaPendingCredential"in o&&Wn(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function oR(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?O_(t.config,i):`${t.config.apiScheme}://${i}`;return Yj.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function Jj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var p_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mo(this.auth,"network-request-failed")),Zj.get())})}};function kh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=mo(t,e,r);return i.customData._tokenResponse=n,i}function UA(t){return t!==void 0&&t.enterprise!==void 0}var g_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Jj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function Xj(t,e){return Cr(t,"GET","/v2/recaptchaConfig",gi(t,e))}async function eB(t,e){return Cr(t,"POST","/v1/accounts:delete",e)}async function Hh(t,e){return Cr(t,"POST","/v1/accounts:lookup",e)}function eu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sR(t,e=!1){let n=Le(t),r=await n.getIdToken(e),i=k_(r);z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:eu(l_(i.auth_time)),issuedAtTime:eu(l_(i.iat)),expirationTime:eu(l_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function l_(t){return Number(t)*1e3}function k_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ah(n);return i?JSON.parse(i):(Fh("Failed to decode base64 JWT payload"),null)}catch(i){return Fh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function jA(t){let e=k_(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function nu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zt&&tB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function tB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var m_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var ru=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function $h(t){var e;let n=t.auth,r=await t.getIdToken(),i=await nu(t,Hh(n,{idToken:r}));z(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?cR(o.providerUserInfo):[],a=nB(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ru(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function aR(t){let e=Le(t);await $h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cR(t){return t.map(e=>{var{providerId:n}=e,r=Yp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function rB(t,e){let n=await iR(t,{},async()=>{let r=Qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await oR(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&si(t.emulatorConfig.host)&&(u.credentials="include"),Bh.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iB(t,e){return Cr(t,"POST","/v2/accounts:revokeToken",gi(t,e))}var tu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){z(e.length!==0,"internal-error");let n=jA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await rB(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(z(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(z(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return wr("not implemented")}};function di(t,e){z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var hi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Yp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new m_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ru(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let n=await nu(this,this.stsTokenManager.getToken(this.auth,e));return z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sR(this,e)}reload(){return aR(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $h(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jt(this.auth.app))return Promise.reject(fi(this.auth));let e=await this.getIdToken();return await nu(this,eB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=n.photoURL)!==null&&s!==void 0?s:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=n.createdAt)!==null&&l!==void 0?l:void 0,q=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Z,emailVerified:Re,isAnonymous:St,providerData:De,stsTokenManager:w}=n;z(Z&&w,e,"internal-error");let v=tu.fromJSON(this.name,w);z(typeof Z=="string",e,"internal-error"),di(p,e.name),di(g,e.name),z(typeof Re=="boolean",e,"internal-error"),z(typeof St=="boolean",e,"internal-error"),di(y,e.name),di(C,e.name),di(R,e.name),di(A,e.name),di(L,e.name),di(q,e.name);let E=new t({uid:Z,auth:e,email:g,emailVerified:Re,displayName:p,isAnonymous:St,photoURL:C,phoneNumber:y,tenantId:R,stsTokenManager:v,createdAt:L,lastLoginAt:q});return De&&Array.isArray(De)&&(E.providerData=De.map(I=>Object.assign({},I))),A&&(E._redirectEventId=A),E}static async _fromIdTokenResponse(e,n,r=!1){let i=new tu;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await $h(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];z(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?cR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new tu;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ru(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var BA=new Map;function Dr(t){pi(t instanceof Function,"Expected a class definition");let e=BA.get(t);return e?(pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BA.set(t,e),e)}var oB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),y_=oB;function Lh(t,e,n){return`firebase:${t}:${e}:${n}`}var qh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Lh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Lh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await Hh(this.auth,{idToken:e}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(Dr(y_),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||Dr(y_),s=Lh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let g=await Hh(e,{idToken:h}).catch(()=>{});if(!g)break;p=await hi._fromGetAccountInfoResponse(e,g,h)}else p=hi._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new t(o,e,r))}};function HA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pR(e))return"Blackberry";if(gR(e))return"Webos";if(lR(e))return"Safari";if((e.includes("chrome/")||dR(e))&&!e.includes("edge/"))return"Chrome";if(fR(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function uR(t=st()){return/firefox\//i.test(t)}function lR(t=st()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dR(t=st()){return/crios\//i.test(t)}function hR(t=st()){return/iemobile/i.test(t)}function fR(t=st()){return/android/i.test(t)}function pR(t=st()){return/blackberry/i.test(t)}function gR(t=st()){return/webos/i.test(t)}function F_(t=st()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sB(t=st()){var e;return F_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aB(){return _A()&&document.documentMode===10}function mR(t=st()){return F_(t)||fR(t)||gR(t)||pR(t)||/windows phone/i.test(t)||hR(t)}function yR(t,e=[]){let n;switch(t){case"Browser":n=HA(st());break;case"Worker":n=`${HA(st())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${li}/${r}`}var v_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function cB(t,e={}){return Cr(t,"GET","/v2/passwordPolicy",gi(t,e))}var uB=6,__=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:uB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var E_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zh(this),this.idTokenSubscription=new zh(this),this.beforeStateQueue=new v_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dr(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await qh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await Hh(this,{idToken:e}),r=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $h(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Kj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jt(this.app))return Promise.reject(fi(this));let n=e?Le(e):null;return n&&z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jt(this.app)?Promise.reject(fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jt(this.app)?Promise.reject(fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await cB(this),n=new __(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Er("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&Dr(e)||this._popupRedirectResolver;z(n,this,"argument-error"),this.redirectPersistenceManager=await qh.create(this,[Dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Jt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&zj(`Error while retrieving App Check token: ${n.error}`),n?.token}};function xs(t){return Le(t)}var zh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=DA(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lB(t){Xh=t}function vR(t){return Xh.loadJS(t)}function dB(){return Xh.recaptchaEnterpriseScript}function hB(){return Xh.gapiScript}function _R(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var I_=class{constructor(){this.enterprise=new w_}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},w_=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var fB="recaptcha-enterprise",ER="NO_RECAPTCHA",D_=class{constructor(e){this.type=fB,this.auth=xs(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{Xj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new g_(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})})}function i(o,s,a){let u=window.grecaptcha;UA(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(ER)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new I_().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&UA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=dB();u.length!==0&&(u+=a),vR(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}};async function Xc(t,e,n,r=!1,i=!1){let o=new D_(t),s;if(i)s=ER;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function $A(t,e,n,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=await Xc(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=await Xc(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=await Xc(t,e,n);return r(t,a).catch(async u=>{var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=await Xc(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)})}else{let a=await Xc(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}function IR(t,e){let n=Zc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(qn(o,e??{}))return i;Wn(i,"already-initialized")}return n.initialize({options:e})}function pB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Dr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function wR(t,e,n){let r=xs(t);z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=DR(e),{host:s,port:a}=gB(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),z(qn(l,r.config.emulator)&&qn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,si(s)?(Mh(`${o}//${s}${u}`),Nh("Auth",!0)):i||mB()}function DR(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gB(t){let e=DR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:qA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:qA(s)}}}function qA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function mB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var iu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,n){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}};async function yB(t,e){return Cr(t,"POST","/v1/accounts:signUp",e)}async function vB(t,e){return Jh(t,"POST","/v1/accounts:signInWithPassword",gi(t,e))}async function _B(t,e){return Cr(t,"POST","/v1/accounts:sendOobCode",gi(t,e))}async function EB(t,e){return _B(t,e)}async function IB(t,e){return Jh(t,"POST","/v1/accounts:signInWithEmailLink",gi(t,e))}async function wB(t,e){return Jh(t,"POST","/v1/accounts:signInWithEmailLink",gi(t,e))}var ou=class t extends iu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $A(e,n,"signInWithPassword",vB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return IB(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $A(e,r,"signUpPassword",yB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return wB(e,{idToken:n,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function d_(t,e){return Jh(t,"POST","/v1/accounts:signInWithIdp",gi(t,e))}function DB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CB(t){let e=Rs(Ms(t)).link,n=e?Rs(Ms(e)).deep_link_id:null,r=Rs(Ms(t)).deep_link_id;return(r?Rs(Ms(r)).link:null)||r||n||e||t}var Gh=class t{constructor(e){var n,r,i,o,s,a;let u=Rs(Ms(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=DB((i=u.mode)!==null&&i!==void 0?i:null);z(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=CB(e);try{return new t(n)}catch{return null}}};var CR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ou._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Gh.parseLink(r);return z(i,"argument-error"),ou._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Wh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var C_=class extends Wh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var su=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){let o=await hi._fromIdTokenResponse(e,r,i),s=zA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let i=zA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function zA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var b_=class t extends Zt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function bR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?b_._fromErrorAndOperation(t,o,e,r):o})}async function bB(t,e,n=!1){let r=await nu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return su._forOperation(t,"link",r)}async function TB(t,e,n=!1){let{auth:r}=t;if(Jt(r.app))return Promise.reject(fi(r));let i="reauthenticate";try{let o=await nu(t,bR(r,i,e,t),n);z(o.idToken,r,"internal-error");let s=k_(o.idToken);z(s,r,"internal-error");let{sub:a}=s;return z(t.uid===a,r,"user-mismatch"),su._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Wn(r,"user-mismatch"),o}}async function TR(t,e,n=!1){if(Jt(t.app))return Promise.reject(fi(t));let r="signIn",i=await bR(t,r,e),o=await su._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function SR(t,e){return TR(xs(t),e)}function SB(t,e,n){var r;z(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),z(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),z(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(z(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(z(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}async function AB(t){let e=xs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function L_(t,e,n){return Jt(t.app)?Promise.reject(fi(t)):SR(Le(t),CR.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&AB(t),r})}async function V_(t,e){let n=Le(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&SB(n.auth,i,e);let{email:o}=await EB(n.auth,i);o!==t.email&&await t.reload()}function U_(t,e){return Le(t).setPersistence(e)}function AR(t,e,n,r){return Le(t).onIdTokenChanged(e,n,r)}function RR(t,e,n){return Le(t).beforeAuthStateChanged(e,n)}function j_(t,e,n,r){return Le(t).onAuthStateChanged(e,n,r)}function B_(t){return Le(t).signOut()}var Kh="__sak";var Qh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kh,"1"),this.storage.removeItem(Kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var RB=1e3,MB=10,NB=(()=>{class t extends Qh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);aB()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,MB):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},RB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return t.type="LOCAL",t})(),ef=NB;var xB=(()=>{class t extends Qh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),H_=xB;function PB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var OB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async h=>h(r.origin,s)),l=await PB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function MR(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var T_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=MR("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function Gn(){return window}function kB(t){Gn().location.href=t}function NR(){return typeof Gn().WorkerGlobalScope<"u"&&typeof Gn().importScripts=="function"}async function FB(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LB(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function VB(){return NR()?self:null}var xR="firebaseLocalStorageDb",UB=1,Yh="firebaseLocalStorage",PR="fbase_key",vo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function tf(t,e){return t.transaction([Yh],e?"readwrite":"readonly").objectStore(Yh)}function jB(){let t=indexedDB.deleteDatabase(xR);return new vo(t).toPromise()}function S_(){let t=indexedDB.open(xR,UB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Yh,{keyPath:PR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(Yh)?e(r):(r.close(),await jB(),e(await S_()))})})}async function GA(t,e,n){let r=tf(t,!0).put({[PR]:e,value:n});return new vo(r).toPromise()}async function BB(t,e){let n=tf(t,!1).get(e),r=await new vo(n).toPromise();return r===void 0?null:r.value}function WA(t,e){let n=tf(t,!0).delete(e);return new vo(n).toPromise()}var HB=800,$B=3,qB=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await S_(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>$B)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=OB._getInstance(VB()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await FB(),!this.activeServiceWorker)return;this.sender=new T_(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||LB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await S_();return await GA(n,Kh,"1"),await WA(n,Kh),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>GA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>BB(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>WA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(o=>{let s=tf(o,!1).getAll();return new vo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),OR=qB;var Mte=_R("rcb"),Nte=new yo(3e4,6e4);function zB(t,e){return e?Dr(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var au=class extends iu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return d_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return d_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return d_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function GB(t){return TR(t.auth,new au(t),t.bypassAuthState)}function WB(t){let{auth:e,user:n}=t;return z(n,e,"internal-error"),TB(n,new au(t),t.bypassAuthState)}async function KB(t){let{auth:e,user:n}=t;return z(n,e,"internal-error"),bB(n,new au(t),t.bypassAuthState)}var A_=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GB;case"linkViaPopup":case"linkViaRedirect":return KB;case"reauthViaPopup":case"reauthViaRedirect":return WB;default:Wn(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var xte=new yo(2e3,1e4);var QB="pendingRedirect",Vh=new Map,R_=class extends A_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vh.get(this.auth._key());if(!e){try{let r=await YB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vh.set(this.auth._key(),e)}return this.bypassAuthState||Vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function YB(t,e){let n=XB(e),r=JB(t);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function ZB(t,e){Vh.set(t._key(),e)}function JB(t){return Dr(t._redirectPersistence)}function XB(t){return Lh(QB,t.config.apiKey,t.name)}async function eH(t,e,n=!1){if(Jt(t.app))return Promise.reject(fi(t));let r=xs(t),i=zB(r,e),s=await new R_(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var tH=600*1e3,M_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tH&&this.cachedEventUids.clear(),this.cachedEventUids.has(KA(e))}saveEventToCache(e){this.cachedEventUids.add(KA(e)),this.lastProcessedEventTime=Date.now()}};function KA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function nH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kR(t);default:return!1}}async function rH(t,e={}){return Cr(t,"GET","/v1/projects",e)}var iH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oH=/^https?/;async function sH(t){if(t.config.emulator)return;let{authorizedDomains:e}=await rH(t);for(let n of e)try{if(aH(n))return}catch{}Wn(t,"unauthorized-domain")}function aH(t){let e=f_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!oH.test(n))return!1;if(iH.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var cH=new yo(3e4,6e4);function QA(){let t=Gn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uH(t){return new Promise((e,n)=>{var r,i,o;function s(){QA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QA(),n(mo(t,"network-request-failed"))},timeout:cH.get()})}if(!((i=(r=Gn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Gn().gapi)===null||o===void 0)&&o.load)s();else{let a=_R("iframefcb");return Gn()[a]=()=>{gapi.load?s():n(mo(t,"network-request-failed"))},vR(`${hB()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Uh=null,e})}var Uh=null;function lH(t){return Uh=Uh||uH(t),Uh}var dH=new yo(5e3,15e3),hH="__/auth/iframe",fH="emulator/auth/iframe",pH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mH(t){let e=t.config;z(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?O_(e,fH):`https://${t.config.authDomain}/${hH}`,r={apiKey:e.apiKey,appName:t.name,v:li},i=gH.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Qc(r).slice(1)}`}async function yH(t){let e=await lH(t),n=Gn().gapi;return z(n,t,"internal-error"),e.open({where:document.body,url:mH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pH,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=mo(t,"network-request-failed"),a=Gn().setTimeout(()=>{o(s)},dH.get());function u(){Gn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var vH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_H=500,EH=600,IH="_blank",wH="http://localhost",Zh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function DH(t,e,n,r=_H,i=EH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},vH),{width:r.toString(),height:i.toString(),top:o,left:s}),l=st().toLowerCase();n&&(a=dR(l)?IH:n),uR(l)&&(e=e||wH,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,C])=>`${g}${y}=${C},`,"");if(sB(l)&&a!=="_self")return CH(e||"",a),new Zh(null);let p=window.open(e||"",a,h);z(p,t,"popup-blocked");try{p.focus()}catch{}return new Zh(p)}function CH(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var bH="__/auth/handler",TH="emulator/auth/handler",SH=encodeURIComponent("fac");async function YA(t,e,n,r,i,o){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:li,eventId:i};if(e instanceof Wh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",wA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof C_){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=await t._getAppCheckToken(),l=u?`#${SH}=${encodeURIComponent(u)}`:"";return`${AH(t)}?${Qc(a).slice(1)}${l}`}function AH({config:t}){return t.emulator?O_(t,TH):`https://${t.authDomain}/${bH}`}var h_="webStorageSupport",N_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H_,this._completeRedirectFn=eH,this._overrideRedirectResult=ZB}async _openPopup(e,n,r,i){var o;pi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=await YA(e,n,r,f_(),i);return DH(e,s,MR())}async _openRedirect(e,n,r,i){await this._originValidation(e);let o=await YA(e,n,r,f_(),i);return kB(o),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(pi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await yH(e),r=new M_(e);return n.register("authEvent",i=>(z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(h_,{type:h_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[h_];s!==void 0&&n(!!s),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mR()||lR()||F_()}},FR=N_;var ZA="@firebase/auth",JA="1.10.8";var x_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function RH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MH(t){ui(new dn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yR(t)},l=new E_(r,i,o,u);return pB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ui(new dn("auth-internal",e=>{let n=xs(e.getProvider("auth").getImmediate());return(r=>new x_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tn(ZA,JA,RH(t)),Tn(ZA,JA,"esm2017")}var NH=300,xH=Kv("authIdTokenMaxAge")||NH,XA=null,PH=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xH)return;let i=n?.token;XA!==i&&(XA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $_(t=Ns()){let e=Zc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=IR(t,{popupRedirectResolver:FR,persistence:[OR,ef,H_]}),r=Kv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=PH(o.toString());RR(n,s,()=>s(n.currentUser)),AR(n,a=>s(a))}}let i=Gv("auth");return i&&wR(n,`http://${i}`),n}function OH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}lB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=mo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",OH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MH("Browser");var nf=class t{app;auth;user=ue(null);loading=ue(!0);error=ue(null);verifying=ue(!1);constructor(){this.app=Jc(As.firebase),this.auth=$_(this.app),U_(this.auth,ef),j_(this.auth,e=>{this.user.set(e),this.loading.set(!1)}),rs(()=>{this.error()})}async signIn(e,n){this.error.set(null),await L_(this.auth,e,n)}async sendVerification(){let e=this.auth.currentUser;if(e){this.verifying.set(!0);try{await V_(e)}finally{this.verifying.set(!1)}}}async logout(){await B_(this.auth)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})};var LR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},VR={};var br,q_;(function(){var t;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,D,T){for(var _=Array(arguments.length-2),Xn=2;Xn<arguments.length;Xn++)_[Xn-2]=arguments[Xn];return v.prototype[D].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)I[D]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(D=0;16>D;++D)I[D]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],D=w.g[2];var T=w.g[3],_=v+(T^E&(D^T))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=T+(D^v&(E^D))+I[1]+3905402710&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(E^T&(v^E))+I[2]+606105819&4294967295,D=T+(_<<17&4294967295|_>>>15),_=E+(v^D&(T^v))+I[3]+3250441966&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(T^E&(D^T))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=T+(D^v&(E^D))+I[5]+1200080426&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(E^T&(v^E))+I[6]+2821735955&4294967295,D=T+(_<<17&4294967295|_>>>15),_=E+(v^D&(T^v))+I[7]+4249261313&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(T^E&(D^T))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=T+(D^v&(E^D))+I[9]+2336552879&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(E^T&(v^E))+I[10]+4294925233&4294967295,D=T+(_<<17&4294967295|_>>>15),_=E+(v^D&(T^v))+I[11]+2304563134&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(T^E&(D^T))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=T+(D^v&(E^D))+I[13]+4254626195&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(E^T&(v^E))+I[14]+2792965006&4294967295,D=T+(_<<17&4294967295|_>>>15),_=E+(v^D&(T^v))+I[15]+1236535329&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(D^T&(E^D))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^D&(v^E))+I[6]+3225465664&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(T^v))+I[11]+643717713&4294967295,D=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(D^T))+I[0]+3921069994&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^T&(E^D))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^D&(v^E))+I[10]+38016083&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(T^v))+I[15]+3634488961&4294967295,D=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(D^T))+I[4]+3889429448&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^T&(E^D))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^D&(v^E))+I[14]+3275163606&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(T^v))+I[3]+4107603335&4294967295,D=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(D^T))+I[8]+1163531501&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^T&(E^D))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^D&(v^E))+I[2]+4243563512&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(T^v))+I[7]+1735328473&4294967295,D=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(D^T))+I[12]+2368359562&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(E^D^T)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^D)+I[8]+2272392833&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^E)+I[11]+1839030562&4294967295,D=T+(_<<16&4294967295|_>>>16),_=E+(D^T^v)+I[14]+4259657740&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^T)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^D)+I[4]+1272893353&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^E)+I[7]+4139469664&4294967295,D=T+(_<<16&4294967295|_>>>16),_=E+(D^T^v)+I[10]+3200236656&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^T)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^D)+I[0]+3936430074&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^E)+I[3]+3572445317&4294967295,D=T+(_<<16&4294967295|_>>>16),_=E+(D^T^v)+I[6]+76029189&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^T)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^D)+I[12]+3873151461&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^E)+I[15]+530742520&4294967295,D=T+(_<<16&4294967295|_>>>16),_=E+(D^T^v)+I[2]+3299628645&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(D^(E|~T))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~D))+I[7]+1126891415&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~E))+I[14]+2878612391&4294967295,D=T+(_<<15&4294967295|_>>>17),_=E+(T^(D|~v))+I[5]+4237533241&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~T))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~D))+I[3]+2399980690&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~E))+I[10]+4293915773&4294967295,D=T+(_<<15&4294967295|_>>>17),_=E+(T^(D|~v))+I[1]+2240044497&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~T))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~D))+I[15]+4264355552&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~E))+I[6]+2734768916&4294967295,D=T+(_<<15&4294967295|_>>>17),_=E+(T^(D|~v))+I[13]+1309151649&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~T))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~D))+I[11]+3174756917&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~E))+I[2]+718787259&4294967295,D=T+(_<<15&4294967295|_>>>17),_=E+(T^(D|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+T&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,D=this.h,T=0;T<v;){if(D==0)for(;T<=E;)i(this,w,T),T+=this.blockSize;if(typeof w=="string"){for(;T<v;)if(I[D++]=w.charCodeAt(T++),D==this.blockSize){i(this,I),D=0;break}}else for(;T<v;)if(I[D++]=w[T++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=a;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,D=w.length-1;0<=D;D--){var T=w[D]|0;I&&T==v||(E[D]=T,I=!1)}this.g=E}var a={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return A(l(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return A(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,D=0;D<w.length;D+=8){var T=Math.min(8,w.length-D),_=parseInt(w.substring(D,D+T),v);8>T?(T=l(Math.pow(v,T)),I=I.j(T).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),g=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(R(this))return-A(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C(this))return"0";if(R(this))return"-"+A(this).toString(w);for(var v=l(Math.pow(w,6)),E=this,I="";;){var D=Re(E,v).g;E=L(E,D.j(v));var T=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=D,C(E))return T+I;for(;6>T.length;)T="0"+T;I=T+I}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function C(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function R(w){return w.h==-1}t.l=function(w){return w=L(this,w),R(w)?-1:C(w)?0:1};function A(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(g)}t.abs=function(){return R(this)?A(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,D=0;D<=v;D++){var T=I+(this.i(D)&65535)+(w.i(D)&65535),_=(T>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);I=_>>>16,T&=65535,_&=65535,E[D]=_<<16|T}return new s(E,E[E.length-1]&-2147483648?-1:0)};function L(w,v){return w.add(A(v))}t.j=function(w){if(C(this)||C(w))return p;if(R(this))return R(w)?A(this).j(A(w)):A(A(this).j(w));if(R(w))return A(this.j(A(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<w.g.length;D++){var T=this.i(I)>>>16,_=this.i(I)&65535,Xn=w.i(D)>>>16,ia=w.i(D)&65535;E[2*I+2*D]+=_*ia,q(E,2*I+2*D),E[2*I+2*D+1]+=T*ia,q(E,2*I+2*D+1),E[2*I+2*D+1]+=_*Xn,q(E,2*I+2*D+1),E[2*I+2*D+2]+=T*Xn,q(E,2*I+2*D+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function q(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function Z(w,v){this.g=w,this.h=v}function Re(w,v){if(C(v))throw Error("division by zero");if(C(w))return new Z(p,p);if(R(w))return v=Re(A(w),v),new Z(A(v.g),A(v.h));if(R(v))return v=Re(w,A(v)),new Z(A(v.g),v.h);if(30<w.g.length){if(R(w)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var E=g,I=v;0>=I.l(w);)E=St(E),I=St(I);var D=De(E,1),T=De(I,1);for(I=De(I,2),E=De(E,2);!C(I);){var _=T.add(I);0>=_.l(w)&&(D=D.add(E),T=_),I=De(I,1),E=De(E,1)}return v=L(w,D.j(v)),new Z(D,v)}for(D=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),T=l(E),_=T.j(v);R(_)||0<_.l(w);)E-=I,T=l(E),_=T.j(v);C(T)&&(T=g),D=D.add(T),w=L(w,_)}return new Z(D,w)}t.A=function(w){return Re(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function St(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function De(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,D=[],T=0;T<I;T++)D[T]=0<v?w.i(T+E)>>>v|w.i(T+E+1)<<32-v:w.i(T+E);return new s(D,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,q_=VR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,br=VR.Integer=s}).apply(typeof LR<"u"?LR:typeof self<"u"?self:typeof window<"u"?window:{});var rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tr={};var z_,kH,Ps,G_,cu,of,W_,K_,Q_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rf=="object"&&rf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var b=c[m];if(!(b in f))break e;f=f[b]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,b={next:function(){if(!m&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return m=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,m),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,b,S){for(var F=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)F[Me-2]=arguments[Me];return d.prototype[b].apply(m,F)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function A(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let b=c.length||0,S=m.length||0;c.length=b+S;for(let F=0;F<S;F++)c[b+F]=m[F]}else c.push(m)}}class L{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function q(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Re(c){return Re[" "](c),c}Re[" "]=function(){};var St=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function De(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function w(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,m;for(let b=1;b<arguments.length;b++){m=arguments[b];for(f in m)c[f]=m[f];for(let S=0;S<E.length;S++)f=E[S],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function _(){var c=np;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Xn{constructor(){this.h=this.g=null}add(d,f){let m=ia.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var ia=new L(()=>new ux,c=>c.reset());class ux{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let oa,sa=!1,np=new Xn,pw=()=>{let c=a.Promise.resolve(void 0);oa=()=>{c.then(lx)}};var lx=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){T(f)}var d=ia;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}sa=!1};function Or(){this.s=this.s,this.C=this.C}Or.prototype.s=!1,Or.prototype.ma=function(){this.s||(this.s=!0,this.N())},Or.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function yt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}yt.prototype.h=function(){this.defaultPrevented=!0};var dx=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function aa(c,d){if(yt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(St){e:{try{Re(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:hx[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&aa.aa.h.call(this)}}C(aa,yt);var hx={2:"touch",3:"pen",4:"mouse"};aa.prototype.h=function(){aa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ca="closure_listenable_"+(1e6*Math.random()|0),fx=0;function px(c,d,f,m,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=b,this.key=++fx,this.da=this.fa=!1}function Mu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Nu(c){this.src=c,this.g={},this.h=0}Nu.prototype.add=function(c,d,f,m,b){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var F=ip(c,d,m,b);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new px(d,this.src,S,!!m,b),d.fa=f,c.push(d)),d};function rp(c,d){var f=d.type;if(f in c.g){var m=c.g[f],b=Array.prototype.indexOf.call(m,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(m,b,1),S&&(Mu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function ip(c,d,f,m){for(var b=0;b<c.length;++b){var S=c[b];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==m)return b}return-1}var op="closure_lm_"+(1e6*Math.random()|0),sp={};function gw(c,d,f,m,b){if(m&&m.once)return yw(c,d,f,m,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)gw(c,d[S],f,m,b);return null}return f=lp(f),c&&c[ca]?c.K(d,f,l(m)?!!m.capture:!!m,b):mw(c,d,f,!1,m,b)}function mw(c,d,f,m,b,S){if(!d)throw Error("Invalid event type");var F=l(b)?!!b.capture:!!b,Me=cp(c);if(Me||(c[op]=Me=new Nu(c)),f=Me.add(d,f,m,F,S),f.proxy)return f;if(m=gx(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)dx||(b=F),b===void 0&&(b=!1),c.addEventListener(d.toString(),m,b);else if(c.attachEvent)c.attachEvent(_w(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function gx(){function c(f){return d.call(c.src,c.listener,f)}let d=mx;return c}function yw(c,d,f,m,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)yw(c,d[S],f,m,b);return null}return f=lp(f),c&&c[ca]?c.L(d,f,l(m)?!!m.capture:!!m,b):mw(c,d,f,!0,m,b)}function vw(c,d,f,m,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)vw(c,d[S],f,m,b);else m=l(m)?!!m.capture:!!m,f=lp(f),c&&c[ca]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=ip(S,f,m,b),-1<f&&(Mu(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=cp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=ip(d,f,m,b)),(f=-1<c?d[c]:null)&&ap(f))}function ap(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ca])rp(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(_w(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=cp(d))?(rp(f,c),f.h==0&&(f.src=null,d[op]=null)):Mu(c)}}}function _w(c){return c in sp?sp[c]:sp[c]="on"+c}function mx(c,d){if(c.da)c=!0;else{d=new aa(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&ap(c),c=f.call(m,d)}return c}function cp(c){return c=c[op],c instanceof Nu?c:null}var up="__closure_events_fn_"+(1e9*Math.random()>>>0);function lp(c){return typeof c=="function"?c:(c[up]||(c[up]=function(d){return c.handleEvent(d)}),c[up])}function vt(){Or.call(this),this.i=new Nu(this),this.M=this,this.F=null}C(vt,Or),vt.prototype[ca]=!0,vt.prototype.removeEventListener=function(c,d,f,m){vw(this,c,d,f,m)};function At(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new yt(d,c);else if(d instanceof yt)d.target=d.target||c;else{var b=d;d=new yt(m,c),I(d,b)}if(b=!0,f)for(var S=f.length-1;0<=S;S--){var F=d.g=f[S];b=xu(F,m,!0,d)&&b}if(F=d.g=c,b=xu(F,m,!0,d)&&b,b=xu(F,m,!1,d)&&b,f)for(S=0;S<f.length;S++)F=d.g=f[S],b=xu(F,m,!1,d)&&b}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)Mu(f[m]);delete c.g[d],c.h--}}this.F=null},vt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},vt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function xu(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var F=d[S];if(F&&!F.da&&F.capture==f){var Me=F.listener,ut=F.ha||F.src;F.fa&&rp(c.i,F),b=Me.call(ut,m)!==!1&&b}}return b&&!m.defaultPrevented}function Ew(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Iw(c){c.g=Ew(()=>{c.g=null,c.i&&(c.i=!1,Iw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class yx extends Or{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Iw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(c){Or.call(this),this.h=c,this.g={}}C(ua,Or);var ww=[];function Dw(c){De(c.g,function(d,f){this.g.hasOwnProperty(f)&&ap(d)},c),c.g={}}ua.prototype.N=function(){ua.aa.N.call(this),Dw(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dp=a.JSON.stringify,vx=a.JSON.parse,_x=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function hp(){}hp.prototype.h=null;function Cw(c){return c.h||(c.h=c.i())}function bw(){}var la={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fp(){yt.call(this,"d")}C(fp,yt);function pp(){yt.call(this,"c")}C(pp,yt);var Ai={},Tw=null;function Pu(){return Tw=Tw||new vt}Ai.La="serverreachability";function Sw(c){yt.call(this,Ai.La,c)}C(Sw,yt);function da(c){let d=Pu();At(d,new Sw(d))}Ai.STAT_EVENT="statevent";function Aw(c,d){yt.call(this,Ai.STAT_EVENT,c),this.stat=d}C(Aw,yt);function Rt(c){let d=Pu();At(d,new Aw(d,c))}Ai.Ma="timingevent";function Rw(c,d){yt.call(this,Ai.Ma,c),this.size=d}C(Rw,yt);function ha(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function fa(){this.g=!0}fa.prototype.xa=function(){this.g=!1};function Ex(c,d,f,m,b,S){c.info(function(){if(c.g)if(S)for(var F="",Me=S.split("&"),ut=0;ut<Me.length;ut++){var ge=Me[ut].split("=");if(1<ge.length){var _t=ge[0];ge=ge[1];var Et=_t.split("_");F=2<=Et.length&&Et[1]=="type"?F+(_t+"="+ge+"&"):F+(_t+"=redacted&")}}else F=null;else F=S;return"XMLHTTP REQ ("+m+") [attempt "+b+"]: "+d+`
`+f+`
`+F})}function Ix(c,d,f,m,b,S,F){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+b+"]: "+d+`
`+f+`
`+S+" "+F})}function xo(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Dx(c,f)+(m?" "+m:"")})}function wx(c,d){c.info(function(){return"TIMEOUT: "+d})}fa.prototype.info=function(){};function Dx(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var b=m[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var F=1;F<b.length;F++)b[F]=""}}}}return dp(f)}catch{return d}}var Ou={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gp;function ku(){}C(ku,hp),ku.prototype.g=function(){return new XMLHttpRequest},ku.prototype.i=function(){return{}},gp=new ku;function kr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nw}function Nw(){this.i=null,this.g="",this.h=!1}var xw={},mp={};function yp(c,d,f){c.L=1,c.v=Uu(er(d)),c.m=f,c.P=!0,Pw(c,null)}function Pw(c,d){c.F=Date.now(),Fu(c),c.A=er(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),Ww(f.i,"t",m),c.C=0,f=c.j.J,c.h=new Nw,c.g=d0(c.j,f?d:null,!c.m),0<c.O&&(c.M=new yx(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(ww[0]=b.toString()),b=ww);for(var S=0;S<b.length;S++){var F=gw(f,b[S],m||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),da(),Ex(c.i,c.u,c.A,c.l,c.R,c.m)}kr.prototype.ca=function(c){c=c.target;let d=this.M;d&&tr(c)==3?d.j():this.Y(c)},kr.prototype.Y=function(c){try{if(c==this.g)e:{let Et=tr(this.g);var d=this.g.Ba();let ko=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||e0(this.g)))){this.J||Et!=4||d==7||(d==8||0>=ko?da(3):da(2)),vp(this);var f=this.g.Z();this.X=f;t:if(Ow(this)){var m=e0(this.g);c="";var b=m.length,S=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ri(this),pa(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(S&&d==b-1)});m.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,Ix(this.i,this.u,this.A,this.l,this.R,Et,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,ut=this.g;if((Me=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Me)){var ge=Me;break t}}ge=null}if(f=ge)xo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_p(this,f);else{this.o=!1,this.s=3,Rt(12),Ri(this),pa(this);break e}}if(this.P){f=!0;let pn;for(;!this.J&&this.C<F.length;)if(pn=Cx(this,F),pn==mp){Et==4&&(this.s=4,Rt(14),f=!1),xo(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==xw){this.s=4,Rt(15),xo(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else xo(this.i,this.l,pn,null),_p(this,pn);if(Ow(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||F.length!=0||this.h.h||(this.s=1,Rt(16),f=!1),this.o=this.o&&f,!f)xo(this.i,this.l,F,"[Invalid Chunked Response]"),Ri(this),pa(this);else if(0<F.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),bp(_t),_t.M=!0,Rt(11))}}else xo(this.i,this.l,F,null),_p(this,F);Et==4&&Ri(this),this.o&&!this.J&&(Et==4?a0(this.j,this):(this.o=!1,Fu(this)))}else Bx(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),Ri(this),pa(this)}}}catch{}};function Ow(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Cx(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?mp:(f=Number(d.substring(f,m)),isNaN(f)?xw:(m+=1,m+f>d.length?mp:(d=d.slice(m,m+f),c.C=m+f,d)))}kr.prototype.cancel=function(){this.J=!0,Ri(this)};function Fu(c){c.S=Date.now()+c.I,kw(c,c.I)}function kw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ha(g(c.ba,c),d)}function vp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}kr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(wx(this.i,this.A),this.L!=2&&(da(),Rt(17)),Ri(this),this.s=2,pa(this)):kw(this,this.S-c)};function pa(c){c.j.G==0||c.J||a0(c.j,c)}function Ri(c){vp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Dw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function _p(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Ep(f.h,c))){if(!c.K&&Ep(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var b=m;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)qu(f),Hu(f);else break e;Cp(f),Rt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=ha(g(f.Za,f),6e3));if(1>=Vw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ni(f,11)}else if((c.K||f.g==c)&&qu(f),!q(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ge=b[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let _t=ge[3];_t!=null&&(f.la=_t,f.j.info("VER="+f.la));let Et=ge[4];Et!=null&&(f.Aa=Et,f.j.info("SVER="+f.Aa));let ko=ge[5];ko!=null&&typeof ko=="number"&&0<ko&&(m=1.5*ko,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let pn=c.g;if(pn){let Gu=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gu){var S=m.h;S.g||Gu.indexOf("spdy")==-1&&Gu.indexOf("quic")==-1&&Gu.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Ip(S,S.h),S.h=null))}if(m.D){let Tp=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Tp&&(m.ya=Tp,xe(m.I,m.D,Tp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var F=c;if(m.qa=l0(m,m.J?m.ia:null,m.W),F.K){Uw(m.h,F);var Me=F,ut=m.L;ut&&(Me.I=ut),Me.B&&(vp(Me),Fu(Me)),m.g=F}else o0(m);0<f.i.length&&$u(f)}else ge[0]!="stop"&&ge[0]!="close"||Ni(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Ni(f,7):Dp(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}da(4)}catch{}}var bx=class{constructor(c,d){this.g=c,this.map=d}};function Fw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Lw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Vw(c){return c.h?1:c.g?c.g.size:0}function Ep(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Ip(c,d){c.g?c.g.add(d):c.h=d}function Uw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Fw.prototype.cancel=function(){if(this.i=jw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function jw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function Tx(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function Sx(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function Bw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=Sx(c),m=Tx(c),b=m.length,S=0;S<b;S++)d.call(void 0,m[S],f&&f[S],c)}var Hw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ax(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),b=null;if(0<=m){var S=c[f].substring(0,m);b=c[f].substring(m+1)}else S=c[f];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Mi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Mi){this.h=c.h,Lu(this,c.j),this.o=c.o,this.g=c.g,Vu(this,c.s),this.l=c.l;var d=c.i,f=new ya;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),$w(this,f),this.m=c.m}else c&&(d=String(c).match(Hw))?(this.h=!1,Lu(this,d[1]||"",!0),this.o=ga(d[2]||""),this.g=ga(d[3]||"",!0),Vu(this,d[4]),this.l=ga(d[5]||"",!0),$w(this,d[6]||"",!0),this.m=ga(d[7]||"")):(this.h=!1,this.i=new ya(null,this.h))}Mi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ma(d,qw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ma(d,qw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ma(f,f.charAt(0)=="/"?Nx:Mx,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ma(f,Px)),c.join("")};function er(c){return new Mi(c)}function Lu(c,d,f){c.j=f?ga(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Vu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function $w(c,d,f){d instanceof ya?(c.i=d,Ox(c.i,c.h)):(f||(d=ma(d,xx)),c.i=new ya(d,c.h))}function xe(c,d,f){c.i.set(d,f)}function Uu(c){return xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ga(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ma(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,Rx),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Rx(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qw=/[#\/\?@]/g,Mx=/[#\?:]/g,Nx=/[#\?]/g,xx=/[#\?@]/g,Px=/#/g;function ya(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Fr(c){c.g||(c.g=new Map,c.h=0,c.i&&Ax(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ya.prototype,t.add=function(c,d){Fr(this),this.i=null,c=Po(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function zw(c,d){Fr(c),d=Po(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Gw(c,d){return Fr(c),d=Po(c,d),c.g.has(d)}t.forEach=function(c,d){Fr(this),this.g.forEach(function(f,m){f.forEach(function(b){c.call(d,b,m,this)},this)},this)},t.na=function(){Fr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let b=c[m];for(let S=0;S<b.length;S++)f.push(d[m])}return f},t.V=function(c){Fr(this);let d=[];if(typeof c=="string")Gw(this,c)&&(d=d.concat(this.g.get(Po(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Fr(this),this.i=null,c=Po(this,c),Gw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Ww(c,d,f){zw(c,d),0<f.length&&(c.i=null,c.g.set(Po(c,d),R(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let S=encodeURIComponent(String(m)),F=this.V(m);for(m=0;m<F.length;m++){var b=S;F[m]!==""&&(b+="="+encodeURIComponent(String(F[m]))),c.push(b)}}return this.i=c.join("&")};function Po(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Ox(c,d){d&&!c.j&&(Fr(c),c.i=null,c.g.forEach(function(f,m){var b=m.toLowerCase();m!=b&&(zw(this,m),Ww(this,b,f))},c)),c.j=d}function kx(c,d){let f=new fa;if(a.Image){let m=new Image;m.onload=y(Lr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Lr,f,"TestLoadImage: error",!1,d,m),m.onabort=y(Lr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Lr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function Fx(c,d){let f=new fa,m=new AbortController,b=setTimeout(()=>{m.abort(),Lr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(S=>{clearTimeout(b),S.ok?Lr(f,"TestPingServer: ok",!0,d):Lr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Lr(f,"TestPingServer: error",!1,d)})}function Lr(c,d,f,m,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),m(f)}catch{}}function Lx(){this.g=new _x}function Vx(c,d,f){let m=f||"";try{Bw(c,function(b,S){let F=b;l(b)&&(F=dp(b)),d.push(m+S+"="+encodeURIComponent(F))})}catch(b){throw d.push(m+"type="+encodeURIComponent("_badmap")),b}}function va(c){this.l=c.Ub||null,this.j=c.eb||!1}C(va,hp),va.prototype.g=function(){return new ju(this.l,this.j)},va.prototype.i=(function(c){return function(){return c}})({});function ju(c,d){vt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ju,vt),t=ju.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ea(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_a(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ea(this)),this.g&&(this.readyState=3,Ea(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?_a(this):Ea(this),this.readyState==3&&Kw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,_a(this))},t.Qa=function(c){this.g&&(this.response=c,_a(this))},t.ga=function(){this.g&&_a(this)};function _a(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ea(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ea(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ju.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qw(c){let d="";return De(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function wp(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=Qw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):xe(c,d,f))}function Ve(c){vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ve,vt);var Ux=/^https?$/i,jx=["POST","PUT"];t=Ve.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gp.g(),this.v=this.o?Cw(this.o):Cw(gp),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){Yw(this,S);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var b in m)f.set(b,m[b]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let S of m.keys())f.set(S,m.get(S));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(jx,d,void 0))||m||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,F]of f)this.g.setRequestHeader(S,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xw(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){Yw(this,S)}};function Yw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Zw(c),Bu(c)}function Zw(c){c.A||(c.A=!0,At(c,"complete"),At(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,At(this,"complete"),At(this,"abort"),Bu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bu(this,!0)),Ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Jw(this):this.bb())},t.bb=function(){Jw(this)};function Jw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||tr(c)!=4||c.Z()!=2)){if(c.u&&tr(c)==4)Ew(c.Ea,0,c);else if(At(c,"readystatechange"),tr(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=F===0){var b=String(c.D).match(Hw)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),m=!Ux.test(b?b.toLowerCase():"")}f=m}if(f)At(c,"complete"),At(c,"success");else{c.m=6;try{var S=2<tr(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",Zw(c)}}finally{Bu(c)}}}}function Bu(c,d){if(c.g){Xw(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||At(c,"ready");try{f.onreadystatechange=m}catch{}}}function Xw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function tr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),vx(d)}};function e0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bx(c){let d={};c=(c.g&&2<=tr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(q(c[m]))continue;var f=D(c[m]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[b]||[];d[b]=S,S.push(f)}w(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function t0(c){this.Aa=0,this.i=[],this.j=new fa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,c),this.cb=Ia("retryDelaySeedMs",1e4,c),this.Wa=Ia("forwardChannelMaxRetries",2,c),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fw(c&&c.concurrentRequestLimit),this.Da=new Lx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=t0.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){Rt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=l0(this,null,this.W),$u(this)};function Dp(c){if(n0(c),c.G==3){var d=c.U++,f=er(c.I);if(xe(f,"SID",c.K),xe(f,"RID",d),xe(f,"TYPE","terminate"),wa(c,f),d=new kr(c,c.j,d),d.L=2,d.v=Uu(er(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=d0(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Fu(d)}u0(c)}function Hu(c){c.g&&(bp(c),c.g.cancel(),c.g=null)}function n0(c){Hu(c),c.u&&(a.clearTimeout(c.u),c.u=null),qu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function $u(c){if(!Lw(c.h)&&!c.s){c.s=!0;var d=c.Ga;oa||pw(),sa||(oa(),sa=!0),np.add(d,c),c.B=0}}function Hx(c,d){return Vw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ha(g(c.Ga,c,d),c0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new kr(this,this.j,c),S=this.o;if(this.S&&(S?(S=v(S),I(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=i0(this,b,d),f=er(this.I),xe(f,"RID",c),xe(f,"CVER",22),this.D&&xe(f,"X-HTTP-Session-Id",this.D),wa(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(Qw(S)))+"&"+d:this.m&&wp(f,this.m,S)),Ip(this.h,b),this.Ua&&xe(f,"TYPE","init"),this.P?(xe(f,"$req",d),xe(f,"SID","null"),b.T=!0,yp(b,f,null)):yp(b,f,d),this.G=2}}else this.G==3&&(c?r0(this,c):this.i.length==0||Lw(this.h)||r0(this))};function r0(c,d){var f;d?f=d.l:f=c.U++;let m=er(c.I);xe(m,"SID",c.K),xe(m,"RID",f),xe(m,"AID",c.T),wa(c,m),c.m&&c.o&&wp(m,c.m,c.o),f=new kr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=i0(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ip(c.h,f),yp(f,m,d)}function wa(c,d){c.H&&De(c.H,function(f,m){xe(d,m,f)}),c.l&&Bw({},function(f,m){xe(d,m,f)})}function i0(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var b=c.i;let S=-1;for(;;){let F=["count="+f];S==-1?0<f?(S=b[0].g,F.push("ofs="+S)):S=0:F.push("ofs="+S);let Me=!0;for(let ut=0;ut<f;ut++){let ge=b[ut].g,_t=b[ut].map;if(ge-=S,0>ge)S=Math.max(0,b[ut].g-100),Me=!1;else try{Vx(_t,F,"req"+ge+"_")}catch{m&&m(_t)}}if(Me){m=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function o0(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;oa||pw(),sa||(oa(),sa=!0),np.add(d,c),c.v=0}}function Cp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ha(g(c.Fa,c),c0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,s0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ha(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),Hu(this),s0(this))};function bp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function s0(c){c.g=new kr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=er(c.qa);xe(d,"RID","rpc"),xe(d,"SID",c.K),xe(d,"AID",c.T),xe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&xe(d,"TO",c.ja),xe(d,"TYPE","xmlhttp"),wa(c,d),c.m&&c.o&&wp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Uu(er(d)),f.m=null,f.P=!0,Pw(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Hu(this),Cp(this),Rt(19))};function qu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function a0(c,d){var f=null;if(c.g==d){qu(c),bp(c),c.g=null;var m=2}else if(Ep(c.h,d))f=d.D,Uw(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;m=Pu(),At(m,new Rw(m,f)),$u(c)}else o0(c);else if(b=d.s,b==3||b==0&&0<d.X||!(m==1&&Hx(c,d)||m==2&&Cp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function c0(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ni(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let b=!m;m=new Mi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Lu(m,"https"),Uu(m),b?kx(m.toString(),f):Fx(m.toString(),f)}else Rt(2);c.G=0,c.l&&c.l.sa(d),u0(c),n0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function u0(c){if(c.G=0,c.ka=[],c.l){let d=jw(c.h);(d.length!=0||c.i.length!=0)&&(A(c.ka,d),A(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function l0(c,d,f){var m=f instanceof Mi?er(f):new Mi(f);if(m.g!="")d&&(m.g=d+"."+m.g),Vu(m,m.s);else{var b=a.location;m=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new Mi(null);m&&Lu(S,m),d&&(S.g=d),b&&Vu(S,b),f&&(S.l=f),m=S}return f=c.D,d=c.ya,f&&d&&xe(m,f,d),xe(m,"VER",c.la),wa(c,m),m}function d0(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ve(new va({eb:f})):new Ve(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function h0(){}t=h0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zu(){}zu.prototype.g=function(c,d){return new Vt(c,d)};function Vt(c,d){vt.call(this),this.g=new t0(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!q(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!q(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Oo(this)}C(Vt,vt),Vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vt.prototype.close=function(){Dp(this.g)},Vt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=dp(c),c=f);d.i.push(new bx(d.Ya++,c)),d.G==3&&$u(d)},Vt.prototype.N=function(){this.g.l=null,delete this.j,Dp(this.g),delete this.g,Vt.aa.N.call(this)};function f0(c){fp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(f0,fp);function p0(){pp.call(this),this.status=1}C(p0,pp);function Oo(c){this.g=c}C(Oo,h0),Oo.prototype.ua=function(){At(this.g,"a")},Oo.prototype.ta=function(c){At(this.g,new f0(c))},Oo.prototype.sa=function(c){At(this.g,new p0)},Oo.prototype.ra=function(){At(this.g,"b")},zu.prototype.createWebChannel=zu.prototype.g,Vt.prototype.send=Vt.prototype.o,Vt.prototype.open=Vt.prototype.m,Vt.prototype.close=Vt.prototype.close,Q_=Tr.createWebChannelTransport=function(){return new zu},K_=Tr.getStatEventTarget=function(){return Pu()},W_=Tr.Event=Ai,of=Tr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ou.NO_ERROR=0,Ou.TIMEOUT=8,Ou.HTTP_ERROR=6,cu=Tr.ErrorCode=Ou,Mw.COMPLETE="complete",G_=Tr.EventType=Mw,bw.EventType=la,la.OPEN="a",la.CLOSE="b",la.ERROR="c",la.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Ps=Tr.WebChannel=bw,kH=Tr.FetchXmlHttpFactory=va,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,z_=Tr.XhrIo=Ve}).apply(typeof rf<"u"?rf:typeof self<"u"?self:typeof window<"u"?window:{});var UR="@firebase/firestore",jR="4.8.0";var at=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");var ea="11.10.0";var Do=new ai("@firebase/firestore");function Os(){return Do.logLevel}function j(t,...e){if(Do.logLevel<=le.DEBUG){let n=e.map(jI);Do.debug(`Firestore (${ea}): ${t}`,...n)}}function Rr(t,...e){if(Do.logLevel<=le.ERROR){let n=e.map(jI);Do.error(`Firestore (${ea}): ${t}`,...n)}}function Ii(t,...e){if(Do.logLevel<=le.WARN){let n=e.map(jI);Do.warn(`Firestore (${ea}): ${t}`,...n)}}function jI(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,PM(t,r,n)}function PM(t,e,n){let r=`FIRESTORE (${ea}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Rr(r),new Error(r)}function we(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||PM(e,i,r)}function X(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends Zt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Sr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var hf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},eE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(at.UNAUTHENTICATED))}shutdown(){}},tE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},nE=class{constructor(e){this.t=e,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new hf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new at(e)}},rE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=at.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},iE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new rE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ff=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},oE=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){we(this.o===void 0,3512);let r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ff(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ff(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function FH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function OM(){return new TextEncoder}var pu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=FH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ce(t,e){return t<e?-1:t>e?1:0}function sE(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ce(r,i);{let o=OM(),s=LH(o.encode(BR(t,n)),o.encode(BR(e,n)));return s!==0?s:ce(r,i)}}n+=r>65535?2:1}return ce(t.length,e.length)}function BR(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function LH(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ce(t[n],e[n]);return ce(t.length,e.length)}function Hs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var HR="__name__",pf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ce(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):sE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return br.fromString(e.substring(4,e.length-2))}},Fe=class t extends pf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},VH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,en=class t extends pf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return VH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HR}static keyField(){return new t([HR])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new U(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new U(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var G=class t{constructor(e){this.path=e}static fromPath(e){return new t(Fe.fromString(e))}static fromName(e){return new t(Fe.fromString(e).popFirst(5))}static empty(){return new t(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Fe(e.slice()))}};function kM(t,e,n){if(!n)throw new U(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UH(t,e,n,r){if(e===!0&&r===!0)throw new U(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $R(t){if(!G.isDocumentKey(t))throw new U(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qR(t){if(G.isDocumentKey(t))throw new U(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function FM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function zf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=zf(t);throw new U(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Xe(t,e){let n={typeString:t};return e&&(n.value=e),n}function Tu(t,e){if(!FM(t))throw new U(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new U(M.INVALID_ARGUMENT,n);return!0}var zR=-62135596800,GR=1e6,et=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*GR);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zR)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GR}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-zR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:Xe("string",et._jsonSchemaVersion),seconds:Xe("number"),nanoseconds:Xe("number")};var re=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new et(0,0))}static max(){return new t(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var gu=-1,aE=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};aE.UNKNOWN_ID=-1;function jH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new Co(i,G.empty(),e)}function BH(t){return new Co(t.readTime,t.key,gu)}var Co=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(re.min(),G.empty(),gu)}static max(){return new t(re.max(),G.empty(),gu)}};function HH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}var $H="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",cE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function ta(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==$H)throw t;j("LocalStore","Unexpectedly lost primary lease")}var N=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function qH(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function na(t){return t.name==="IndexedDbTransactionError"}var BI=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),HI=-1;function Gf(t){return t==null}function mu(t){return t===0&&1/t==-1/0}function zH(t){return typeof t=="number"&&Number.isInteger(t)&&!mu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var LM="";function GH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=WR(e)),e=WH(t.get(n),e);return WR(e)}function WH(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case LM:n+="";break;default:n+=o}}return n}function WR(t){return t+LM+""}var KH="remoteDocuments",VM="owner";var UM="mutationQueues";var jM="mutations";var BM="documentMutations",QH="remoteDocumentsV14";var HM="remoteDocumentGlobal";var $M="targets";var qM="targetDocuments";var zM="targetGlobal",GM="collectionParents";var WM="clientMetadata";var KM="bundles";var QM="namedQueries";var YH="indexConfiguration";var ZH="indexState";var JH="indexEntries";var YM="documentOverlays";var XH="globals";var e3=[UM,jM,BM,KH,$M,VM,zM,qM,WM,HM,GM,KM,QM],mre=[...e3,YM],t3=[UM,jM,BM,QH,$M,VM,zM,qM,WM,HM,GM,KM,QM,YM],n3=t3,r3=[...n3,YH,ZH,JH];var yre=[...r3,XH];function KR(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Si(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var je=class t{constructor(e,n){this.comparator=e,this.root=n||Kn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vs(this.root,e,this.comparator,!0)}},Vs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Kn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}};Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ct=class t{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gf(this.data.getIterator())}getIteratorFrom(e){return new gf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},gf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var fn=class t{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new t([])}unionWith(e){let n=new ct(en.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var mf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Tt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new mf("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Tt.EMPTY_BYTE_STRING=new Tt("");var i3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(t){if(we(!!t,39018),typeof t=="string"){let e=0,n=i3.exec(t);if(we(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nr(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}var JM="server_timestamp",XM="__type__",eN="__previous_value__",tN="__local_write_time__";function $I(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[XM])===null||n===void 0?void 0:n.stringValue)===JM}function Wf(t){let e=t.mapValue.fields[eN];return $I(e)?Wf(e):e}function yu(t){let e=Mr(t.mapValue.fields[tN].timestampValue);return new et(e.seconds,e.nanos)}var uE=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},yf="(default)",vf=class t{constructor(e,n){this.projectId=e,this.database=n||yf}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===yf}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var qI="__type__",nN="__max__",sf={mapValue:{fields:{__type__:{stringValue:nN}}}},zI="__vector__",$s="value";function wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$I(t)?4:iN(t)?9007199254740991:rN(t)?10:11:Q(28295,{value:t})}function Zn(t,e){if(t===e)return!0;let n=wi(t);if(n!==wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yu(t).isEqual(yu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Mr(i.timestampValue),a=Mr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Nr(i.bytesValue).isEqual(Nr(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return ke(i.geoPointValue.latitude)===ke(o.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return ke(i.integerValue)===ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ke(i.doubleValue),a=ke(o.doubleValue);return s===a?mu(s)===mu(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return Hs(t.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(KR(s)!==KR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Zn(s[u],a[u])))return!1;return!0})(t,e);default:return Q(52216,{left:t})}}function vu(t,e){return(t.values||[]).find(n=>Zn(n,e))!==void 0}function qs(t,e){if(t===e)return 0;let n=wi(t),r=wi(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=ke(o.integerValue||o.doubleValue),u=ke(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return QR(t.timestampValue,e.timestampValue);case 4:return QR(yu(t),yu(e));case 5:return sE(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=Nr(o),u=Nr(s);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ce(a[l],u[l]);if(h!==0)return h}return ce(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ce(ke(o.latitude),ke(s.latitude));return a!==0?a:ce(ke(o.longitude),ke(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return YR(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p[$s])===null||a===void 0?void 0:a.arrayValue,C=(u=g[$s])===null||u===void 0?void 0:u.arrayValue,R=ce(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:YR(y,C)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===sf.mapValue&&s===sf.mapValue)return 0;if(o===sf.mapValue)return 1;if(s===sf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=sE(u[p],h[p]);if(g!==0)return g;let y=qs(a[u[p]],l[h[p]]);if(y!==0)return y}return ce(u.length,h.length)})(t.mapValue,e.mapValue);default:throw Q(23264,{le:n})}}function QR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);let n=Mr(t),r=Mr(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function YR(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=qs(n[i],r[i]);if(o)return o}return ce(n.length,r.length)}function zs(t){return lE(t)}function lE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=Mr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Nr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return G.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=lE(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${lE(n.fields[s])}`;return i+"}"})(t.mapValue):Q(61005,{value:t})}function uf(t){switch(wi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Wf(t);return e?16+uf(e):16;case 5:return 2*t.stringValue.length;case 6:return Nr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+uf(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Si(r.fields,(o,s)=>{i+=o.length+uf(s)}),i})(t.mapValue);default:throw Q(13486,{value:t})}}function ZR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dE(t){return!!t&&"integerValue"in t}function GI(t){return!!t&&"arrayValue"in t}function JR(t){return!!t&&"nullValue"in t}function XR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lf(t){return!!t&&"mapValue"in t}function rN(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[qI])===null||n===void 0?void 0:n.stringValue)===zI}function lu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Si(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=lu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nN}var _re={mapValue:{fields:{[qI]:{stringValue:zI},[$s]:{arrayValue:{}}}}};var Xt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(n)}setAll(e){let n=en.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=lu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());lf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];lf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Si(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(lu(this.value))}};function oN(t){let e=[];return Si(t.fields,(n,r)=>{let i=new en([n]);if(lf(r)){let o=oN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new fn(e)}var Sn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,re.min(),re.min(),re.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,re.min(),re.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,re.min(),re.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Gs=class{constructor(e,n){this.position=e,this.inclusive=n}};function eM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(s.referenceValue),n.key):r=qs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function tM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zn(t.position[n],e.position[n]))return!1;return!0}var bo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function o3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var _f=class{},Je=class t extends _f{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fE(e,n,r):n==="array-contains"?new mE(e,r):n==="in"?new yE(e,r):n==="not-in"?new vE(e,r):n==="array-contains-any"?new _E(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pE(e,r):new gE(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qs(n,this.value)):n!==null&&wi(this.value)===wi(n)&&this.matchesComparison(qs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},An=class t extends _f{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return sN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function sN(t){return t.op==="and"}function aN(t){return s3(t)&&sN(t)}function s3(t){for(let e of t.filters)if(e instanceof An)return!1;return!0}function hE(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+zs(t.value);if(aN(t))return t.filters.map(e=>hE(e)).join(",");{let e=t.filters.map(n=>hE(n)).join(",");return`${t.op}(${e})`}}function cN(t,e){return t instanceof Je?(function(r,i){return i instanceof Je&&r.op===i.op&&r.field.isEqual(i.field)&&Zn(r.value,i.value)})(t,e):t instanceof An?(function(r,i){return i instanceof An&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&cN(s,i.filters[a]),!0):!1})(t,e):void Q(19439)}function uN(t){return t instanceof Je?(function(n){return`${n.field.canonicalString()} ${n.op} ${zs(n.value)}`})(t):t instanceof An?(function(n){return n.op.toString()+" {"+n.getFilters().map(uN).join(" ,")+"}"})(t):"Filter"}var fE=class extends Je{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){let n=G.comparator(e.key,this.key);return this.matchesComparison(n)}},pE=class extends Je{constructor(e,n){super(e,"in",n),this.keys=lN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},gE=class extends Je{constructor(e,n){super(e,"not-in",n),this.keys=lN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function lN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}var mE=class extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return GI(n)&&vu(n.arrayValue,this.value)}},yE=class extends Je{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&vu(this.value.arrayValue,n)}},vE=class extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vu(this.value.arrayValue,n)}},_E=class extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!GI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vu(this.value.arrayValue,r))}};var EE=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function nM(t,e=null,n=[],r=[],i=null,o=null,s=null){return new EE(t,e,n,r,i,o,s)}function WI(t){let e=X(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Gf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zs(r)).join(",")),e.Pe=n}return e.Pe}function KI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!o3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tM(t.startAt,e.startAt)&&tM(t.endAt,e.endAt)}function IE(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Di=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function a3(t,e,n,r,i,o,s,a){return new Di(t,e,n,r,i,o,s,a)}function QI(t){return new Di(t)}function rM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dN(t){return t.collectionGroup!==null}function du(t){let e=X(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ct(en.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new bo(o,r))}),n.has(en.keyField().canonicalString())||e.Te.push(new bo(en.keyField(),r))}return e.Te}function Qn(t){let e=X(t);return e.Ie||(e.Ie=c3(e,du(t))),e.Ie}function c3(t,e){if(t.limitType==="F")return nM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new bo(i.field,o)});let n=t.endAt?new Gs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gs(t.startAt.position,t.startAt.inclusive):null;return nM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wE(t,e){let n=t.filters.concat([e]);return new Di(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function DE(t,e,n){return new Di(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kf(t,e){return KI(Qn(t),Qn(e))&&t.limitType===e.limitType}function hN(t){return`${WI(Qn(t))}|lt:${t.limitType}`}function ks(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>uN(i)).join(", ")}]`),Gf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>zs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>zs(i)).join(",")),`Target(${r})`})(Qn(t))}; limitType=${t.limitType})`}function Qf(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of du(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=eM(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,du(r),i)||r.endAt&&!(function(s,a,u){let l=eM(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,du(r),i))})(t,e)}function u3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fN(t){return(e,n)=>{let r=!1;for(let i of du(t)){let o=l3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function l3(t,e,n){let r=t.field.isKeyField()?G.comparator(e.key,n.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?qs(u,l):Q(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:t.dir})}}var xr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return ZM(this.inner)}size(){return this.innerSize}};var d3=new je(G.comparator);function Pr(){return d3}var pN=new je(G.comparator);function uu(...t){let e=pN;for(let n of t)e=e.insert(n.key,n);return e}function gN(t){let e=pN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _o(){return hu()}function mN(){return hu()}function hu(){return new xr(t=>t.toString(),(t,e)=>t.isEqual(e))}var h3=new je(G.comparator),f3=new ct(G.comparator);function de(...t){let e=f3;for(let n of t)e=e.add(n);return e}var p3=new ct(ce);function g3(){return p3}function YI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mu(e)?"-0":e}}function yN(t){return{integerValue:""+t}}function m3(t,e){return zH(e)?yN(e):YI(t,e)}var Ws=class{constructor(){this._=void 0}};function y3(t,e,n){return t instanceof Ks?(function(i,o){let s={fields:{[XM]:{stringValue:JM},[tN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&$I(o)&&(o=Wf(o)),o&&(s.fields[eN]=o),{mapValue:s}})(n,e):t instanceof To?_N(t,e):t instanceof So?EN(t,e):(function(i,o){let s=vN(i,o),a=iM(s)+iM(i.Ee);return dE(s)&&dE(i.Ee)?yN(a):YI(i.serializer,a)})(t,e)}function v3(t,e,n){return t instanceof To?_N(t,e):t instanceof So?EN(t,e):n}function vN(t,e){return t instanceof Qs?(function(r){return dE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Ks=class extends Ws{},To=class extends Ws{constructor(e){super(),this.elements=e}};function _N(t,e){let n=IN(e);for(let r of t.elements)n.some(i=>Zn(i,r))||n.push(r);return{arrayValue:{values:n}}}var So=class extends Ws{constructor(e){super(),this.elements=e}};function EN(t,e){let n=IN(e);for(let r of t.elements)n=n.filter(i=>!Zn(i,r));return{arrayValue:{values:n}}}var Qs=class extends Ws{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function iM(t){return ke(t.integerValue||t.doubleValue)}function IN(t){return GI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _3(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof To&&i instanceof To||r instanceof So&&i instanceof So?Hs(r.elements,i.elements,Zn):r instanceof Qs&&i instanceof Qs?Zn(r.Ee,i.Ee):r instanceof Ks&&i instanceof Ks})(t.transform,e.transform)}var CE=class{constructor(e,n){this.version=e,this.transformResults=n}},Ar=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function df(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ys=class{};function wN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _u(t.key,Ar.none()):new Ao(t.key,t.data,Ar.none());{let n=t.data,r=Xt.empty(),i=new ct(en.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Jn(t.key,r,new fn(i.toArray()),Ar.none())}}function E3(t,e,n){t instanceof Ao?(function(i,o,s){let a=i.value.clone(),u=sM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Jn?(function(i,o,s){if(!df(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=sM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(DN(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function fu(t,e,n,r){return t instanceof Ao?(function(o,s,a,u){if(!df(o.precondition,s))return a;let l=o.value.clone(),h=aM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof Jn?(function(o,s,a,u){if(!df(o.precondition,s))return a;let l=aM(o.fieldTransforms,u,s),h=s.data;return h.setAll(DN(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,a){return df(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function I3(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=vN(r.transform,i||null);o!=null&&(n===null&&(n=Xt.empty()),n.set(r.field,o))}return n||null}function oM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hs(r,i,(o,s)=>_3(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ao=class extends Ys{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Jn=class extends Ys{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function DN(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function sM(t,e,n){let r=new Map;we(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,v3(s,a,n[i]))}return r}function aM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,y3(o,s,e))}return r}var _u=class extends Ys{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},bE=class extends Ys{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var TE=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&E3(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=fu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=fu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=mN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=wN(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&Hs(this.mutations,e.mutations,(n,r)=>oM(n,r))&&Hs(this.baseMutations,e.baseMutations,(n,r)=>oM(n,r))}},SE=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){we(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return h3})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var AE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var RE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ye,fe;function w3(t){switch(t){case M.OK:return Q(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return Q(15467,{code:t})}}function CN(t){if(t===void 0)return Rr("GRPC error has no .code"),M.UNKNOWN;switch(t){case Ye.OK:return M.OK;case Ye.CANCELLED:return M.CANCELLED;case Ye.UNKNOWN:return M.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return M.INTERNAL;case Ye.UNAVAILABLE:return M.UNAVAILABLE;case Ye.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ye.NOT_FOUND:return M.NOT_FOUND;case Ye.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ye.ABORTED:return M.ABORTED;case Ye.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ye.DATA_LOSS:return M.DATA_LOSS;default:return Q(39323,{code:t})}}(fe=Ye||(Ye={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var cM=null;var D3=new br([4294967295,4294967295],0);function uM(t){let e=OM().encode(t),n=new q_;return n.update(e),new Uint8Array(n.digest())}function lM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new br([n,r],0),new br([i,o],0)]}var ME=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Eo(`Invalid padding: ${n}`);if(r<0)throw new Eo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=br.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(br.fromNumber(r)));return i.compare(D3)===1&&(i=new br([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=uM(e),[r,i]=lM(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=uM(e),[r,i]=lM(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Eo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ef=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(re.min(),i,new je(ce),Pr(),de())}},Eu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,de(),de(),de())}};var Us=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},If=class{constructor(e,n){this.targetId=e,this.De=n}},wf=class{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Df=class{constructor(){this.ve=0,this.Ce=dM(),this.Fe=Tt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=de(),n=de(),r=de();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q(38017,{changeType:o})}}),new Eu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=dM()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},NE=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Pr(),this.je=af(),this.Je=af(),this.He=new je(ce)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(IE(o))if(r===0){let s=new G(o.path);this.Xe(n,s,Sn.newNoDocument(s,re.min()))}else we(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}cM?.ct((function(h,p,g,y,C){var R,A,L,q,Z,Re;let St={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},De=p.unchangedNames;return De&&(St.bloomFilter={applied:C===0,hashCount:(R=De?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(q=(L=(A=De?.bits)===null||A===void 0?void 0:A.bitmap)===null||L===void 0?void 0:L.length)!==null&&q!==void 0?q:0,padding:(Re=(Z=De?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&Re!==void 0?Re:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),St})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Nr(r).toUint8Array()}catch(u){if(u instanceof mf)return Ii("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new ME(s,i,o)}catch(u){return Ii(u instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&IE(a.target)){let u=new G(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Sn.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=de();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Ef(e,n,this.He,this.ze,r);return this.ze=Pr(),this.je=af(),this.Je=af(),this.He=new je(ce),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Df,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new ct(ce),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new ct(ce),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Df),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function af(){return new je(G.comparator)}function dM(){return new je(G.comparator)}var C3={asc:"ASCENDING",desc:"DESCENDING"},b3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T3={and:"AND",or:"OR"},xE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function PE(t,e){return t.useProto3Json||Gf(e)?e:{value:e}}function Cf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function S3(t,e){return Cf(t,e.toTimestamp())}function Yn(t){return we(!!t,49232),re.fromTimestamp((function(n){let r=Mr(n);return new et(r.seconds,r.nanos)})(t))}function ZI(t,e){return OE(t,e).canonicalString()}function OE(t,e){let n=(function(i){return new Fe(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function TN(t){let e=Fe.fromString(t);return we(NN(e),10190,{key:e.toString()}),e}function kE(t,e){return ZI(t.databaseId,e.path)}function Y_(t,e){let n=TN(e);if(n.get(1)!==t.databaseId.projectId)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(AN(n))}function SN(t,e){return ZI(t.databaseId,e)}function A3(t){let e=TN(t);return e.length===4?Fe.emptyPath():AN(e)}function FE(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AN(t){return we(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hM(t,e,n){return{name:kE(t,e),fields:n.value.mapValue.fields}}function R3(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(we(h===void 0||typeof h=="string",58123),Tt.fromBase64String(h||"")):(we(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Tt.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?M.UNKNOWN:CN(l.code);return new U(h,l.message||"")})(s);n=new wf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Y_(t,r.document.name),o=Yn(r.document.updateTime),s=r.document.createTime?Yn(r.document.createTime):re.min(),a=new Xt({mapValue:{fields:r.document.fields}}),u=Sn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Us(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Y_(t,r.document),o=r.readTime?Yn(r.readTime):re.min(),s=Sn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Us([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Y_(t,r.document),o=r.removedTargetIds||[];n=new Us([],o,i,null)}else{if(!("filter"in e))return Q(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new RE(i,o),a=r.targetId;n=new If(a,s)}}return n}function M3(t,e){let n;if(e instanceof Ao)n={update:hM(t,e.key,e.value)};else if(e instanceof _u)n={delete:kE(t,e.key)};else if(e instanceof Jn)n={update:hM(t,e.key,e.data),updateMask:U3(e.fieldMask)};else{if(!(e instanceof bE))return Q(16599,{Rt:e.type});n={verify:kE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Ks)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof To)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof So)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qs)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw Q(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:S3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q(27497)})(t,e.precondition)),n}function N3(t,e){return t&&t.length>0?(we(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?Yn(i.updateTime):Yn(o);return s.isEqual(re.min())&&(s=Yn(o)),new CE(s,i.transformResults||[])})(n,e))):[]}function x3(t,e){return{documents:[SN(t,e.path)]}}function P3(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SN(t,i);let o=(function(l){if(l.length!==0)return MN(An.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(g){return{field:Fs(g.field),direction:F3(g.dir)}})(h))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=PE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:n,parent:i}}function O3(t){let e=A3(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){we(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){let g=RN(p);return g instanceof An&&aN(g)?g.getFilters():[g]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(g=>(function(C){return new bo(Ls(C.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(g))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,Gf(g)?null:g})(n.limit));let u=null;n.startAt&&(u=(function(p){let g=!!p.before,y=p.values||[];return new Gs(y,g)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let g=!p.before,y=p.values||[];return new Gs(y,g)})(n.endAt)),a3(e,i,s,o,a,"F",u,l)}function k3(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ls(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ls(n.unaryFilter.field);return Je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ls(n.unaryFilter.field);return Je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ls(n.unaryFilter.field);return Je.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Je.create(Ls(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return An.create(n.compositeFilter.filters.map(r=>RN(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q(1026)}})(n.compositeFilter.op))})(t):Q(30097,{filter:t})}function F3(t){return C3[t]}function L3(t){return b3[t]}function V3(t){return T3[t]}function Fs(t){return{fieldPath:t.canonicalString()}}function Ls(t){return en.fromServerFormat(t.fieldPath)}function MN(t){return t instanceof Je?(function(n){if(n.op==="=="){if(XR(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(JR(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(XR(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(JR(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:L3(n.op),value:n.value}}})(t):t instanceof An?(function(n){let r=n.getFilters().map(i=>MN(i));return r.length===1?r[0]:{compositeFilter:{op:V3(n.op),filters:r}}})(t):Q(54877,{filter:t})}function U3(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Iu=class t{constructor(e,n,r,i,o=re.min(),s=re.min(),a=Tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var LE=class{constructor(e){this.gt=e}};function j3(t){let e=O3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?DE(e,e.limit,"L"):e}var bf=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(ke(e.integerValue));else if("doubleValue"in e){let r=ke(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),mu(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=Mr(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Nr(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?iN(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):rN(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):Q(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=$s,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(ke(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),G.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};bf.Ut=new bf;var VE=class{constructor(){this.Dn=new UE}addToCollectionParentIndex(e,n){return this.Dn.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(Co.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}},UE=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ct(Fe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(Fe.comparator)).toArray()}};var Ere=new Uint8Array(0);var fM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xN=41943040,hn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(xN,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);var wu=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var pM="LruGarbageCollector",B3=1048576;function gM([t,e],[n,r]){let i=ce(t,n);return i===0?ce(e,r):i}var jE=class{constructor(e){this.Tr=e,this.buffer=new ct(gM),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();gM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},BE=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){j(pM,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){na(n)?j(pM,"Ignoring IndexedDB error during garbage collection: ",n):await ta(n)}await this.Rr(3e5)})}},HE=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return N.resolve(BI.ue);let r=new jE(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(fM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fM):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Os()<=le.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),N.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function H3(t,e){return new HE(t,e)}var $E=class{constructor(){this.changes=new xr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var qE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var zE=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fu(r.mutation,i,fn.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){let i=_o();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=uu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=_o();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Pr(),s=hu(),a=(function(){return hu()})();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Jn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),fu(h.mutation,l,h.mutation.getFieldMask(),et.now())):s.set(l.key,fn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new qE(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=hu(),i=new je((s,a)=>s-a),o=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||fn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||de()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=mN();h.forEach(g=>{if(!o.has(g)){let y=wN(n.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return N.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):N.resolve(_o()),a=gu,u=o;return s.next(l=>N.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?N.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,de())).next(h=>({batchId:a,changes:gN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=uu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=uu();return this.indexManager.getCollectionParents(e,o).next(a=>N.forEach(a,u=>{let l=(function(p,g){return new Di(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Sn.newInvalidDocument(h)))});let a=uu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&fu(h.mutation,l,fn.empty(),et.now()),Qf(n,l)&&(a=a.insert(u,l))}),a})}};var GE=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return N.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Yn(i.createTime)}})(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:j3(i.bundledQuery),readTime:Yn(i.readTime)}})(n)),N.resolve()}};var WE=class{constructor(){this.overlays=new je(G.comparator),this.kr=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){let r=_o();return N.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),N.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){let i=_o(),o=n.length+1,s=new G(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new je((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=_o(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=_o(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return N.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new AE(n,r));let o=this.kr.get(n);o===void 0&&(o=de(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var KE=class{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,N.resolve()}};var Du=class{constructor(){this.qr=new ct(Ze.Qr),this.$r=new ct(Ze.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new Ze(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ze(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new G(new Fe([])),r=new Ze(n,e),i=new Ze(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new G(new Fe([])),r=new Ze(n,e),i=new Ze(n,e+1),o=de();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ze(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ze=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return G.comparator(e.key,n.key)||ce(e.Hr,n.Hr)}static Ur(e,n){return ce(e.Hr,n.Hr)||G.comparator(e.key,n.key)}};var QE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new ct(Ze.Qr)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new TE(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Ze(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,n){return N.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?HI:this.er-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ze(n,0),i=new Ze(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(ce);return n.forEach(i=>{let o=new Ze(i,0),s=new Ze(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),N.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;G.isDocumentKey(o)||(o=o.child(""));let s=new Ze(new G(o),0),a=new ct(ce);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),N.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){we(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return N.forEach(n.mutations,i=>{let o=new Ze(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new Ze(n,0),i=this.Yr.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var YE=class{constructor(e){this.ni=e,this.docs=(function(){return new je(G.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(n))}getEntries(e,n){let r=Pr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Sn.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Pr(),s=n.path,a=new G(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||HH(BH(h),r)<=0||(i.has(h.key)||Qf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q(9500)}ri(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZE(this)}getSize(e){return N.resolve(this.size)}},ZE=class extends $E{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var JE=class{constructor(e){this.persistence=e,this.ii=new xr(n=>WI(n),KI),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.si=0,this.oi=new Du,this.targetCount=0,this._i=wu.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),N.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new wu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.hr(n),N.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(o).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),N.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.oi.containsKey(n))}};var Tf=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new BI(0),this.ci=!1,this.ci=!0,this.li=new KE,this.referenceDelegate=e(this),this.hi=new JE(this),this.indexManager=new VE,this.remoteDocumentCache=(function(i){return new YE(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new LE(n),this.Ti=new GE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new QE(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new XE(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return N.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},XE=class extends cE{constructor(e){super(),this.currentSequenceNumber=e}},eI=class t{constructor(e){this.persistence=e,this.Ai=new Du,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw Q(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),N.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.mi,r=>{let i=G.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,re.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return N.or([()=>N.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},Sf=class t{constructor(e,n){this.persistence=e,this.gi=new xr(r=>GH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=H3(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return N.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return N.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?N.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),N.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),N.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),N.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),N.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uf(e.data.value)),n}Sr(e,n,r){return N.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return N.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var tI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=de(),i=de();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var nI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var rI=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return EA()?8:qH(st())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new nI;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Os()<=le.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),N.resolve()):(Os()<=le.DEBUG&&j("QueryEngine","Query:",ks(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Os()<=le.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):N.resolve())}ps(e,n){if(rM(n))return N.resolve(null);let r=Qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=DE(n,null,"F"),r=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=de(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,a);return this.Ds(n,l,s,u.readTime)?this.ps(e,DE(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return rM(n)||i.isEqual(re.min())?N.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?N.resolve(null):(Os()<=le.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ks(n)),this.vs(e,s,n,jH(i,gu)).next(a=>a))})}bs(e,n){let r=new ct(fN(e));return n.forEach((i,o)=>{Qf(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Os()<=le.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",ks(n)),this.gs.getDocumentsMatchingQuery(e,n,Co.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var JI="LocalStore",$3=3e8,iI=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new je(ce),this.Ms=new xr(o=>WI(o),KI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zE(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function q3(t,e,n,r){return new iI(t,e,n,r)}async function PN(t,e){let n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=de();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})}function z3(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,g=p.keys(),y=N.resolve();return g.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(R=>{let A=l.docVersions.get(C);we(A!==null,48541),R.version.compareTo(A)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=de();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ON(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function G3(t,e){let n=X(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Tt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(R,A,L){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=$3?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(g,y,h)&&a.push(n.hi.updateTargetData(o,y))});let u=Pr(),l=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(W3(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(re.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return N.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function W3(t,e,n){let r=de(),i=de();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Pr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):j(JI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function K3(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=HI),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Q3(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,N.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new Iu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function oI(t,e,n){let r=X(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!na(s))throw s;j(JI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function mM(t,e,n){let r=X(t),i=re.min(),o=de();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=X(u),g=p.Ms.get(h);return g!==void 0?N.resolve(p.Fs.get(g)):p.hi.getTargetData(l,h)})(r,s,Qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:re.min(),n?o:de())).next(a=>(Y3(r,u3(e),a),{documents:a,qs:o})))}function Y3(t,e,n){let r=t.xs.get(e)||re.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var Af=class{constructor(){this.activeTargetIds=g3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var sI=class{constructor(){this.Fo=new Af,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Af,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var aI=class{xo(e){}shutdown(){}};var yM="ConnectivityMonitor",Rf=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){j(yM,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){j(yM,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var cf=null;function cI(){return cf===null?cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():cf++,"0x"+cf.toString(16)}var Z_="RestConnection",Z3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},uI=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===yf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=cI(),a=this.Go(e,n.toUriEncodedString());j(Z_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=si(l);return this.jo(e,a,u,r,h).then(p=>(j(Z_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Ii(Z_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ea})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=Z3[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var lI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var bt="WebChannelConnection",dI=class extends uI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=cI();return new Promise((a,u)=>{let l=new z_;l.setWithCredentials(!0),l.listenOnce(G_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cu.NO_ERROR:let p=l.getResponseJson();j(bt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case cu.TIMEOUT:j(bt,`RPC '${e}' ${s} timed out`),u(new U(M.DEADLINE_EXCEEDED,"Request time out"));break;case cu.HTTP_ERROR:let g=l.getStatus();if(j(bt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let C=y?.error;if(C&&C.status&&C.message){let R=(function(L){let q=L.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(q)>=0?q:M.UNKNOWN})(C.status);u(new U(R,C.message))}else u(new U(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new U(M.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{j(bt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);j(bt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=cI(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Q_(),a=K_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");j(bt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let g=!1,y=!1,C=new lI({Ho:A=>{y?j(bt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(g||(j(bt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),j(bt,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Yo:()=>p.close()}),R=(A,L,q)=>{A.listen(L,Z=>{try{q(Z)}catch(Re){setTimeout(()=>{throw Re},0)}})};return R(p,Ps.EventType.OPEN,()=>{y||(j(bt,`RPC '${e}' stream ${i} transport opened.`),C.s_())}),R(p,Ps.EventType.CLOSE,()=>{y||(y=!0,j(bt,`RPC '${e}' stream ${i} transport closed`),C.__(),this.I_(p))}),R(p,Ps.EventType.ERROR,A=>{y||(y=!0,Ii(bt,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),C.__(new U(M.UNAVAILABLE,"The operation could not be completed")))}),R(p,Ps.EventType.MESSAGE,A=>{var L;if(!y){let q=A.data[0];we(!!q,16349);let Z=q,Re=Z?.error||((L=Z[0])===null||L===void 0?void 0:L.error);if(Re){j(bt,`RPC '${e}' stream ${i} received error:`,Re);let St=Re.status,De=(function(E){let I=Ye[E];if(I!==void 0)return CN(I)})(St),w=Re.message;De===void 0&&(De=M.INTERNAL,w="Unknown error status: "+St+" with message "+Re.message),y=!0,C.__(new U(De,w)),p.close()}else j(bt,`RPC '${e}' stream ${i} received:`,q),C.a_(q)}}),R(a,W_.STAT_EVENT,A=>{A.stat===of.PROXY?j(bt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===of.NOPROXY&&j(bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function J_(){return typeof document<"u"?document:null}function Yf(t){return new xE(t,!0)}var Mf=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var vM="PersistentStream",Nf=class{constructor(e,n,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Mf(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Rr(n.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new U(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return j(vM,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(j(vM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},hI=class extends Nf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=R3(this.serializer,e),r=(function(o){if(!("targetChange"in o))return re.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?Yn(s.readTime):re.min()})(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=FE(this.serializer),n.addTarget=(function(o,s){let a,u=s.target;if(a=IE(u)?{documents:x3(o,u)}:{query:P3(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=bN(o,s.resumeToken);let l=PE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(re.min())>0){a.readTime=Cf(o,s.snapshotVersion.toTimestamp());let l=PE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=k3(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=FE(this.serializer),n.removeTarget=e,this.k_(n)}},fI=class extends Nf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=N3(e.writeResults,e.commitTime),r=Yn(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=FE(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>M3(this.serializer,r))};this.k_(n)}};var pI=class{},gI=class extends pI{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,OE(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(M.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,OE(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(M.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},mI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Rr(n),this._a=!1):j("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Ro="RemoteStore",yI=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{No(this)&&(j(Ro,"Restarting streams for network reachability change."),await(async function(u){let l=X(u);l.Ia.add(4),await Su(l),l.Aa.set("Unknown"),l.Ia.delete(4),await Zf(l)})(this))})}),this.Aa=new mI(r,i)}};async function Zf(t){if(No(t))for(let e of t.da)await e(!0)}async function Su(t){for(let e of t.da)await e(!1)}function kN(t,e){let n=X(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),nw(n)?tw(n):ra(n).x_()&&ew(n,e))}function XI(t,e){let n=X(t),r=ra(n);n.Ta.delete(e),r.x_()&&FN(n,e),n.Ta.size===0&&(r.x_()?r.B_():No(n)&&n.Aa.set("Unknown"))}function ew(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ra(t).H_(e)}function FN(t,e){t.Ra.$e(e),ra(t).Y_(e)}function tw(t){t.Ra=new NE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ra(t).start(),t.Aa.aa()}function nw(t){return No(t)&&!ra(t).M_()&&t.Ta.size>0}function No(t){return X(t).Ia.size===0}function LN(t){t.Ra=void 0}async function J3(t){t.Aa.set("Online")}async function X3(t){t.Ta.forEach((e,n)=>{ew(t,e)})}async function e$(t,e){LN(t),nw(t)?(t.Aa.la(e),tw(t)):t.Aa.set("Unknown")}async function t$(t,e,n){if(t.Aa.set("Online"),e instanceof wf&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})(t,e)}catch(r){j(Ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xf(t,r)}else if(e instanceof Us?t.Ra.Ye(e):e instanceof If?t.Ra.it(e):t.Ra.et(e),!n.isEqual(re.min()))try{let r=await ON(t.localStore);n.compareTo(r)>=0&&await(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(Tt.EMPTY_BYTE_STRING,h.snapshotVersion)),FN(o,u);let p=new Iu(h.target,u,l,h.sequenceNumber);ew(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){j(Ro,"Failed to raise snapshot:",r),await xf(t,r)}}async function xf(t,e,n){if(!na(e))throw e;t.Ia.add(1),await Su(t),t.Aa.set("Offline"),n||(n=()=>ON(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{j(Ro,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Zf(t)})}function VN(t,e){return e().catch(n=>xf(t,n,e))}async function Jf(t){let e=X(t),n=Ci(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:HI;for(;n$(e);)try{let i=await K3(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,r$(e,i)}catch(i){await xf(e,i)}UN(e)&&jN(e)}function n$(t){return No(t)&&t.Pa.length<10}function r$(t,e){t.Pa.push(e);let n=Ci(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function UN(t){return No(t)&&!Ci(t).M_()&&t.Pa.length>0}function jN(t){Ci(t).start()}async function i$(t){Ci(t).na()}async function o$(t){let e=Ci(t);for(let n of t.Pa)e.X_(n.mutations)}async function s$(t,e,n){let r=t.Pa.shift(),i=SE.from(r,e,n);await VN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jf(t)}async function a$(t,e){e&&Ci(t).Z_&&await(async function(r,i){if((function(s){return w3(s)&&s!==M.ABORTED})(i.code)){let o=r.Pa.shift();Ci(r).N_(),await VN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Jf(r)}})(t,e),UN(t)&&jN(t)}async function _M(t,e){let n=X(t);n.asyncQueue.verifyOperationInProgress(),j(Ro,"RemoteStore received new credentials");let r=No(n);n.Ia.add(3),await Su(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Zf(n)}async function c$(t,e){let n=X(t);e?(n.Ia.delete(2),await Zf(n)):e||(n.Ia.add(2),await Su(n),n.Aa.set("Unknown"))}function ra(t){return t.Va||(t.Va=(function(n,r,i){let o=X(n);return o.ia(),new hI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:J3.bind(null,t),e_:X3.bind(null,t),n_:e$.bind(null,t),J_:t$.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),nw(t)?tw(t):t.Aa.set("Unknown")):(await t.Va.stop(),LN(t))})),t.Va}function Ci(t){return t.ma||(t.ma=(function(n,r,i){let o=X(n);return o.ia(),new fI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:i$.bind(null,t),n_:a$.bind(null,t),ea:o$.bind(null,t),ta:s$.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Jf(t)):(await t.ma.stop(),t.Pa.length>0&&(j(Ro,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}var vI=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function rw(t,e){if(Rr("AsyncQueue",`${e}: ${t}`),na(t))return new U(M.UNAVAILABLE,`${e}: ${t}`);throw t}var Pf=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=uu(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Of=class{constructor(){this.fa=new je(G.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Q(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},Zs=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Pf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var _I=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},EI=class{constructor(){this.queries=EM(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=X(n),o=i.queries;i.queries=EM(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new U(M.ABORTED,"Firestore shutting down"))}};function EM(){return new xr(t=>hN(t),Kf)}async function u$(t,e){let n=X(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new _I,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let a=rw(s,`Initialization of query '${ks(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&iw(n)}async function l$(t,e){let n=X(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function d$(t,e){let n=X(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&iw(n)}function h$(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function iw(t){t.Da.forEach(e=>{e.next()})}var II,IM;(IM=II||(II={})).Fa="default",IM.Cache="cache";var wI=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Zs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==II.Cache}};var kf=class{constructor(e){this.key=e}},Ff=class{constructor(e){this.key=e}},DI=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=de(),this.mutatedKeys=de(),this.Xa=fN(e),this.eu=new Pf(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new Of,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Qf(this.query,p)?p:null,C=!!g&&this.mutatedKeys.has(g.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;g&&y?g.data.isEqual(y.data)?C!==R&&(r.track({type:3,doc:y}),A=!0):this.iu(g,y)||(r.track({type:2,doc:y}),A=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),A=!0):g&&!y&&(r.track({type:1,doc:g}),A=!0,(u||l)&&(a=!0)),A&&(y?(s=s.add(y),o=R?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,C){let R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{At:A})}};return R(y)-R(C)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Zs(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Of,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=de(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new Ff(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new kf(r))}),n}uu(e){this.Ha=e.qs,this.Za=de();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Zs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},ow="SyncEngine",CI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},bI=class{constructor(e){this.key=e,this.lu=!1}},TI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new xr(a=>hN(a),Kf),this.Tu=new Map,this.Iu=new Set,this.du=new je(G.comparator),this.Eu=new Map,this.Au=new Du,this.Ru={},this.Vu=new Map,this.mu=wu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function f$(t,e,n=!0){let r=GN(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await BN(r,e,n,!0),i}async function p$(t,e){let n=GN(t);await BN(n,e,!0,!1)}async function BN(t,e,n,r){let i=await Q3(t.localStore,Qn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=await g$(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&kN(t.remoteStore,i),a}async function g$(t,e,n,r,i){t.gu=(p,g,y)=>(async function(R,A,L,q){let Z=A.view.nu(L);Z.Ds&&(Z=await mM(R.localStore,A.query,!1).then(({documents:w})=>A.view.nu(w,Z)));let Re=q&&q.targetChanges.get(A.targetId),St=q&&q.targetMismatches.get(A.targetId)!=null,De=A.view.applyChanges(Z,R.isPrimaryClient,Re,St);return DM(R,A.targetId,De._u),De.snapshot})(t,p,g,y);let o=await mM(t.localStore,e,!0),s=new DI(e,o.qs),a=s.nu(o.documents),u=Eu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);DM(t,n,l._u);let h=new CI(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot}async function m$(t,e,n){let r=X(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Kf(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await oI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&XI(r.remoteStore,i.targetId),SI(r,i.targetId)}).catch(ta)):(SI(r,i.targetId),await oI(r.localStore,i.targetId,!0))}async function y$(t,e){let n=X(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),XI(n.remoteStore,r.targetId))}async function v$(t,e,n){let r=b$(t);try{let i=await(function(s,a){let u=X(s),l=et.now(),h=a.reduce((y,C)=>y.add(C.key),de()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=Pr(),R=de();return u.Os.getEntries(y,h).next(A=>{C=A,C.forEach((L,q)=>{q.isValidDocument()||(R=R.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(A=>{p=A;let L=[];for(let q of a){let Z=I3(q,p.get(q.key).overlayedDocument);Z!=null&&L.push(new Jn(q.key,Z,oN(Z.value.mapValue),Ar.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,L,a)}).next(A=>{g=A;let L=A.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(y,A.batchId,L)})}).then(()=>({batchId:g.batchId,changes:gN(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new je(ce)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,n),await Au(r,i.changes),await Jf(r.remoteStore)}catch(i){let o=rw(i,"Failed to persist write");n.reject(o)}}async function HN(t,e){let n=X(t);try{let r=await G3(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?we(s.lu,14607):i.removedDocuments.size>0&&(we(s.lu,42227),s.lu=!1))}),await Au(n,r,e)}catch(r){await ta(r)}}function wM(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=X(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.wa)g.va(a)&&(l=!0)}),l&&iw(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _$(t,e,n){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new je(G.comparator);s=s.insert(o,Sn.newNoDocument(o,re.min()));let a=de().add(o),u=new Ef(re.min(),new Map,new je(ce),s,a);await HN(r,u),r.du=r.du.remove(o),r.Eu.delete(e),sw(r)}else await oI(r.localStore,e,!1).then(()=>SI(r,e,n)).catch(ta)}async function E$(t,e){let n=X(t),r=e.batch.batchId;try{let i=await z3(n.localStore,e);qN(n,r,null),$N(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Au(n,i)}catch(i){await ta(i)}}async function I$(t,e,n){let r=X(t);try{let i=await(function(s,a){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(we(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);qN(r,e,n),$N(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Au(r,i)}catch(i){await ta(i)}}function $N(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function qN(t,e,n){let r=X(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function SI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||zN(t,r)})}function zN(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(XI(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),sw(t))}function DM(t,e,n){for(let r of n)r instanceof kf?(t.Au.addReference(r.key,e),w$(t,r)):r instanceof Ff?(j(ow,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||zN(t,r.key)):Q(19791,{yu:r})}function w$(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(j(ow,"New document in limbo: "+n),t.Iu.add(r),sw(t))}function sw(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new G(Fe.fromString(e)),r=t.mu.next();t.Eu.set(r,new bI(n)),t.du=t.du.insert(n,r),kN(t.remoteStore,new Iu(Qn(QI(n.path)),r,"TargetPurposeLimboResolution",BI.ue))}}async function Au(t,e,n){let r=X(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=tI.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(u,l){let h=X(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>N.forEach(l,g=>N.forEach(g.Is,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>N.forEach(g.ds,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!na(p))throw p;j(JI,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.Fs.get(g),C=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(C);h.Fs=h.Fs.insert(g,R)}}})(r.localStore,o))}async function D$(t,e){let n=X(t);if(!n.currentUser.isEqual(e)){j(ow,"User change. New user:",e.toKey());let r=await PN(n.localStore,e);n.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new U(M.CANCELLED,s))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Au(n,r.Bs)}}function C$(t,e){let n=X(t),r=n.Eu.get(e);if(r&&r.lu)return de().add(r.key);{let i=de(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function GN(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_$.bind(null,e),e.hu.J_=d$.bind(null,e.eventManager),e.hu.pu=h$.bind(null,e.eventManager),e}function b$(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I$.bind(null,e),e}var WN=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=Yf(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)}Cu(n,r){return null}Fu(n,r){return null}vu(n){return q3(this.persistence,new rI,n.initialUser,this.serializer)}Du(n){return new Tf(eI.Vi,this.serializer)}bu(n){return new sI}async terminate(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),AI=class extends WN{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){we(this.persistence.referenceDelegate instanceof Sf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new BE(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new Tf(r=>Sf.Vi(r,n),this.serializer)}};var T$=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>wM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=D$.bind(null,this.syncEngine),await c$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new EI})()}createDatastore(n){let r=Yf(n.databaseInfo.databaseId),i=(function(s){return new dI(s)})(n.databaseInfo);return(function(s,a,u,l){return new gI(s,a,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,u){return new yI(i,o,s,a,u)})(this.localStore,this.datastore,n.asyncQueue,r=>wM(this.syncEngine,r,0),(function(){return Rf.C()?new Rf:new aI})())}createSyncEngine(n,r){return(function(o,s,a,u,l,h,p){let g=new TI(o,s,a,u,l,h);return p&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){var n,r;await(async function(o){let s=X(o);j(Ro,"RemoteStore shutting down."),s.Ia.add(5),await Su(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return t.provider={build:()=>new t},t})();var RI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var bi="FirestoreClient",MI=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=at.UNAUTHENTICATED,this.clientId=pu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{j(bi,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(j(bi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=rw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function X_(t,e){t.asyncQueue.verifyOperationInProgress(),j(bi,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await PN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Ii("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{j("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Ii("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function CM(t,e){t.asyncQueue.verifyOperationInProgress();let n=await S$(t);j(bi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>_M(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>_M(e.remoteStore,i)),t._onlineComponents=e}async function S$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j(bi,"Using user provided OfflineComponentProvider");try{await X_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Ii("Error using user provided cache. Falling back to memory cache: "+n),await X_(t,new WN)}}else j(bi,"Using default OfflineComponentProvider"),await X_(t,new AI(void 0));return t._offlineComponents}async function KN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(j(bi,"Using user provided OnlineComponentProvider"),await CM(t,t._uninitializedComponentsProvider._online)):(j(bi,"Using default OnlineComponentProvider"),await CM(t,new T$))),t._onlineComponents}function A$(t){return KN(t).then(e=>e.syncEngine)}async function bM(t){let e=await KN(t),n=e.eventManager;return n.onListen=f$.bind(null,e.syncEngine),n.onUnlisten=m$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=p$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=y$.bind(null,e.syncEngine),n}function QN(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var TM=new Map;var YN="firestore.googleapis.com",SM=!0,Lf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YN,this.ssl=SM}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:SM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B3)throw new U(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Js=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new U(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new U(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new eE;switch(r.type){case"firstParty":return new iE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=TM.get(n);r&&(j("ComponentProvider","Removing Datastore"),TM.delete(n),r.terminate())})(this),Promise.resolve()}};function R$(t,e,n,r={}){var i;t=mi(t,Js);let o=si(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(Mh(`https://${u}`),Nh("Firestore",!0)),s.host!==YN&&s.host!==u&&Ii("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!qn(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=at.MOCK_USER;else{h=pA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new U(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new at(g)}t._authCredentials=new tE(new hf(h,p))}}var Mo=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},mt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Tu(n,t._jsonSchema))return new t(e,r||null,new G(Fe.fromString(n.referencePath)))}};mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Xe("string",mt._jsonSchemaVersion),referencePath:Xe("string")};var yi=class t extends Mo{constructor(e,n,r){super(e,n,QI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new G(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function aw(t,e,...n){if(t=Le(t),kM("collection","path",e),t instanceof Js){let r=Fe.fromString(e,...n);return qR(r),new yi(t,null,r)}{if(!(t instanceof mt||t instanceof yi))throw new U(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Fe.fromString(e,...n));return qR(r),new yi(t.firestore,null,r)}}function Xf(t,e,...n){if(t=Le(t),arguments.length===1&&(e=pu.newId()),kM("doc","path",e),t instanceof Js){let r=Fe.fromString(e,...n);return $R(r),new mt(t,null,new G(r))}{if(!(t instanceof mt||t instanceof yi))throw new U(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Fe.fromString(e,...n));return $R(r),new mt(t.firestore,t instanceof yi?t.converter:null,new G(r))}}var AM="AsyncQueue",Vf=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Mf(this,"async_queue_retry"),this.oc=()=>{let r=J_();r&&j(AM,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=J_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=J_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new Sr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!na(e))throw e;j(AM,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Rr("INTERNAL UNHANDLED ERROR: ",RM(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=vI.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Q(47125,{hc:RM(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function RM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function MM(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}var Ti=class extends Js{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Vf,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Vf(e),this._firestoreClient=void 0,await e}}};function cw(t,e){let n=typeof t=="object"?t:Ns(),r=typeof t=="string"?t:e||yf,i=Zc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=fA("firestore");o&&R$(i,...o)}return i}function ZN(t){if(t._terminated)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||M$(t),t._firestoreClient}function M$(t){var e,n,r;let i=t._freezeSettings(),o=(function(a,u,l,h){return new uE(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,QN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new MI(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(t._componentsProvider))}var vi=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Tt.fromBase64String(e))}catch(n){throw new U(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:Xe("string",vi._jsonSchemaVersion),bytes:Xe("string")};var Xs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Cu=class{constructor(e){this._methodName=e}};var _i=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:Xe("string",_i._jsonSchemaVersion),latitude:Xe("number"),longitude:Xe("number")};var Ei=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new U(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:Xe("string",Ei._jsonSchemaVersion),vectorValues:Xe("object")};var N$=/^__.*__$/,NI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ao(e,this.data,n,this.fieldTransforms)}},Uf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Jn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function JN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ec:t})}}var xI=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Bf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(JN(this.Ec)&&N$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},PI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yf(e)}Dc(e,n,r,i=!1){return new xI({Ec:e,methodName:n,bc:r,path:en.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function uw(t){let e=t._freezeSettings(),n=Yf(t._databaseId);return new PI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function x$(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);lw("Data must be an object, but it was:",s,r);let a=XN(r,s),u,l;if(o.merge)u=new fn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=OI(e,p,n);if(!s.contains(g))throw new U(M.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);tx(h,g)||h.push(g)}u=new fn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new NI(new Xt(a),u,l)}var jf=class t extends Cu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function P$(t,e,n,r){let i=t.Dc(1,e,n);lw("Data must be an object, but it was:",i,r);let o=[],s=Xt.empty();Si(r,(u,l)=>{let h=dw(e,u,n);l=Le(l);let p=i.gc(h);if(l instanceof jf)o.push(h);else{let g=Ru(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new fn(o);return new Uf(s,a,i.fieldTransforms)}function O$(t,e,n,r,i,o){let s=t.Dc(1,e,n),a=[OI(e,r,n)],u=[i];if(o.length%2!=0)throw new U(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(OI(e,o[g])),u.push(o[g+1]);let l=[],h=Xt.empty();for(let g=a.length-1;g>=0;--g)if(!tx(l,a[g])){let y=a[g],C=u[g];C=Le(C);let R=s.gc(y);if(C instanceof jf)l.push(y);else{let A=Ru(C,R);A!=null&&(l.push(y),h.set(y,A))}}let p=new fn(l);return new Uf(h,p,s.fieldTransforms)}function k$(t,e,n,r=!1){return Ru(n,t.Dc(r?4:3,e))}function Ru(t,e){if(ex(t=Le(t)))return lw("Unsupported field value:",e,t),XN(t,e);if(t instanceof Cu)return(function(r,i){if(!JN(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=Ru(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return m3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=et.fromDate(r);return{timestampValue:Cf(i.serializer,o)}}if(r instanceof et){let o=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cf(i.serializer,o)}}if(r instanceof _i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vi)return{bytesValue:bN(i.serializer,r._byteString)};if(r instanceof mt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ZI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ei)return(function(s,a){return{mapValue:{fields:{[qI]:{stringValue:zI},[$s]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return YI(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${zf(r)}`)})(t,e)}function XN(t,e){let n={};return ZM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(t,(r,i)=>{let o=Ru(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function ex(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof _i||t instanceof vi||t instanceof mt||t instanceof Cu||t instanceof Ei)}function lw(t,e,n){if(!ex(n)||!FM(n)){let r=zf(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function OI(t,e,n){if((e=Le(e))instanceof Xs)return e._internalPath;if(typeof e=="string")return dw(t,e);throw Bf("Field path arguments must be of type string or ",t,!1,void 0,n)}var F$=new RegExp("[~\\*/\\[\\]]");function dw(t,e,n){if(e.search(F$)>=0)throw Bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xs(...e.split("."))._internalPath}catch{throw Bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new U(M.INVALID_ARGUMENT,a+t+u)}function tx(t,e){return t.some(n=>n.isEqual(e))}var Hf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new kI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(hw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},kI=class extends Hf{data(){return super.data()}};function hw(t,e){return typeof e=="string"?dw(t,e):e instanceof Xs?e._internalPath:e._delegate._internalPath}function L$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var bu=class{},$f=class extends bu{};function nx(t,e,...n){let r=[];e instanceof bu&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(u=>u instanceof LI).length,a=o.filter(u=>u instanceof FI).length;if(s>1||s>0&&a>0)throw new U(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var FI=class t extends $f{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return ix(e._query,n),new Mo(e.firestore,e.converter,wE(e._query,n))}_parse(e){let n=uw(e.firestore);return(function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new U(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){xM(p,h);let C=[];for(let R of p)C.push(NM(u,o,R));g={arrayValue:{values:C}}}else g=NM(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||xM(p,h),g=k$(a,s,p,h==="in"||h==="not-in");return Je.create(l,h,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var LI=class t extends bu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:An.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)ix(s,u),s=wE(s,u)})(e._query,n),new Mo(e.firestore,e.converter,wE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var VI=class t extends $f{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=(function(i,o,s){if(i.startAt!==null)throw new U(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new U(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bo(o,s)})(e._query,this._field,this._direction);return new Mo(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new Di(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}};function rx(t,e="asc"){let n=e,r=hw("orderBy",t);return VI._create(r,n)}function NM(t,e,n){if(typeof(n=Le(n))=="string"){if(n==="")throw new U(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dN(e)&&n.indexOf("/")!==-1)throw new U(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Fe.fromString(n));if(!G.isDocumentKey(r))throw new U(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ZR(t,new G(r))}if(n instanceof mt)return ZR(t,n._key);throw new U(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zf(n)}.`)}function xM(t,e){if(!Array.isArray(t)||t.length===0)throw new U(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ix(t,e){let n=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new U(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var UI=class{convertValue(e,n="none"){switch(wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Si(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[$s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ke(s.doubleValue));return new Ei(o)}convertGeoPoint(e){return new _i(ke(e.latitude),ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Wf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){let n=Mr(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Fe.fromString(e);we(NN(r),9688,{name:e});let i=new vf(r.get(1),r.get(3)),o=new G(r.popFirst(5));return i.isEqual(n)||Rr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function V$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Io=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},wo=class t extends Hf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new js(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(hw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new U(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};wo._jsonSchemaVersion="firestore/documentSnapshot/1.0",wo._jsonSchema={type:Xe("string",wo._jsonSchemaVersion),bundleSource:Xe("string","DocumentSnapshot"),bundleName:Xe("string"),bundle:Xe("string")};var js=class extends wo{data(e={}){return super.data(e)}},Bs=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Io(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new js(this._firestore,this._userDataWriter,r.key,r,new Io(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new js(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Io(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new js(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Io(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:U$(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new U(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function U$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}Bs._jsonSchemaVersion="firestore/querySnapshot/1.0",Bs._jsonSchema={type:Xe("string",Bs._jsonSchemaVersion),bundleSource:Xe("string","QuerySnapshot"),bundleName:Xe("string"),bundle:Xe("string")};var qf=class extends UI{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}};function ox(t,e,n,...r){t=mi(t,mt);let i=mi(t.firestore,Ti),o=uw(i),s;return s=typeof(e=Le(e))=="string"||e instanceof Xs?O$(o,"updateDoc",t._key,e,n,r):P$(o,"updateDoc",t._key,e),fw(i,[s.toMutation(t._key,Ar.exists(!0))])}function sx(t){return fw(mi(t.firestore,Ti),[new _u(t._key,Ar.none())])}function ax(t,e){let n=mi(t.firestore,Ti),r=Xf(t),i=V$(t.converter,e);return fw(n,[x$(uw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ar.exists(!1))]).then(()=>r)}function cx(t,...e){var n,r,i;t=Le(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||MM(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(MM(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof mt)l=mi(t.firestore,Ti),h=QI(t._key.path),u={next:p=>{e[s]&&e[s](j$(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=mi(t,Mo);l=mi(p.firestore,Ti),h=p._query;let g=new qf(l);u={next:y=>{e[s]&&e[s](new Bs(l,g,p,y))},error:e[s+1],complete:e[s+2]},L$(t._query)}return(function(g,y,C,R){let A=new RI(R),L=new wI(y,A,C);return g.asyncQueue.enqueueAndForget(async()=>u$(await bM(g),L)),()=>{A.Ou(),g.asyncQueue.enqueueAndForget(async()=>l$(await bM(g),L))}})(ZN(l),h,a,u)}function fw(t,e){return(function(r,i){let o=new Sr;return r.asyncQueue.enqueueAndForget(async()=>v$(await A$(r),i,o)),o.promise})(ZN(t),e)}function j$(t,e,n){let r=n.docs.get(e._key),i=new qf(t);return new wo(t,i,e._key,r,new Io(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ea=i})(li),ui(new dn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ti(new nE(r.getProvider("auth-internal")),new oE(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vf(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Tn(UR,jR,e),Tn(UR,jR,"esm2017")})();var B$=["cardEl"],ep=(t,e)=>e.id;function H$(t,e){t&1&&(x(0,"p",6),V(1,"Chargement..."),O())}function $$(t,e){if(t&1&&(x(0,"p",11),V(1),O()),t&2){let n=ie(2);H(),Dt(n.authError())}}function q$(t,e){if(t&1){let n=Gt();x(0,"div",12)(1,"p"),V(2,"V\xE9rifie ton email puis recharge la page."),O(),x(3,"button",13),Se("click",function(){Ce(n);let i=ie(2);return be(i.sendVerification())}),V(4,"Renvoyer l'email"),O()()}if(t&2){let n=ie(2);H(3),pt("disabled",n.auth.verifying())}}function z$(t,e){if(t&1){let n=Gt();x(0,"div",2)(1,"div",4)(2,"h1"),V(3,"Connexion"),O(),x(4,"p",5),V(5,"Identifie-toi pour acc\xE9der \xE0 ta banque."),O(),qt(6,H$,2,0,"p",6),x(7,"form",7),Se("ngSubmit",function(){Ce(n);let i=ie();return be(i.login())}),x(8,"label"),V(9," Email "),x(10,"input",8),Se("ngModelChange",function(i){Ce(n);let o=ie();return be(o.email.set(i))}),O()(),x(11,"label"),V(12," Mot de passe "),x(13,"input",9),Se("ngModelChange",function(i){Ce(n);let o=ie();return be(o.password.set(i))}),O()(),x(14,"button",10),V(15,"Se connecter"),O()(),qt(16,$$,2,1,"p",11),qt(17,q$,5,1,"div",12),O()()}if(t&2){let n,r=ie();H(6),zt(r.auth.loading()?6:-1),H(4),pt("ngModel",r.email()),H(3),pt("ngModel",r.password()),H(3),zt(r.authError()?16:-1),H(),zt(r.auth.user()&&!((n=r.auth.user())!=null&&n.emailVerified)&&r.environment.requireEmailVerification?17:-1)}}function G$(t,e){if(t&1&&(x(0,"div",25)(1,"div",26),V(2),O()()),t&2){let n=ie(2);H(),Md("background",n.avatarColor()),H(),Dt(n.avatarInitial())}}function W$(t,e){if(t&1&&(x(0,"article",32)(1,"div",36)(2,"div",37)(3,"div",38),V(4,"FR"),O(),x(5,"p",39),V(6),O()(),x(7,"div",40)(8,"div",38),V(9,"EN"),O(),x(10,"p",39),V(11),O()()()()),t&2){let n=e.$implicit;H(6),Dt(n.front),H(5),Dt(n.back)}}function K$(t,e){t&1&&(x(0,"p",33),V(1,"Aucune carte pour l\u2019instant."),O())}function Q$(t,e){if(t&1){let n=Gt();x(0,"article",41),Se("click",function(){let i=Ce(n).$implicit,o=ie(3);return be(o.openHistoryTest(i))})("keyup.enter",function(){let i=Ce(n).$implicit,o=ie(3);return be(o.openHistoryTest(i))}),x(1,"div",42)(2,"span",43),V(3),O(),x(4,"span",6),V(5),O()(),x(6,"p",44),V(7),O(),x(8,"p",45),V(9),by(10,"date"),O(),x(11,"button",46),V(12,"Voir le r\xE9cap"),O()()}if(t&2){let n=e.$implicit;H(3),gr("Test #",n.id),H(2),gr("",n.size," cartes"),H(2),co("",n.score," / ",n.size),H(2),Dt(Ty(10,5,n.createdAt,"short"))}}function Y$(t,e){t&1&&(x(0,"p",33),V(1,"Pas encore de tests. Lance une session dans l\u2019onglet R\xE9vision."),O())}function Z$(t,e){if(t&1&&(so(0),x(1,"header",27)(2,"div",28)(3,"p",17),V(4,"Accueil"),O(),x(5,"h1"),V(6,"Derni\xE8res cartes & tests"),O(),x(7,"p",5),V(8,"Un coup d\u2019\u0153il rapide sur ce que tu viens d\u2019ajouter et tes r\xE9visions."),O()()(),x(9,"div",29)(10,"section")(11,"div",30)(12,"h2"),V(13,"Derni\xE8res cartes"),O(),x(14,"span",6),V(15,"8 plus r\xE9centes"),O()(),x(16,"div",31),ls(17,W$,12,2,"article",32,ep,!1,K$,2,0,"p",33),O()(),x(20,"section")(21,"div",30)(22,"h2"),V(23,"Historique des tests"),O(),x(24,"span",6),V(25,"4 derniers"),O()(),x(26,"div",34),ls(27,Q$,13,8,"article",35,ep,!1,Y$,2,0,"p",33),O()()(),ao()),t&2){let n=ie(2);H(17),ds(n.flashcards().slice(0,8)),H(10),ds(n.history())}}function J$(t,e){t&1&&(x(0,"p",33),V(1,"Ajoute ton premier mot pour cr\xE9er ta collection."),O())}function X$(t,e){if(t&1){let n=Gt();x(0,"button",60),Se("click",function(i){Ce(n);let o=ie().$implicit;return ie(4).deleteCard(o.id),be(i.stopPropagation())}),V(1," \xD7 "),O()}}function e4(t,e){if(t&1){let n=Gt();x(0,"article",58,1),Se("click",function(){let i=Ce(n).$implicit,o=ie(4);return be(o.toggleCard(i.id))})("keyup.enter",function(){let i=Ce(n).$implicit,o=ie(4);return be(o.toggleCard(i.id))}),qt(2,X$,2,0,"button",59),x(3,"div",36)(4,"div",37)(5,"div",38),V(6,"FR"),O(),x(7,"p",39),V(8),O()(),x(9,"div",40)(10,"div",38),V(11,"EN"),O(),x(12,"p",39),V(13),O()()()()}if(t&2){let n=e.$implicit,r=ie(4);Kt("new-card",n.id===r.lastAddedId())("flipped",n.flipped),ei("aria-pressed",n.flipped),H(2),zt(r.deleteMode()?2:-1),H(6),Dt(n.front),H(5),Dt(n.back)}}function t4(t,e){if(t&1&&ls(0,e4,14,8,"article",57,ep),t&2){let n=ie(3);ds(n.flashcards())}}function n4(t,e){if(t&1){let n=Gt();so(0),x(1,"header",47)(2,"div",28)(3,"p",17),V(4,"Banque de vocabulaire"),O(),x(5,"h1"),V(6,"Flashcards FR/ENG"),O(),x(7,"p",5),V(8,"Ajoute des mots, clique sur une carte pour r\xE9v\xE9ler la traduction."),O(),x(9,"div",48),ti(10,"span",16),x(11,"span"),V(12),O()(),x(13,"div",49)(14,"button",50),Se("click",function(){Ce(n);let i=ie(2);return be(i.shuffleCards())}),V(15," M\xE9langer "),O(),x(16,"button",51),Se("click",function(){Ce(n);let i=ie(2);return be(i.toggleDeleteMode())}),V(17),O()()(),x(18,"form",52,0),Se("ngSubmit",function(){Ce(n);let i=ie(2);return be(i.addCard())}),x(20,"label"),V(21," Mot en fran\xE7ais "),x(22,"input",53),fc("ngModelChange",function(i){Ce(n);let o=ie(2);return xd(o.form.front,i)||(o.form.front=i),be(i)}),O()(),x(23,"label"),V(24," Traduction anglaise "),x(25,"input",54),fc("ngModelChange",function(i){Ce(n);let o=ie(2);return xd(o.form.back,i)||(o.form.back=i),be(i)}),O()(),x(26,"button",55),V(27,"Ajouter \xE0 la banque"),O()()(),x(28,"section",56),qt(29,J$,2,0,"p",33)(30,t4,2,0),O(),ao()}if(t&2){let n=Dy(19),r=ie(2);H(12),co("",r.totalCards()," carte",r.totalCards()>1?"s":""),H(2),pt("disabled",r.flashcards().length===0),H(2),Kt("active",r.deleteMode()),H(),gr(" ",r.deleteMode()?"Terminer suppression":"Supprimer cartes"," "),H(5),hc("ngModel",r.form.front),H(3),hc("ngModel",r.form.back),H(),pt("disabled",n.form.invalid),H(2),Kt("delete-mode",r.deleteMode())("shuffling",r.shuffleWave()),H(),zt(r.flashcards().length===0?29:30)}}function r4(t,e){t&1&&(x(0,"p",33),V(1,"Lance un test pour commencer."),O())}function i4(t,e){if(t&1){let n=Gt();x(0,"div",62)(1,"p"),V(2),O(),x(3,"button",18),Se("click",function(){Ce(n);let i=ie(3);return be(i.startTest())}),V(4,"Relancer"),O()()}if(t&2){let n=ie(3);H(2),co("Termin\xE9 ! Score : ",n.score()," / ",n.reviewCards().length)}}function o4(t,e){if(t&1&&(x(0,"article",64)(1,"div",36)(2,"div",37)(3,"div",38),V(4,"FR"),O(),x(5,"p",39),V(6),O()(),x(7,"div",40)(8,"div",38),V(9,"EN"),O(),x(10,"p",39),V(11),O()()()()),t&2){let n=e.$implicit;H(6),Dt(n.front),H(5),Dt(n.back)}}function s4(t,e){if(t&1){let n=Gt();x(0,"div",62)(1,"p"),V(2),O(),x(3,"button",18),Se("click",function(){let i=Ce(n),o=ie(3);return be(o.startTest(i.cards))}),V(4,"Relancer ce test"),O()(),x(5,"div",63),ls(6,o4,12,2,"article",64,ep),O()}if(t&2){let n=e;H(2),Nd("R\xE9cap test #",n.id," \u2014 ",n.score," / ",n.size),H(4),ds(n.cards)}}function a4(t,e){if(t&1&&(x(0,"p",66),V(1),O()),t&2){let n=ie(4);H(),gr(" ",n.lastCorrect()?"Bonne r\xE9ponse !":"Rat\xE9"," ")}}function c4(t,e){if(t&1){let n=Gt();x(0,"div",65)(1,"div",36)(2,"div",37)(3,"div",38),V(4),O(),x(5,"p",39),V(6),O()(),x(7,"div",40)(8,"div",38),V(9),O(),x(10,"p",39),V(11),O(),qt(12,a4,2,1,"p",66),O()()(),x(13,"form",67),Se("ngSubmit",function(){Ce(n);let i=ie(3);return be(i.submitAnswer())}),x(14,"label"),V(15," Ta r\xE9ponse "),x(16,"input",68),Se("input",function(i){Ce(n);let o=ie(3);return be(o.answer.set(i.target.value))}),O()(),x(17,"div",69)(18,"button",55),V(19,"Valider"),O(),x(20,"button",13),Se("click",function(){Ce(n);let i=ie(3);return be(i.nextCard())}),V(21," Carte suivante "),O()()()}if(t&2){let n=e,r=ie(3);Kt("revealed",r.cardRevealed()),H(4),Dt(r.showFront()?"Question":"R\xE9ponse attendue"),H(2),Dt(r.showFront()?n.front:n.back),H(3),Dt(r.showFront()?"R\xE9ponse attendue":"Question"),H(2),Dt(r.showFront()?n.back:n.front),H(),zt(r.cardRevealed()?12:-1),H(4),pt("disabled",r.cardRevealed())("value",r.answer()),H(2),pt("disabled",r.cardRevealed()),H(2),pt("disabled",!r.cardRevealed())}}function u4(t,e){if(t&1){let n=Gt();so(0),x(1,"section",47)(2,"div",28)(3,"p",17),V(4,"Session de r\xE9vision"),O(),x(5,"h1"),V(6,"Teste-toi"),O(),x(7,"p",5),V(8,"Choisis le nombre de cartes, r\xE9ponds, puis valide pour voir la solution."),O(),x(9,"div",48),ti(10,"span",16),x(11,"span"),V(12),O()()(),x(13,"form",52),Se("ngSubmit",function(){Ce(n);let i=ie(2);return be(i.startTest())}),x(14,"label"),V(15," Nombre de cartes "),x(16,"input",61),Se("ngModelChange",function(i){Ce(n);let o=ie(2);return be(o.testSize.set(+(i||0)))}),O()(),x(17,"button",10),V(18,"Lancer le test"),O()()(),qt(19,r4,2,0,"p",33),qt(20,i4,5,2,"div",62),qt(21,s4,8,3),qt(22,c4,22,11),ao()}if(t&2){let n,r,i=ie(2);H(12),co("Score : ",i.score()," / ",i.reviewCards().length||i.testSize()),H(4),pt("max",i.totalCards()||1)("ngModel",i.testSize()),H(3),zt(i.reviewCards().length===0&&!i.testFinished()?19:-1),H(),zt(i.testFinished()&&i.reviewCards().length>0&&!i.selectedHistory()?20:-1),H(),zt((n=i.selectedHistory())?21:-1,n),H(),zt((r=!i.selectedHistory()&&i.currentCard())?22:-1,r)}}function l4(t,e){if(t&1){let n=Gt();x(0,"div",3)(1,"nav",14)(2,"div",15),ti(3,"span",16),x(4,"div")(5,"p",17),V(6,"Vocab"),O(),x(7,"strong"),V(8,"Bank"),O()()(),x(9,"button",18),Se("click",function(){Ce(n);let i=ie();return be(i.switchTab("home"))}),V(10," Accueil "),O(),x(11,"button",18),Se("click",function(){Ce(n);let i=ie();return be(i.switchTab("bank"))}),V(12),O(),x(13,"button",18),Se("click",function(){Ce(n);let i=ie();return be(i.switchTab("review"))}),V(14," R\xE9vision "),O(),x(15,"div",19),lc(16,G$,3,3,"div",20),x(17,"button",21),Se("click",function(){Ce(n);let i=ie();return be(i.logout())}),V(18,"D\xE9connexion"),O()()(),x(19,"section",22),so(20,23),lc(21,Z$,30,2,"ng-container",24)(22,n4,31,14,"ng-container",24)(23,u4,23,8,"ng-container",24),ao(),O()()}if(t&2){let n=ie();H(9),Kt("active",n.activeTab()==="home"),H(2),Kt("active",n.activeTab()==="bank"),H(),gr(" Banque (",n.totalCards(),") "),H(),Kt("active",n.activeTab()==="review"),H(3),pt("ngIf",n.isAuthenticated()),H(4),pt("ngSwitch",n.activeTab()),H(),pt("ngSwitchCase","home"),H(),pt("ngSwitchCase","bank"),H(),pt("ngSwitchCase","review")}}var tp=class t{historyKeyBase="bank-vocabulary/history";nextTestId=1;db=null;unsubscribeCards;currentUserId=null;flashcards=ue([]);totalCards=Qt(()=>this.flashcards().length);activeTab=ue("home");testSize=ue(5);reviewCards=ue([]);currentIndex=ue(0);score=ue(0);showFront=ue(!0);cardRevealed=ue(!1);lastCorrect=ue(null);testFinished=ue(!1);answer=ue("");history=ue([]);selectedHistory=ue(null);deleteMode=ue(!1);lastAddedId=ue(null);shuffleWave=ue(!1);email=ue("");password=ue("");authError=ue(null);environment=As;historyKey=ue(`${this.historyKeyBase}/anon`);cardRefs;auth=P(nf);form={front:"",back:""};constructor(){this.loadHistory(),rs(()=>{let e=JSON.stringify(this.history());localStorage.setItem(this.historyKey(),e)}),rs(()=>{let e=this.auth.user();this.handleUserChange(e??null)})}isAuthenticated=Qt(()=>{let e=this.auth.user();return!(!e||As.requireEmailVerification&&!e.emailVerified)});avatarInitial=Qt(()=>{let e=this.auth.user()?.email??"";return e?e.trim()[0]?.toUpperCase()??"?":"?"});avatarColor=Qt(()=>{let e=this.auth.user()?.email??"",n=["#22d3ee","#60a5fa","#f97316","#f43f5e","#c084fc","#34d399"];if(!e)return n[0];let r=0;for(let i of e)r=(r*31+i.charCodeAt(0))%9973;return n[r%n.length]});async login(){this.authError.set(null);try{await this.auth.signIn(this.email(),this.password()),this.password.set("")}catch(e){this.authError.set(e?.message??"Erreur de connexion")}}async sendVerification(){try{await this.auth.sendVerification()}catch(e){this.authError.set(e?.message??"\xC9chec de l\u2019envoi du mail")}}async logout(){await this.auth.logout()}addCard(){let e=this.form.front.trim(),n=this.form.back.trim();!e||!n||!this.db||!this.auth.user()||(ax(aw(this.db,"users",this.auth.user().uid,"cards"),{front:e,back:n,flipped:!1,createdAt:Date.now()}).then(r=>{this.lastAddedId.set(r.id),setTimeout(()=>this.lastAddedId.set(null),800)}).catch(r=>this.authError.set(r?.message??"Erreur lors de l\u2019ajout")),this.form.front="",this.form.back="")}toggleCard(e){if(this.deleteMode()||!this.db||!this.auth.user())return;let n=this.flashcards().find(r=>r.id===e);n&&ox(Xf(this.db,"users",this.auth.user().uid,"cards",e),{flipped:!n.flipped}).catch(()=>{})}toggleDeleteMode(){this.deleteMode.update(e=>!e)}deleteCard(e){!this.db||!this.auth.user()||sx(Xf(this.db,"users",this.auth.user().uid,"cards",e)).catch(()=>{})}shuffleCards(){this.flashcards.update(e=>{let n=[...e];for(let r=n.length-1;r>0;r--){let i=Math.floor(Math.random()*(r+1));[n[r],n[i]]=[n[i],n[r]]}return n}),this.prepareShuffleVectors(),this.shuffleWave.set(!1),setTimeout(()=>this.shuffleWave.set(!0)),setTimeout(()=>this.shuffleWave.set(!1),1e3)}prepareShuffleVectors(){if(!this.cardRefs)return;let e=window.innerWidth/2,n=window.innerHeight/2;this.cardRefs.forEach(r=>{let i=r.nativeElement,o=i.getBoundingClientRect(),s=e-(o.left+o.width/2),a=n-(o.top+o.height/2);i.style.setProperty("--dx",`${s}px`),i.style.setProperty("--dy",`${a}px`)})}switchTab(e){this.activeTab.set(e),e!=="review"&&this.selectedHistory.set(null),e!=="bank"&&this.deleteMode.set(!1)}startTest(e){this.selectedHistory.set(null);let n=e?[...e]:[...this.flashcards()];if(n.length===0){this.testFinished.set(!0),this.reviewCards.set([]);return}let r=Math.max(1,Math.min(this.testSize(),n.length)),i=e?n.slice(0,r):n.sort(()=>Math.random()-.5).slice(0,r);this.reviewCards.set(i),this.currentIndex.set(0),this.score.set(0),this.testFinished.set(!1),this.testSize.set(r),this.prepareCard()}submitAnswer(){let e=this.currentCard();if(!e||this.cardRevealed())return;let n=this.showFront()?e.back:e.front,i=this.answer().trim().toLowerCase()===n.trim().toLowerCase();i&&this.score.update(o=>o+1),this.lastCorrect.set(i),this.cardRevealed.set(!0)}nextCard(){let e=this.currentIndex()+1;if(e>=this.reviewCards().length){this.finalizeTest();return}this.currentIndex.set(e),this.prepareCard()}openHistoryTest(e){this.activeTab.set("review"),this.selectedHistory.set(e),this.reviewCards.set(e.cards),this.currentIndex.set(0),this.score.set(e.score),this.testFinished.set(!0),this.answer.set(""),this.cardRevealed.set(!1),this.lastCorrect.set(null),this.showFront.set(!0)}currentCard=Qt(()=>this.reviewCards()[this.currentIndex()]??null);finalizeTest(){if(this.testFinished())return;this.testFinished.set(!0);let e=this.reviewCards().length;if(e===0)return;let n=this.reviewCards().map(i=>ee(k({},i),{flipped:!1})),r={id:this.nextTestId++,createdAt:Date.now(),size:e,score:this.score(),cards:n};this.history.update(i=>[r,...i].slice(0,4))}prepareCard(){this.showFront.set(Math.random()>.5),this.answer.set(""),this.cardRevealed.set(!1),this.lastCorrect.set(null)}loadHistory(){let e=localStorage.getItem(this.historyKey());if(e)try{let n=JSON.parse(e);if(Array.isArray(n)){this.history.set(n.slice(0,4));let r=n.reduce((i,o)=>Math.max(i,o.id??0),0);this.nextTestId=(r||0)+1}}catch{}}handleUserChange(e){if(this.unsubscribeCards?.(),!e){this.flashcards.set([]),this.db=null,this.historyKey.set(`${this.historyKeyBase}/anon`),this.history.set([]),this.reviewCards.set([]),this.selectedHistory.set(null),this.testFinished.set(!1),this.currentIndex.set(0),this.currentUserId=null;return}if(this.currentUserId&&this.currentUserId!==e.uid&&(this.history.set([]),this.reviewCards.set([]),this.selectedHistory.set(null),this.testFinished.set(!1),this.currentIndex.set(0)),this.currentUserId=e.uid,this.historyKey.set(`${this.historyKeyBase}/${e.uid}`),this.loadHistory(),!this.db)try{this.db=cw(Ns())}catch{this.db=cw(Jc(As.firebase))}let n=nx(aw(this.db,"users",e.uid,"cards"),rx("createdAt","desc"));this.unsubscribeCards=cx(n,r=>{let i=r.docs.map(o=>{let s=o.data();return{id:o.id,front:s.front,back:s.back,flipped:!!s.flipped,createdAt:s.createdAt??Date.now()}});this.flashcards.set(i)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=uc({type:t,selectors:[["app-root"]],viewQuery:function(n,r){if(n&1&&Rd(B$,5),n&2){let i;Iy(i=wy())&&(r.cardRefs=i)}},decls:2,vars:1,consts:[["cardForm","ngForm"],["cardEl",""],[1,"auth-screen"],[1,"layout"],[1,"auth-card"],[1,"lede"],[1,"muted"],["autocomplete","off",1,"auth-form",3,"ngSubmit"],["type","email","name","email","required","","autocomplete","off","autocapitalize","none","spellcheck","false",3,"ngModelChange","ngModel"],["type","password","name","password","required","","autocomplete","off",3,"ngModelChange","ngModel"],["type","submit"],[1,"auth-error"],[1,"verify-block"],["type","button",3,"click","disabled"],[1,"sidebar"],[1,"brand"],[1,"dot"],[1,"eyebrow"],[1,"nav-btn",3,"click"],[1,"sidebar-meta"],["class","user-pill",4,"ngIf"],["type","button",1,"logout",3,"click"],[1,"page"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"user-pill"],[1,"avatar"],[1,"hero","single"],[1,"headline"],[1,"home-sections"],[1,"section-title"],[1,"grid"],["role","presentation",1,"card"],[1,"empty"],[1,"history-grid"],["tabindex","0",1,"history-card"],[1,"card-inner"],[1,"card-face","front"],[1,"tag"],[1,"word"],[1,"card-face","back"],["tabindex","0",1,"history-card",3,"click","keyup.enter"],[1,"history-header"],[1,"pill","small"],[1,"score"],[1,"date"],["type","button",1,"link-btn"],[1,"hero"],[1,"stats"],[1,"actions-bar"],["type","button",1,"shuffle-btn",3,"click","disabled"],["type","button",1,"delete-toggle",3,"click"],["autocomplete","off",1,"new-card",3,"ngSubmit"],["name","front","type","text","placeholder","ex : d\xE9couvert","required","","autocomplete","off","autocapitalize","none","spellcheck","false",3,"ngModelChange","ngModel"],["name","back","type","text","placeholder","ex : overdraft","required","","autocomplete","off","autocapitalize","none","spellcheck","false",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],["aria-label","Liste des flashcards",1,"grid"],["role","button","tabindex","0",1,"card",3,"new-card","flipped"],["role","button","tabindex","0",1,"card",3,"click","keyup.enter"],["type","button","aria-label","Supprimer cette carte",1,"delete-badge"],["type","button","aria-label","Supprimer cette carte",1,"delete-badge",3,"click"],["name","size","type","number","min","1","placeholder","5","required","","autocomplete","off","inputmode","numeric",3,"ngModelChange","max","ngModel"],[1,"result"],[1,"grid","recap-grid"],[1,"card","recap"],[1,"review-card"],[1,"hint"],["autocomplete","off",1,"answer",3,"ngSubmit"],["name","answer","type","text","placeholder","\xC9cris la traduction","required","","autocomplete","off","autocapitalize","none","spellcheck","false",3,"input","disabled","value"],[1,"actions"]],template:function(n,r){n&1&&qt(0,z$,18,5,"div",2)(1,l4,24,12,"div",3),n&2&&zt(r.isAuthenticated()?1:0)},dependencies:[zd,ky,qd,Fy,sA,iA,bh,Vv,ZS,JS,Hv,Bv,jv,Lv,Fv,Ly],styles:['@font-face{font-family:Manrope;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggqxSuXd.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Manrope;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggOxSuXd.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Manrope;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggSxSuXd.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Manrope;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggixSuXd.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Manrope;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggmxSuXd.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Manrope;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggexSg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Manrope;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggqxSuXd.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Manrope;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggOxSuXd.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Manrope;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggSxSuXd.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Manrope;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggixSuXd.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Manrope;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggmxSuXd.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Manrope;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggexSg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Manrope;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggqxSuXd.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Manrope;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggOxSuXd.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Manrope;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggSxSuXd.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Manrope;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggixSuXd.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Manrope;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggmxSuXd.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Manrope;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggexSg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb54C-s0.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb94C-s0.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPbF4Cw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb54C-s0.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb94C-s0.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPbF4Cw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb54C-s0.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb94C-s0.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPbF4Cw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb54C-s0.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb94C-s0.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPbF4Cw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_nghost-%COMP%]{display:block;min-height:100vh;background:radial-gradient(circle at 20% 20%,#2d6cdf1f,transparent 40%),radial-gradient(circle at 80% 10%,#f59e0b1f,transparent 35%),linear-gradient(135deg,#0b1224,#0f192f 45%,#0b1224);color:#e5ecf5;font-family:Space Grotesk,Manrope,system-ui,-apple-system,sans-serif;padding:48px 24px 72px;box-sizing:border-box}.layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:220px 1fr;gap:24px;max-width:1280px;margin:0 auto}.sidebar[_ngcontent-%COMP%]{position:sticky;top:32px;align-self:start;background:#0f172a;border:1px solid #1f2e4d;border-radius:16px;padding:18px;display:flex;flex-direction:column;gap:10px;box-shadow:0 10px 35px #0003}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:8px;min-width:0}.user-pill[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:0;max-width:180px;margin-bottom:8px}.avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;display:grid;place-items:center;color:#0b1224;font-weight:800;text-transform:uppercase;box-shadow:0 0 0 2px #0f172a,0 6px 14px #0003}.user-mail[_ngcontent-%COMP%]{max-width:120px;font-size:12px;color:#cbd5e1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.brand[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background:linear-gradient(120deg,#60a5fa,#22d3ee);box-shadow:0 0 12px #22d3ee66}.nav-btn[_ngcontent-%COMP%]{background:#111b30;border:1px solid #1f2e4d;border-radius:12px;color:#e5ecf5;padding:10px 12px;text-align:left;cursor:pointer;transition:border .2s ease,background .2s ease,transform .08s ease}.nav-btn[_ngcontent-%COMP%]:hover{border-color:#60a5fa}.nav-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb22,#22d3ee22);border-color:#60a5fa;transform:translate(2px)}.sidebar-meta[_ngcontent-%COMP%]{margin-top:6px;color:#94a3b8;font-size:13px}.sidebar-meta[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{margin-top:8px;width:100%;background:#111b30;border:1px solid #1f2e4d;color:#e5ecf5;border-radius:10px;padding:8px 10px;cursor:pointer}.page[_ngcontent-%COMP%]{max-width:1100px;width:100%}.hero[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.2fr 1fr;gap:32px;align-items:center;margin-bottom:28px}.hero.single[_ngcontent-%COMP%]{grid-template-columns:1fr}.headline[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:8px 0 6px;font-size:40px;letter-spacing:-.02em}.headline[_ngcontent-%COMP%]   .lede[_ngcontent-%COMP%]{margin:0;color:#b7c4d6}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.2em;font-size:11px;color:#7bb8ff;margin:0}.stats[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:10px;margin-top:18px;background:#13223c;color:#dbeafe;padding:10px 14px;border:1px solid #1f2e4d;border-radius:999px;font-weight:600;width:fit-content}.stats[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:linear-gradient(120deg,#60a5fa,#22d3ee);box-shadow:0 0 12px #22d3ee66}.actions-bar[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:12px}.delete-toggle[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#f97316);border:1px solid #ef4444;color:#0b1224;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer;transition:transform .08s ease,box-shadow .2s ease,background .2s ease}.delete-toggle.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#22d3ee);border-color:#2563eb;color:#0b1224}.delete-toggle[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 10px 25px #0003}.shuffle-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#22d3ee);border:none;color:#0b1224;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer;transition:transform .08s ease,box-shadow .2s ease,border-color .2s ease}.shuffle-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 12px 30px #2563eb44}.shuffle-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.new-card[_ngcontent-%COMP%]{background:#0f172a;border:1px solid #1f2e4d;border-radius:16px;padding:16px;display:grid;gap:12px;box-shadow:0 10px 35px #0003}.new-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;color:#cbd5e1;font-size:14px}.new-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#0b1224;border:1px solid #1e293b;border-radius:10px;color:#e5ecf5;padding:12px 14px;outline:none;font-size:15px;transition:border .2s ease,box-shadow .2s ease}.new-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#60a5fa;box-shadow:0 0 0 3px #60a5fa33}.new-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:4px;background:linear-gradient(135deg,#2563eb,#22d3ee);border:none;border-radius:12px;color:#0b1224;font-weight:700;padding:12px 14px;cursor:pointer;transition:transform .1s ease,box-shadow .2s ease,opacity .2s ease}.new-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.new-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-1px);box-shadow:0 12px 30px #2563eb44}.grid[_ngcontent-%COMP%]{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));margin-top:24px}.recap-grid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .recap-grid[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{height:150px}.empty[_ngcontent-%COMP%]{grid-column:1 / -1;text-align:center;color:#94a3b8;padding:18px;border:1px dashed #1f2e4d;border-radius:12px;background:#0f172a}.card[_ngcontent-%COMP%]{position:relative;height:180px;perspective:1100px;cursor:pointer;transition:transform .2s ease}.delete-badge[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:28px;height:28px;border-radius:50%;border:none;background:#ef4444;color:#fff;font-weight:800;cursor:pointer;z-index:2;box-shadow:0 0 0 2px #0f172a,0 6px 14px #0003}.delete-badge[_ngcontent-%COMP%]:hover{background:#dc2626}.grid.delete-mode[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .5s ease-in-out infinite}.grid.shuffling[_ngcontent-%COMP%]:not(.delete-mode)   .card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_gather-scatter .9s ease-in-out}.grid.shuffling[_ngcontent-%COMP%]:not(.delete-mode)   .card[_ngcontent-%COMP%]:nth-child(2n){animation-delay:40ms}.grid.shuffling[_ngcontent-%COMP%]:not(.delete-mode)   .card[_ngcontent-%COMP%]:nth-child(3n){animation-delay:80ms}.grid.shuffling[_ngcontent-%COMP%]:not(.delete-mode)   .card[_ngcontent-%COMP%]:nth-child(4n){animation-delay:.12s}@keyframes _ngcontent-%COMP%_gather-scatter{0%{transform:translate(0) scale(1)}35%{transform:translate(var(--dx, 0px),var(--dy, 0px)) scale(.55) rotate(-.5deg)}55%{transform:translate(var(--dx, 0px),var(--dy, 0px)) scale(.55) rotate(.5deg)}to{transform:translate(0) scale(1)}}@keyframes _ngcontent-%COMP%_shake{0%{transform:translate(.5px,.5px) rotate(0)}20%{transform:translate(-.5px,-1px) rotate(-.5deg)}40%{transform:translate(-1.5px) rotate(.5deg)}60%{transform:translate(1.5px,1px) rotate(0)}80%{transform:translate(.5px,-.5px) rotate(.5deg)}to{transform:translate(-.5px,1px) rotate(-.5deg)}}.card.new-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pop-in .45s ease}@keyframes _ngcontent-%COMP%_pop-in{0%{transform:scale(.9);opacity:0}60%{transform:scale(1.03);opacity:1}to{transform:scale(1)}}.card-inner[_ngcontent-%COMP%]{position:absolute;inset:0;transition:transform .6s ease;transform-style:preserve-3d}.card.flipped[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.card-face[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:12px;padding:18px;border-radius:16px;border:1px solid #1f2e4d;backface-visibility:hidden;background:#0f172a;box-shadow:0 14px 35px #0000002a}.card-face.back[_ngcontent-%COMP%]{background:linear-gradient(160deg,#0ea5e9,#2563eb);color:#f8fafc;transform:rotateY(180deg)}.tag[_ngcontent-%COMP%]{position:absolute;top:12px;left:12px;width:fit-content;padding:6px 10px;border-radius:999px;font-size:11px;letter-spacing:.08em;background:#1f2e4d;color:#cbd5e1}.card-face.back[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background:#0b1224;color:#dbeafe}.word[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:800;text-align:center;width:100%}.hint[_ngcontent-%COMP%]{margin:0;color:#94a3b8;font-size:13px}.card-face.back[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{color:#e2e8f0}.home-sections[_ngcontent-%COMP%]{display:grid;gap:28px}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:8px}.section-title[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%], .muted[_ngcontent-%COMP%]{color:#94a3b8;font-size:13px}.history-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px}.history-card[_ngcontent-%COMP%]{background:#0f172a;border:1px solid #1f2e4d;border-radius:14px;padding:14px;cursor:pointer;transition:border .2s ease,transform .1s ease}.history-card[_ngcontent-%COMP%]:hover{border-color:#60a5fa;transform:translateY(-2px)}.history-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.pill.small[_ngcontent-%COMP%]{padding:4px 8px;border-radius:999px;background:#111b30;border:1px solid #1f2e4d;color:#dbeafe;font-size:12px}.score[_ngcontent-%COMP%]{margin:10px 0 4px;font-size:22px;font-weight:700}.date[_ngcontent-%COMP%]{margin:0 0 8px;color:#94a3b8;font-size:13px}.link-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#60a5fa;cursor:pointer;padding:0;font-weight:600}.review-card[_ngcontent-%COMP%]{position:relative;max-width:640px;margin:0 auto 16px;height:220px;perspective:1200px}.review-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{transform-style:preserve-3d;transition:transform .6s ease}.review-card.revealed[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.answer[_ngcontent-%COMP%]{background:#0f172a;border:1px solid #1f2e4d;border-radius:16px;padding:16px;display:grid;gap:10px;max-width:640px;margin:0 auto 24px}.answer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#0b1224;border:1px solid #1e293b;border-radius:10px;color:#e5ecf5;padding:12px 14px;outline:none;font-size:15px}.actions[_ngcontent-%COMP%]{display:flex;gap:10px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}.result[_ngcontent-%COMP%]{background:#0f172a;border:1px solid #1f2e4d;border-radius:16px;padding:16px;margin-bottom:16px}@media(max-width:880px){[_nghost-%COMP%]{padding:32px 18px 64px}.layout[_ngcontent-%COMP%]{grid-template-columns:1fr}.sidebar[_ngcontent-%COMP%]{position:relative;top:0;flex-direction:row;align-items:center}.hero[_ngcontent-%COMP%]{grid-template-columns:1fr}.history-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}}.auth-screen[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at 20% 20%,#2d6cdf1f,transparent 40%),radial-gradient(circle at 80% 10%,#f59e0b1f,transparent 35%),linear-gradient(135deg,#0b1224,#0f192f 45%,#0b1224);padding:32px}.auth-card[_ngcontent-%COMP%]{background:#0f172a;border:1px solid #1f2e4d;border-radius:16px;padding:24px;width:min(420px,100%);color:#e5ecf5;box-shadow:0 14px 40px #0003}.auth-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 6px}.auth-card[_ngcontent-%COMP%]   .lede[_ngcontent-%COMP%]{margin:0 0 16px;color:#94a3b8}.auth-form[_ngcontent-%COMP%]{display:grid;gap:12px}.auth-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:grid;gap:6px;color:#cbd5e1}.auth-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#0b1224;border:1px solid #1e293b;border-radius:10px;color:#e5ecf5;padding:12px 14px}.auth-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:6px;background:linear-gradient(135deg,#2563eb,#22d3ee);border:none;border-radius:10px;color:#0b1224;padding:12px 14px;font-weight:700;cursor:pointer}.auth-error[_ngcontent-%COMP%]{margin:10px 0 0;color:#f87171}.verify-block[_ngcontent-%COMP%]{margin-top:12px;padding:10px;border-radius:10px;background:#111b30;border:1px solid #1f2e4d}.verify-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:6px}@media(max-width:520px){.word[_ngcontent-%COMP%]{font-size:18px}}']})};Gy(tp,OS).catch(t=>console.error(t));
