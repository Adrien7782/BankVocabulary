var QN=Object.defineProperty,YN=Object.defineProperties;var ZN=Object.getOwnPropertyDescriptors;var II=Object.getOwnPropertySymbols;var JN=Object.prototype.hasOwnProperty,XN=Object.prototype.propertyIsEnumerable;var CI=(t,e,n)=>e in t?QN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})JN.call(e,n)&&CI(t,n,e[n]);if(II)for(var n of II(e))XN.call(e,n)&&CI(t,n,e[n]);return t},X=(t,e)=>YN(t,ZN(e));var Tt=null,el=!1,kp=1,e1=null,kt=Symbol("SIGNAL");function Q(t){let e=Tt;return Tt=t,e}function nl(){return Tt}var Ho={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ra(t){if(el)throw new Error("");if(Tt===null)return;Tt.consumerOnSignalRead(t);let e=Tt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=Tt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:Tt.producers,n!==void 0&&n.producer===t)){Tt.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===Tt&&(!r||n1(i,Tt)))return;let o=zo(Tt),s={producer:t,consumer:Tt,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};Tt.producersTail=s,e!==void 0?e.nextProducer=s:Tt.producers=s,o&&SI(t,s)}function DI(){kp++}function Fp(t){if(!(zo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===kp)){if(!t.producerMustRecompute(t)&&!xa(t)){Op(t);return}t.producerRecomputeValue(t),Op(t)}}function Lp(t){if(t.consumers===void 0)return;let e=el;el=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||t1(r)}}finally{el=e}}function Vp(){return Tt?.consumerAllowSignalWrites!==!1}function t1(t){t.dirty=!0,Lp(t),t.consumerMarkedDirty?.(t)}function Op(t){t.dirty=!1,t.lastCleanEpoch=kp}function $o(t){return t&&bI(t),Q(t)}function bI(t){t.producersTail=void 0,t.recomputing=!0}function Ma(t,e){Q(e),t&&TI(t)}function TI(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(zo(t))do n=Up(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function xa(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Fp(n),r!==n.version))return!0}return!1}function Vi(t){if(zo(t)){let e=t.producers;for(;e!==void 0;)e=Up(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function SI(t,e){let n=t.consumersTail,r=zo(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)SI(i.producer,i)}function Up(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!zo(e)){let o=e.producers;for(;o!==void 0;)o=Up(o)}return n}function zo(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function jp(t){e1?.(t)}function n1(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Bp(t,e){return Object.is(t,e)}function rl(t,e){let n=Object.create(r1);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Fp(n),Ra(n),n.value===tl)throw n.error;return n.value};return r[kt]=n,jp(n),r}var Np=Symbol("UNSET"),Pp=Symbol("COMPUTING"),tl=Symbol("ERRORED"),r1=X(F({},Ho),{value:Np,dirty:!0,error:null,equal:Bp,kind:"computed",producerMustRecompute(t){return t.value===Np||t.value===Pp},producerRecomputeValue(t){if(t.value===Pp)throw new Error("");let e=t.value;t.value=Pp;let n=$o(t),r,i=!1;try{r=t.computation(),Q(null),i=e!==Np&&e!==tl&&r!==tl&&t.equal(e,r)}catch(o){r=tl,t.error=o}finally{Ma(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function i1(){throw new Error}var AI=i1;function RI(t){AI(t)}function Hp(t){AI=t}var o1=null;function $p(t,e){let n=Object.create(il);n.value=t,e!==void 0&&(n.equal=e);let r=()=>MI(n);return r[kt]=n,jp(n),[r,s=>Na(n,s),s=>xI(n,s)]}function MI(t){return Ra(t),t.value}function Na(t,e){Vp()||RI(t),t.equal(t.value,e)||(t.value=e,s1(t))}function xI(t,e){Vp()||RI(t),Na(t,e(t.value))}var il=X(F({},Ho),{equal:Bp,value:void 0,kind:"signal"});function s1(t){t.version++,DI(),Lp(t),o1?.(t)}function zp(t){let e=Q(null);try{return t()}finally{Q(e)}}var qp=X(F({},Ho),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Gp(t){if(t.dirty=!1,t.version>0&&!xa(t))return;t.version++;let e=$o(t);try{t.cleanup(),t.fn()}finally{Ma(t,e)}}function ne(t){return typeof t=="function"}function qo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ol=qo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Pa(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var mt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(o){e=o instanceof ol?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{NI(o)}catch(s){e=e??[],s instanceof ol?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ol(e)}}add(e){var n;if(e&&e!==this)if(this.closed)NI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Pa(n,e)}remove(e){let{_finalizers:n}=this;n&&Pa(n,e),e instanceof t&&e._removeParent(this)}};mt.EMPTY=(()=>{let t=new mt;return t.closed=!0,t})();var Wp=mt.EMPTY;function sl(t){return t instanceof mt||t&&"closed"in t&&ne(t.remove)&&ne(t.add)&&ne(t.unsubscribe)}function NI(t){ne(t)?t():t.unsubscribe()}var yn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Go={setTimeout(t,e,...n){let{delegate:r}=Go;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Go;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function al(t){Go.setTimeout(()=>{let{onUnhandledError:e}=yn;if(e)e(t);else throw t})}function Oa(){}var PI=Kp("C",void 0,void 0);function OI(t){return Kp("E",void 0,t)}function kI(t){return Kp("N",t,void 0)}function Kp(t,e,n){return{kind:t,value:e,error:n}}var Ui=null;function Wo(t){if(yn.useDeprecatedSynchronousErrorHandling){let e=!Ui;if(e&&(Ui={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ui;if(Ui=null,n)throw r}}else t()}function FI(t){yn.useDeprecatedSynchronousErrorHandling&&Ui&&(Ui.errorThrown=!0,Ui.error=t)}var ji=class extends mt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sl(e)&&e.add(this)):this.destination=u1}static create(e,n,r){return new Ko(e,n,r)}next(e){this.isStopped?Yp(kI(e),this):this._next(e)}error(e){this.isStopped?Yp(OI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Yp(PI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},a1=Function.prototype.bind;function Qp(t,e){return a1.call(t,e)}var Zp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){cl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){cl(r)}else cl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){cl(n)}}},Ko=class extends ji{constructor(e,n,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&yn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Qp(e.next,o),error:e.error&&Qp(e.error,o),complete:e.complete&&Qp(e.complete,o)}):i=e}this.destination=new Zp(i)}};function cl(t){yn.useDeprecatedSynchronousErrorHandling?FI(t):al(t)}function c1(t){throw t}function Yp(t,e){let{onStoppedNotification:n}=yn;n&&Go.setTimeout(()=>n(t,e))}var u1={closed:!0,next:Oa,error:c1,complete:Oa};var Qo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function vn(t){return t}function Jp(...t){return Xp(t)}function Xp(t){return t.length===0?vn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ye=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=d1(n)?n:new Ko(n,r,i);return Wo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=LI(r),new r((i,o)=>{let s=new Ko({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Qo](){return this}pipe(...n){return Xp(n)(this)}toPromise(n){return n=LI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function LI(t){var e;return(e=t??yn.Promise)!==null&&e!==void 0?e:Promise}function l1(t){return t&&ne(t.next)&&ne(t.error)&&ne(t.complete)}function d1(t){return t&&t instanceof ji||l1(t)&&sl(t)}function f1(t){return ne(t?.lift)}function we(t){return e=>{if(f1(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ie(t,e,n,r,i){return new eg(t,e,n,r,i)}var eg=class extends ji{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var VI=qo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var it=(()=>{class t extends ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ul(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new VI}next(n){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Wp:(this.currentObservers=null,o.push(n),new mt(()=>{this.currentObservers=null,Pa(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ye;return n.source=this,n}}return t.create=(e,n)=>new ul(e,n),t})(),ul=class extends it{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Wp}};var yt=class extends it{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var vt=new ye(t=>t.complete());function UI(t){return t&&ne(t.schedule)}function jI(t){return t[t.length-1]}function ll(t){return ne(jI(t))?t.pop():void 0}function $r(t){return UI(jI(t))?t.pop():void 0}function tg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function HI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function BI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bi(t){return this instanceof Bi?(this.v=t,this):new Bi(t)}function $I(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(D){return Promise.resolve(D).then(y,p)}}function a(y,D){r[y]&&(i[y]=function(x){return new Promise(function(M,U){o.push([y,x,M,U])>1||u(y,x)})},D&&(i[y]=D(i[y])))}function u(y,D){try{l(r[y](D))}catch(x){g(o[0][3],x)}}function l(y){y.value instanceof Bi?Promise.resolve(y.value.v).then(f,p):g(o[0][2],y)}function f(y){u("next",y)}function p(y){u("throw",y)}function g(y,D){y(D),o.shift(),o.length&&u(o[0][0],o[0][1])}}function zI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof BI=="function"?BI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var dl=t=>t&&typeof t.length=="number"&&typeof t!="function";function fl(t){return ne(t?.then)}function hl(t){return ne(t[Qo])}function pl(t){return Symbol.asyncIterator&&ne(t?.[Symbol.asyncIterator])}function gl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function h1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ml=h1();function yl(t){return ne(t?.[ml])}function vl(t){return $I(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Bi(n.read());if(i)return yield Bi(void 0);yield yield Bi(r)}}finally{n.releaseLock()}})}function _l(t){return ne(t?.getReader)}function Ke(t){if(t instanceof ye)return t;if(t!=null){if(hl(t))return p1(t);if(dl(t))return g1(t);if(fl(t))return m1(t);if(pl(t))return qI(t);if(yl(t))return y1(t);if(_l(t))return v1(t)}throw gl(t)}function p1(t){return new ye(e=>{let n=t[Qo]();if(ne(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function g1(t){return new ye(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function m1(t){return new ye(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,al)})}function y1(t){return new ye(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function qI(t){return new ye(e=>{_1(t,e).catch(n=>e.error(n))})}function v1(t){return qI(vl(t))}function _1(t,e){var n,r,i,o;return HI(this,void 0,void 0,function*(){try{for(n=zI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function jt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function El(t,e=0){return we((n,r)=>{n.subscribe(Ie(r,i=>jt(r,t,()=>r.next(i),e),()=>jt(r,t,()=>r.complete(),e),i=>jt(r,t,()=>r.error(i),e)))})}function wl(t,e=0){return we((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function GI(t,e){return Ke(t).pipe(wl(e),El(e))}function WI(t,e){return Ke(t).pipe(wl(e),El(e))}function KI(t,e){return new ye(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function QI(t,e){return new ye(n=>{let r;return jt(n,e,()=>{r=t[ml](),jt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function Il(t,e){if(!t)throw new Error("Iterable cannot be null");return new ye(n=>{jt(n,e,()=>{let r=t[Symbol.asyncIterator]();jt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function YI(t,e){return Il(vl(t),e)}function ZI(t,e){if(t!=null){if(hl(t))return GI(t,e);if(dl(t))return KI(t,e);if(fl(t))return WI(t,e);if(pl(t))return Il(t,e);if(yl(t))return QI(t,e);if(_l(t))return YI(t,e)}throw gl(t)}function Qe(t,e){return e?ZI(t,e):Ke(t)}function ge(...t){let e=$r(t);return Qe(t,e)}function ng(t,e){let n=ne(t)?t:()=>t,r=i=>i.error(n());return new ye(e?i=>e.schedule(r,0,i):r)}function Cl(t){return!!t&&(t instanceof ye||ne(t.lift)&&ne(t.subscribe))}var Hi=qo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Oe(t,e){return we((n,r)=>{let i=0;n.subscribe(Ie(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:E1}=Array;function w1(t,e){return E1(e)?t(...e):t(e)}function Dl(t){return Oe(e=>w1(t,e))}var{isArray:I1}=Array,{getPrototypeOf:C1,prototype:D1,keys:b1}=Object;function bl(t){if(t.length===1){let e=t[0];if(I1(e))return{args:e,keys:null};if(T1(e)){let n=b1(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function T1(t){return t&&typeof t=="object"&&C1(t)===D1}function Tl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function rg(...t){let e=$r(t),n=ll(t),{args:r,keys:i}=bl(t);if(r.length===0)return Qe([],e);let o=new ye(S1(r,e,i?s=>Tl(i,s):vn));return n?o.pipe(Dl(n)):o}function S1(t,e,n=vn){return r=>{JI(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)JI(e,()=>{let l=Qe(t[u],e),f=!1;l.subscribe(Ie(r,p=>{o[u]=p,f||(f=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function JI(t,e,n){t?jt(n,t,e):e()}function XI(t,e,n,r,i,o,s,a){let u=[],l=0,f=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=x=>l<r?D(x):u.push(x),D=x=>{o&&e.next(x),l++;let M=!1;Ke(n(x,f++)).subscribe(Ie(e,U=>{i?.(U),o?y(U):e.next(U)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let U=u.shift();s?jt(e,s,()=>D(U)):D(U)}g()}catch(U){e.error(U)}}))};return t.subscribe(Ie(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Ft(t,e,n=1/0){return ne(e)?Ft((r,i)=>Oe((o,s)=>e(r,o,i,s))(Ke(t(r,i))),n):(typeof e=="number"&&(n=e),we((r,i)=>XI(r,i,t,n)))}function eC(t=1/0){return Ft(vn,t)}function tC(){return eC(1)}function Yo(...t){return tC()(Qe(t,$r(t)))}function ka(t){return new ye(e=>{Ke(t()).subscribe(e)})}function ig(...t){let e=ll(t),{args:n,keys:r}=bl(t),i=new ye(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let f=0;f<s;f++){let p=!1;Ke(n[f]).subscribe(Ie(o,g=>{p||(p=!0,l--),a[f]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Tl(r,a):a),o.complete())}))}});return e?i.pipe(Dl(e)):i}function cr(t,e){return we((n,r)=>{let i=0;n.subscribe(Ie(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Fa(t){return we((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Ie(n,void 0,void 0,s=>{o=Ke(t(s,Fa(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Sl(t,e){return ne(e)?Ft(t,e,1):Ft(t,1)}function nC(t){return we((e,n)=>{let r=!1;e.subscribe(Ie(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ur(t){return t<=0?()=>vt:we((e,n)=>{let r=0;e.subscribe(Ie(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function rC(t=A1){return we((e,n)=>{let r=!1;e.subscribe(Ie(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function A1(){return new Hi}function og(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function lr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?cr((i,o)=>t(i,o,r)):vn,ur(1),n?nC(e):rC(()=>new Hi))}function Al(t){return t<=0?()=>vt:we((e,n)=>{let r=[];e.subscribe(Ie(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function sg(...t){let e=$r(t);return we((n,r)=>{(e?Yo(t,n,e):Yo(t,n)).subscribe(r)})}function dr(t,e){return we((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Ie(r,u=>{i?.unsubscribe();let l=0,f=o++;Ke(t(u,f)).subscribe(i=Ie(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function La(t){return we((e,n)=>{Ke(t).subscribe(Ie(n,()=>n.complete(),Oa)),!n.closed&&e.subscribe(n)})}function xn(t,e,n){let r=ne(t)||e||n?{next:t,error:e,complete:n}:t;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ie(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):vn}var ag;function Rl(){return ag}function Nn(t){let e=ag;return ag=t,e}var iC=Symbol("NotFound");function Zo(t){return t===iC||t?.name==="\u0275NotFound"}var Eg="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$=class extends Error{code;constructor(e,n){super(Xo(e,n)),this.code=e}};function R1(t){return`NG0${Math.abs(t)}`}function Xo(t,e){return`${R1(t)}${e?": "+e:""}`}var Ki=globalThis;function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("")}function uC(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function hr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(hr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function wg(t,e){return t?e?`${t} ${e}`:t:e||""}var M1=Ce({__forward_ref__:Ce});function on(t){return t.__forward_ref__=on,t.toString=function(){return hr(this())},t}function _t(t){return Ig(t)?t():t}function Ig(t){return typeof t=="function"&&t.hasOwnProperty(M1)&&t.__forward_ref__===on}function Z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function gr(t){return{providers:t.providers||[],imports:t.imports||[]}}function za(t){return x1(t,Fl)}function Cg(t){return za(t)!==null}function x1(t,e){return t.hasOwnProperty(e)&&t[e]||null}function N1(t){let e=t?.[Fl]??null;return e||null}function ug(t){return t&&t.hasOwnProperty(xl)?t[xl]:null}var Fl=Ce({\u0275prov:Ce}),xl=Ce({\u0275inj:Ce}),z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Dg(t){return t&&!!t.\u0275providers}var bg=Ce({\u0275cmp:Ce}),Tg=Ce({\u0275dir:Ce}),Sg=Ce({\u0275pipe:Ce}),Ag=Ce({\u0275mod:Ce}),Ua=Ce({\u0275fac:Ce}),Qi=Ce({__NG_ELEMENT_ID__:Ce}),oC=Ce({__NG_ENV_ID__:Ce});function Rg(t){return Ll(t,"@NgModule"),t[Ag]||null}function Wr(t){return Ll(t,"@Component"),t[bg]||null}function Mg(t){return Ll(t,"@Directive"),t[Tg]||null}function lC(t){return Ll(t,"@Pipe"),t[Sg]||null}function Ll(t,e){if(t==null)throw new $(-919,!1)}function Kr(t){return typeof t=="string"?t:t==null?"":String(t)}var dC=Ce({ngErrorCode:Ce}),P1=Ce({ngErrorMessage:Ce}),O1=Ce({ngTokenPath:Ce});function xg(t,e){return fC("",-200,e)}function Vl(t,e){throw new $(-201,!1)}function fC(t,e,n){let r=new $(e,t);return r[dC]=e,r[P1]=t,n&&(r[O1]=n),r}function k1(t){return t[dC]}var lg;function hC(){return lg}function Lt(t){let e=lg;return lg=t,e}function Ng(t,e,n){let r=za(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Vl(t,"")}var F1={},$i=F1,L1="__NG_DI_FLAG__",dg=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=zi(n)||0;try{return this.injector.get(e,r&8?null:$i,r)}catch(i){if(Zo(i))return i;throw i}}};function V1(t,e=0){let n=Rl();if(n===void 0)throw new $(-203,!1);if(n===null)return Ng(t,void 0,e);{let r=U1(e),i=n.retrieve(t,r);if(Zo(i)){if(r.optional)return null;throw i}return i}}function se(t,e=0){return(hC()||V1)(_t(t),e)}function L(t,e){return se(t,zi(e))}function zi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function U1(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function fg(t){let e=[];for(let n=0;n<t.length;n++){let r=_t(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=j1(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(se(i,o))}else e.push(se(r))}return e}function j1(t){return t[L1]}function zr(t,e){let n=t.hasOwnProperty(Ua);return n?t[Ua]:null}function pC(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function gC(t){return t.flat(Number.POSITIVE_INFINITY)}function Ul(t,e){t.forEach(n=>Array.isArray(n)?Ul(n,e):e(n))}function Pg(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function qa(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mC(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function yC(t,e,n){let r=es(t,e);return r>=0?t[r|1]=n:(r=~r,mC(t,r,e,n)),r}function jl(t,e){let n=es(t,e);if(n>=0)return t[n|1]}function es(t,e){return B1(t,e,1)}function B1(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Qr={},qt=[],Yi=new z(""),Og=new z("",-1),kg=new z(""),ja=class{get(e,n=$i){if(n===$i){let i=fC("",-201);throw i.name="\u0275NotFound",i}return n}};function ts(t){return{\u0275providers:t}}function vC(t){return ts([{provide:Yi,multi:!0,useValue:t}])}function _C(...t){return{\u0275providers:Fg(!0,t),\u0275fromNgModule:!0}}function Fg(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Ul(e,s=>{let a=s;Nl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&EC(i,o),n}function EC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Lg(i,o=>{e(o,r)})}}function Nl(t,e,n,r){if(t=_t(t),!t)return!1;let i=null,o=ug(t),s=!o&&Wr(t);if(!o&&!s){let u=t.ngModule;if(o=ug(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Nl(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;Ul(o.imports,f=>{Nl(f,e,n,r)&&(l||=[],l.push(f))}),l!==void 0&&EC(l,e)}if(!a){let l=zr(i)||(()=>new i);e({provide:i,useFactory:l,deps:qt},i),e({provide:kg,useValue:i,multi:!0},i),e({provide:Yi,useValue:()=>se(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Lg(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Lg(t,e){for(let n of t)Dg(n)&&(n=n.\u0275providers),Array.isArray(n)?Lg(n,e):e(n)}var H1=Ce({provide:String,useValue:Ce});function wC(t){return t!==null&&typeof t=="object"&&H1 in t}function $1(t){return!!(t&&t.useExisting)}function z1(t){return!!(t&&t.useFactory)}function qi(t){return typeof t=="function"}function IC(t){return!!t.useClass}var Ga=new z(""),Ml={},sC={},cg;function Wa(){return cg===void 0&&(cg=new ja),cg}var ot=class{},Gi=class extends ot{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,pg(e,s=>this.processProvider(s)),this.records.set(Og,Jo(void 0,this)),i.has("environment")&&this.records.set(ot,Jo(void 0,this));let o=this.records.get(Ga);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(kg,qt,{self:!0}))}retrieve(e,n){let r=zi(n)||0;try{return this.get(e,$i,r)}catch(i){if(Zo(i))return i;throw i}}destroy(){Va(this),this._destroyed=!0;let e=Q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(e)}}onDestroy(e){return Va(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Va(this);let n=Nn(this),r=Lt(void 0),i;try{return e()}finally{Nn(n),Lt(r)}}get(e,n=$i,r){if(Va(this),e.hasOwnProperty(oC))return e[oC](this);let i=zi(r),o,s=Nn(this),a=Lt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let f=Q1(e)&&za(e);f&&this.injectableDefInScope(f)?l=Jo(hg(e),Ml):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Wa():this.parent;return n=i&8&&n===$i?null:n,u.get(e,n)}catch(u){let l=k1(u);throw l===-200||l===-201?new $(l,null):u}finally{Lt(a),Nn(s)}}resolveInjectorInitializers(){let e=Q(null),n=Nn(this),r=Lt(void 0),i;try{let o=this.get(Yi,qt,{self:!0});for(let s of o)s()}finally{Nn(n),Lt(r),Q(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(hr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=_t(e);let n=qi(e)?e:_t(e&&e.provide),r=G1(e);if(!qi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Jo(void 0,Ml,!0),i.factory=()=>fg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=Q(null);try{if(n.value===sC)throw xg(hr(e));return n.value===Ml&&(n.value=sC,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&K1(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Q(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=_t(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function hg(t){let e=za(t),n=e!==null?e.factory:zr(t);if(n!==null)return n;if(t instanceof z)throw new $(204,!1);if(t instanceof Function)return q1(t);throw new $(204,!1)}function q1(t){if(t.length>0)throw new $(204,!1);let n=N1(t);return n!==null?()=>n.factory(t):()=>new t}function G1(t){if(wC(t))return Jo(void 0,t.useValue);{let e=Vg(t);return Jo(e,Ml)}}function Vg(t,e,n){let r;if(qi(t)){let i=_t(t);return zr(i)||hg(i)}else if(wC(t))r=()=>_t(t.useValue);else if(z1(t))r=()=>t.useFactory(...fg(t.deps||[]));else if($1(t))r=(i,o)=>se(_t(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=_t(t&&(t.useClass||t.provide));if(W1(t))r=()=>new i(...fg(t.deps));else return zr(i)||hg(i)}return r}function Va(t){if(t.destroyed)throw new $(205,!1)}function Jo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function W1(t){return!!t.deps}function K1(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Q1(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function pg(t,e){for(let n of t)Array.isArray(n)?pg(n,e):n&&Dg(n)?pg(n.\u0275providers,e):e(n)}function St(t,e){let n;t instanceof Gi?(Va(t),n=t):n=new dg(t);let r,i=Nn(n),o=Lt(void 0);try{return e()}finally{Nn(i),Lt(o)}}function CC(){return hC()!==void 0||Rl()!=null}var _n=0,K=1,ee=2,st=3,sn=4,an=5,ns=6,rs=7,ze=8,mr=9,yr=10,ke=11,is=12,Ug=13,Zi=14,Wt=15,Yr=16,Ji=17,Pn=18,vr=19,jg=20,fr=21,Bl=22,qr=23,Kt=24,Hl=25,Xi=26,qe=27,DC=1,Bg=6,Zr=7,Ka=8,eo=9,je=10;function On(t){return Array.isArray(t)&&typeof t[DC]=="object"}function En(t){return Array.isArray(t)&&t[DC]===!0}function Hg(t){return(t.flags&4)!==0}function Jr(t){return t.componentOffset>-1}function os(t){return(t.flags&1)===1}function kn(t){return!!t.template}function ss(t){return(t[ee]&512)!==0}function to(t){return(t[ee]&256)===256}var bC="svg",TC="math";function cn(t){for(;Array.isArray(t);)t=t[_n];return t}function $g(t,e){return cn(e[t])}function wn(t,e){return cn(e[t.index])}function Qa(t,e){return t.data[e]}function zg(t,e){return t[e]}function qg(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function un(t,e){let n=e[t];return On(n)?n:n[_n]}function SC(t){return(t[ee]&4)===4}function $l(t){return(t[ee]&128)===128}function AC(t){return En(t[st])}function Fn(t,e){return e==null?null:t[e]}function Gg(t){t[Ji]=0}function Wg(t){t[ee]&1024||(t[ee]|=1024,$l(t)&&as(t))}function RC(t,e){for(;t>0;)e=e[Zi],t--;return e}function Ya(t){return!!(t[ee]&9216||t[Kt]?.dirty)}function zl(t){t[yr].changeDetectionScheduler?.notify(8),t[ee]&64&&(t[ee]|=1024),Ya(t)&&as(t)}function as(t){t[yr].changeDetectionScheduler?.notify(0);let e=Gr(t);for(;e!==null&&!(e[ee]&8192||(e[ee]|=8192,!$l(e)));)e=Gr(e)}function Kg(t,e){if(to(t))throw new $(911,!1);t[fr]===null&&(t[fr]=[]),t[fr].push(e)}function MC(t,e){if(t[fr]===null)return;let n=t[fr].indexOf(e);n!==-1&&t[fr].splice(n,1)}function Gr(t){let e=t[st];return En(e)?e[st]:e}function Qg(t){return t[rs]??=[]}function Yg(t){return t.cleanup??=[]}function xC(t,e,n,r){let i=Qg(e);i.push(n),t.firstCreatePass&&Yg(t).push(r,i.length-1)}var ae={lFrame:WC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var gg=!1;function NC(){return ae.lFrame.elementDepthCount}function PC(){ae.lFrame.elementDepthCount++}function OC(){ae.lFrame.elementDepthCount--}function ql(){return ae.bindingsEnabled}function kC(){return ae.skipHydrationRootTNode!==null}function FC(t){return ae.skipHydrationRootTNode===t}function LC(){ae.skipHydrationRootTNode=null}function oe(){return ae.lFrame.lView}function Ze(){return ae.lFrame.tView}function ce(t){return ae.lFrame.contextLView=t,t[ze]}function ue(t){return ae.lFrame.contextLView=null,t}function Vt(){let t=Zg();for(;t!==null&&t.type===64;)t=t.parent;return t}function Zg(){return ae.lFrame.currentTNode}function VC(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function cs(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function Jg(){return ae.lFrame.isParent}function UC(){ae.lFrame.isParent=!1}function jC(){return ae.lFrame.contextLView}function Xg(){return gg}function Ba(t){let e=gg;return gg=t,e}function em(){let t=ae.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function tm(){return ae.lFrame.bindingIndex}function BC(t){return ae.lFrame.bindingIndex=t}function no(){return ae.lFrame.bindingIndex++}function Gl(t){let e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function HC(){return ae.lFrame.inI18n}function $C(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,Wl(e)}function zC(){return ae.lFrame.currentDirectiveIndex}function Wl(t){ae.lFrame.currentDirectiveIndex=t}function qC(t){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function nm(){return ae.lFrame.currentQueryIndex}function Kl(t){ae.lFrame.currentQueryIndex=t}function Y1(t){let e=t[K];return e.type===2?e.declTNode:e.type===1?t[an]:null}function rm(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=Y1(o),i===null||(o=o[Zi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ae.lFrame=GC();return r.currentTNode=e,r.lView=t,!0}function Ql(t){let e=GC(),n=t[K];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function GC(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?WC(t):e}function WC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function KC(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var im=KC;function Yl(){let t=KC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function QC(t){return(ae.lFrame.contextLView=RC(t,ae.lFrame.contextLView))[ze]}function Ln(){return ae.lFrame.selectedIndex}function Xr(t){ae.lFrame.selectedIndex=t}function Zl(){let t=ae.lFrame;return Qa(t.tView,t.selectedIndex)}function YC(){return ae.lFrame.currentNamespace}var ZC=!0;function Jl(){return ZC}function Za(t){ZC=t}function mg(t,e=null,n=null,r){let i=om(t,e,n,r);return i.resolveInjectorInitializers(),i}function om(t,e=null,n=null,r,i=new Set){let o=[n||qt,_C(t)];return r=r||(typeof t=="object"?void 0:hr(t)),new Gi(o,e||Wa(),r||null,i)}var rn=class t{static THROW_IF_NOT_FOUND=$i;static NULL=new ja;static create(e,n){if(Array.isArray(e))return mg({name:""},n,e,"");{let r=e.name??"";return mg({name:r},e.parent,e.providers,r)}}static \u0275prov=Z({token:t,providedIn:"any",factory:()=>se(Og)});static __NG_ELEMENT_ID__=-1},at=new z(""),Vn=(()=>{class t{static __NG_ELEMENT_ID__=Z1;static __NG_ENV_ID__=n=>n}return t})(),Pl=class extends Vn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return to(this._lView)}onDestroy(e){let n=this._lView;return Kg(n,e),()=>MC(n,e)}};function Z1(){return new Pl(oe())}var JC=!1,XC=new z(""),ei=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new yt(!1);debugTaskTracker=L(XC,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ye(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Z({token:t,providedIn:"root",factory:()=>new t})}return t})(),yg=class extends it{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,CC()&&(this.destroyRef=L(Vn,{optional:!0})??void 0,this.pendingTasks=L(ei,{optional:!0})??void 0)}emit(e){let n=Q(null);try{super.next(e)}finally{Q(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof mt&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ye=yg;function Ol(...t){}function sm(t){let e,n;function r(){t=Ol;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function eD(t){return queueMicrotask(()=>t()),()=>{t=Ol}}var am="isAngularZone",Ha=am+"_ID",J1=0,Gt=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ye(!1);onMicrotaskEmpty=new Ye(!1);onStable=new Ye(!1);onError=new Ye(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=JC}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,tP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(am)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,X1,Ol,Ol);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},X1={};function cm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function eP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){sm(()=>{t.callbackScheduled=!1,vg(t),t.isCheckStableRunning=!0,cm(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),vg(t)}function tP(t){let e=()=>{eP(t)},n=J1++;t._inner=t._inner.fork({name:"angular",properties:{[am]:!0,[Ha]:n,[Ha+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(nP(u))return r.invokeTask(o,s,a,u);try{return aC(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),cC(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return aC(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!rP(u)&&e(),cC(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,vg(t),cm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function vg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function aC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function cC(t){t._nesting--,cm(t)}var $a=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ye;onMicrotaskEmpty=new Ye;onStable=new Ye;onError=new Ye;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function nP(t){return tD(t,"__ignore_ng_zone__")}function rP(t){return tD(t,"__scheduler_tick__")}function tD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var pr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},In=new z("",{factory:()=>{let t=L(Gt),e=L(ot),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(pr),n.handleError(r))})}}}),nD={provide:Yi,useValue:()=>{let t=L(pr,{optional:!0})},multi:!0},iP=new z("",{factory:()=>{let t=L(at).defaultView;if(!t)return;let e=L(In),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),L(Vn).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function um(){return ts([vC(()=>{L(iP)})])}function le(t,e){let[n,r,i]=$p(t,e?.equal),o=n,s=o[kt];return o.set=r,o.update=i,o.asReadonly=rD.bind(o),o}function rD(){let t=this[kt];if(t.readonlyFn===void 0){let e=()=>this();e[kt]=t,t.readonlyFn=e}return t.readonlyFn}var Xl=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=oP}return t})();function oP(){return new Xl(oe(),Vt())}var Wi=class{},Ja=new z("",{factory:()=>!0});var lm=new z("");var ed=(()=>{class t{static \u0275prov=Z({token:t,providedIn:"root",factory:()=>new _g})}return t})(),_g=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},kl=class{[kt];constructor(e){this[kt]=e}destroy(){this[kt].destroy()}};function us(t,e){let n=e?.injector??L(rn),r=e?.manualCleanup!==!0?n.get(Vn):null,i,o=n.get(Xl,null,{optional:!0}),s=n.get(Wi);return o!==null?(i=cP(o.view,s,t),r instanceof Pl&&r._lView===o.view&&(r=null)):i=uP(t,n.get(ed),s),i.injector=n,r!==null&&(i.onDestroyFns=[r.onDestroy(()=>i.destroy())]),new kl(i)}var iD=X(F({},qp),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let t=Ba(!1);try{Gp(this)}finally{Ba(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=Q(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],Q(t)}}}),sP=X(F({},iD),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(Vi(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.scheduler.remove(this)}}),aP=X(F({},iD),{consumerMarkedDirty(){this.view[ee]|=8192,as(this.view),this.notifier.notify(13)},destroy(){if(Vi(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.view[qr]?.delete(this)}});function cP(t,e,n){let r=Object.create(aP);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=oD(r,n),t[qr]??=new Set,t[qr].add(r),r.consumerMarkedDirty(r),r}function uP(t,e,n){let r=Object.create(sP);return r.fn=oD(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function oD(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}function lt(t){return zp(t)}function uc(t){return{toString:t}.toString()}function vP(t){return typeof t=="function"}function kD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var sd=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},uo=(()=>{let t=()=>FD;return t.ngInherit=!0,t})();function FD(t){return t.type.prototype.ngOnChanges&&(t.setInput=EP),_P}function _P(){let t=VD(this),e=t?.current;if(e){let n=t.previous;if(n===Qr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function EP(t,e,n,r,i){let o=this.declaredInputs[r],s=VD(t)||wP(t,{previous:Qr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new sd(l&&l.currentValue,n,u===Qr),kD(t,e,i,n)}var LD="__ngSimpleChanges__";function VD(t){return t[LD]||null}function wP(t,e){return t[LD]=e}var sD=[];var Se=function(t,e=null,n){for(let r=0;r<sD.length;r++){let i=sD[r];i(t,e,n)}},Ee=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(Ee||{});function IP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=FD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function UD(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function nd(t,e,n){jD(t,e,3,n)}function rd(t,e,n,r){(t[ee]&3)===n&&jD(t,e,n,r)}function dm(t,e){let n=t[ee];(n&3)===e&&(n&=16383,n+=1,t[ee]=n)}function jD(t,e,n,r){let i=r!==void 0?t[Ji]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Ji]+=65536),(a<o||o==-1)&&(CP(t,n,e,u),t[Ji]=(t[Ji]&4294901760)+u+2),u++}function aD(t,e){Se(Ee.LifecycleHookStart,t,e);let n=Q(null);try{e.call(t)}finally{Q(n),Se(Ee.LifecycleHookEnd,t,e)}}function CP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ee]>>14<t[Ji]>>16&&(t[ee]&3)===e&&(t[ee]+=16384,aD(a,o)):aD(a,o)}var ds=-1,io=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function DP(t){return(t.flags&8)!==0}function bP(t){return(t.flags&16)!==0}function TP(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];AP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function SP(t){return t===3||t===4||t===6}function AP(t){return t.charCodeAt(0)===64}function nc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?cD(t,n,i,null,e[++r]):cD(t,n,i,null,null))}}return t}function cD(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function BD(t){return t!==ds}function ad(t){return t&32767}function RP(t){return t>>16}function cd(t,e){let n=RP(t),r=e;for(;n>0;)r=r[Zi],n--;return r}var Cm=!0;function ud(t){let e=Cm;return Cm=t,e}var MP=256,HD=MP-1,$D=5,xP=0,Un={};function NP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Qi)&&(r=n[Qi]),r==null&&(r=n[Qi]=xP++);let i=r&HD,o=1<<i;e.data[t+(i>>$D)]|=o}function ld(t,e){let n=zD(t,e);if(n!==-1)return n;let r=e[K];r.firstCreatePass&&(t.injectorIndex=e.length,fm(r.data,t),fm(e,null),fm(r.blueprint,null));let i=Zm(t,e),o=t.injectorIndex;if(BD(i)){let s=ad(i),a=cd(i,e),u=a[K].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function fm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function zD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Zm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=QD(i),r===null)return ds;if(n++,i=i[Zi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ds}function Dm(t,e,n){NP(t,e,n)}function qD(t,e,n){if(n&8||t!==void 0)return t;Vl(e,"NodeInjector")}function GD(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[mr],o=Lt(void 0);try{return i?i.get(e,r,n&8):Ng(e,r,n&8)}finally{Lt(o)}}return qD(r,e,n)}function WD(t,e,n,r=0,i){if(t!==null){if(e[ee]&2048&&!(r&2)){let s=FP(t,e,n,r,Un);if(s!==Un)return s}let o=KD(t,e,n,r,Un);if(o!==Un)return o}return GD(e,n,r,i)}function KD(t,e,n,r,i){let o=OP(n);if(typeof o=="function"){if(!rm(e,t,r))return r&1?qD(i,n,r):GD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Vl(n);else return s}finally{im()}}else if(typeof o=="number"){let s=null,a=zD(t,e),u=ds,l=r&1?e[Wt][an]:null;for((a===-1||r&4)&&(u=a===-1?Zm(t,e):e[a+8],u===ds||!lD(r,!1)?a=-1:(s=e[K],a=ad(u),e=cd(u,e)));a!==-1;){let f=e[K];if(uD(o,a,f.data)){let p=PP(a,e,n,s,r,l);if(p!==Un)return p}u=e[a+8],u!==ds&&lD(r,e[K].data[a+8]===l)&&uD(o,a,e)?(s=f,a=ad(u),e=cd(u,e)):a=-1}}return i}function PP(t,e,n,r,i,o){let s=e[K],a=s.data[t+8],u=r==null?Jr(a)&&Cm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,f=id(a,s,n,u,l);return f!==null?rc(e,s,f,a,i):Un}function id(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?a:a+f,g=i?a+f:l;for(let y=p;y<g;y++){let D=s[y];if(y<u&&n===D||y>=u&&D.type===n)return y}if(i){let y=s[u];if(y&&kn(y)&&y.type===n)return u}return null}function rc(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof io){let a=o;if(a.resolving)throw xg("");let u=ud(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],f,p=a.injectImpl?Lt(a.injectImpl):null,g=rm(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&IP(n,s[n],e)}finally{p!==null&&Lt(p),ud(u),a.resolving=!1,im()}}return o}function OP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Qi)?t[Qi]:void 0;return typeof e=="number"?e>=0?e&HD:kP:e}function uD(t,e,n){let r=1<<t;return!!(n[e+(t>>$D)]&r)}function lD(t,e){return!(t&2)&&!(t&1&&e)}var ro=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return WD(this._tNode,this._lView,e,zi(r),n)}};function kP(){return new ro(Vt(),oe())}function Hn(t){return uc(()=>{let e=t.prototype.constructor,n=e[Ua]||bm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ua]||bm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function bm(t){return Ig(t)?()=>{let e=bm(_t(t));return e&&e()}:zr(t)}function FP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ee]&2048&&!ss(s);){let a=KD(o,s,n,r|2,Un);if(a!==Un)return a;let u=o.parent;if(!u){let l=s[jg];if(l){let f=l.get(n,Un,r);if(f!==Un)return f}u=QD(s),s=s[Zi]}o=u}return i}function QD(t){let e=t[K],n=e.type;return n===2?e.declTNode:n===1?t[an]:null}function LP(){return gs(Vt(),oe())}function gs(t,e){return new $n(wn(t,e))}var $n=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=LP}return t})();function VP(t){return t instanceof $n?t.nativeElement:t}function UP(){return this._results[Symbol.iterator]()}var dd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new it}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=gC(e);(this._changesDetected=!pC(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=UP};function YD(t){return(t.flags&128)===128}var Jm=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Jm||{}),ZD=new Map,jP=0;function BP(){return jP++}function HP(t){ZD.set(t[vr],t)}function Tm(t){ZD.delete(t[vr])}var dD="__ngContext__";function fs(t,e){On(e)?(t[dD]=e[vr],HP(e)):t[dD]=e}function JD(t){return eb(t[is])}function XD(t){return eb(t[sn])}function eb(t){for(;t!==null&&!En(t);)t=t[sn];return t}var $P;function Xm(t){$P=t}var Id=new z("",{factory:()=>zP}),zP="ng";var Cd=new z(""),lc=new z("",{providedIn:"platform",factory:()=>"unknown"});var Dd=new z("",{factory:()=>L(at).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var tb="r";var nb="di";var rb=!1,ib=new z("",{factory:()=>rb});var qP=(t,e,n,r)=>{};function GP(t,e,n,r){qP(t,e,n,r)}function ey(t){return(t.flags&32)===32}var WP=()=>null;function ob(t,e,n=!1){return WP(t,e,n)}function sb(t,e){let n=t.contentQueries;if(n!==null){let r=Q(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Kl(o),a.contentQueries(2,e[s],s)}}}finally{Q(r)}}}function Sm(t,e,n){Kl(0);let r=Q(null);try{e(t,n)}finally{Q(r)}}function ty(t,e,n){if(Hg(e)){let r=Q(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Q(r)}}}var Dn=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(Dn||{});var Am=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Eg})`}};function ab(t){return t instanceof Am?t.changingThisBreaksApplicationSecurity:t}var KP=/^>|^->|<!--|-->|--!>|<!-$/g,QP=/(<|>)/g,YP="\u200B$1\u200B";function ZP(t){return t.replace(KP,e=>e.replace(QP,YP))}function JP(t,e){return t.createText(e)}function XP(t,e,n){t.setValue(e,n)}function eO(t,e){return t.createComment(ZP(e))}function cb(t,e,n){return t.createElement(e,n)}function fd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ub(t,e,n){t.appendChild(e,n)}function fD(t,e,n,r,i){r!==null?fd(t,e,n,r,i):ub(t,e,n)}function lb(t,e,n,r){t.removeChild(null,e,n,r)}function tO(t,e,n){t.setAttribute(e,"style",n)}function nO(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function db(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&TP(t,e,r),i!==null&&nO(t,e,i),o!==null&&tO(t,e,o)}function fb(t){return t instanceof Function?t():t}function rO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var hb="ng-template";function iO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&rO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ny(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ny(t){return t.type===4&&t.value!==hb}function oO(t,e,n){let r=t.type===4&&!n?hb:t.value;return e===r}function sO(t,e,n){let r=4,i=t.attrs,o=i!==null?uO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Cn(r)&&!Cn(u))return!1;if(s&&Cn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!oO(t,u,n)||u===""&&e.length===1){if(Cn(r))return!1;s=!0}}else if(r&8){if(i===null||!iO(t,i,u,n)){if(Cn(r))return!1;s=!0}}else{let l=e[++a],f=aO(u,i,ny(t),n);if(f===-1){if(Cn(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Cn(r))return!1;s=!0}}}}return Cn(r)||s}function Cn(t){return(t&1)===0}function aO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return lO(e,t)}function cO(t,e,n=!1){for(let r=0;r<e.length;r++)if(sO(t,e[r],n))return!0;return!1}function uO(t){for(let e=0;e<t.length;e++){let n=t[e];if(SP(n))return e}return t.length}function lO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function hD(t,e){return t?":not("+e.trim()+")":e}function dO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Cn(s)&&(e+=hD(o,i),i=""),r=s,o=o||!Cn(r);n++}return i!==""&&(e+=hD(o,i)),e}function fO(t){return t.map(dO).join(",")}function hO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Cn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Bt={};function ry(t,e,n,r,i,o,s,a,u,l,f){let p=qe+r,g=p+i,y=pO(p,g),D=typeof l=="function"?l():l;return y[K]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:f}}function pO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Bt);return n}function gO(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ry(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function iy(t,e,n,r,i,o,s,a,u,l,f){let p=e.blueprint.slice();return p[_n]=i,p[ee]=r|4|128|8|64|1024,(l!==null||t&&t[ee]&2048)&&(p[ee]|=2048),Gg(p),p[st]=p[Zi]=t,p[ze]=n,p[yr]=s||t&&t[yr],p[ke]=a||t&&t[ke],p[mr]=u||t&&t[mr]||null,p[an]=o,p[vr]=BP(),p[ns]=f,p[jg]=l,p[Wt]=e.type==2?t[Wt]:p,p}function mO(t,e,n){let r=wn(e,t),i=gO(n),o=t[yr].rendererFactory,s=oy(t,iy(t,i,null,pb(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function pb(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function gb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function oy(t,e){return t[is]?t[Ug][sn]=e:t[is]=e,t[Ug]=e,e}function k(t=1){mb(Ze(),oe(),Ln()+t,!1)}function mb(t,e,n,r){if(!r)if((e[ee]&3)===3){let o=t.preOrderCheckHooks;o!==null&&nd(e,o,n)}else{let o=t.preOrderHooks;o!==null&&rd(e,o,0,n)}Xr(n)}var bd=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(bd||{});function Rm(t,e,n,r){let i=Q(null);try{let[o,s,a]=t.inputs[n],u=null;(s&bd.SignalBased)!==0&&(u=e[o][kt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):kD(e,u,o,r)}finally{Q(i)}}var jn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(jn||{}),yO;function sy(t,e){return yO(t,e)}var oo=new Set,ay=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(ay||{}),dc=new z(""),pD=new Set;function lo(t){pD.has(t)||(pD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var yb=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Z({token:t,providedIn:"root",factory:()=>new t})}return t})();var vb=new z("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:L(ot)})});function _b(t,e,n){let r=t.get(vb);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function vO(t,e){let n=t.get(vb);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function _O(t,e){for(let[n,r]of e)_b(t,r.animateFns)}function gD(t,e,n,r){let i=t?.[Xi]?.enter;e!==null&&i&&i.has(n.index)&&_O(r,i)}function ls(t,e,n,r,i,o,s,a){if(i!=null){let u,l=!1;En(i)?u=i:On(i)&&(l=!0,i=i[_n]);let f=cn(i);t===0&&r!==null?(gD(a,r,o,n),s==null?ub(e,r,f):fd(e,r,f,s||null,!0)):t===1&&r!==null?(gD(a,r,o,n),fd(e,r,f,s||null,!0)):t===2?mD(a,o,n,p=>{lb(e,f,l,p)}):t===3&&mD(a,o,n,()=>{e.destroyNode(f)}),u!=null&&NO(e,t,n,u,o,r,s)}}function EO(t,e){Eb(t,e),e[_n]=null,e[an]=null}function wO(t,e,n,r,i,o){r[_n]=i,r[an]=e,Sd(t,r,n,1,i,o)}function Eb(t,e){e[yr].changeDetectionScheduler?.notify(9),Sd(t,e,e[ke],2,null,null)}function IO(t){let e=t[is];if(!e)return hm(t[K],t);for(;e;){let n=null;if(On(e))n=e[is];else{let r=e[je];r&&(n=r)}if(!n){for(;e&&!e[sn]&&e!==t;)On(e)&&hm(e[K],e),e=e[st];e===null&&(e=t),On(e)&&hm(e[K],e),n=e&&e[sn]}e=n}}function cy(t,e){let n=t[eo],r=n.indexOf(e);n.splice(r,1)}function Td(t,e){if(to(e))return;let n=e[ke];n.destroyNode&&Sd(t,e,n,3,null,null),IO(e)}function hm(t,e){if(to(e))return;let n=Q(null);try{e[ee]&=-129,e[ee]|=256,e[Kt]&&Vi(e[Kt]),bO(t,e),DO(t,e),e[K].type===1&&e[ke].destroy();let r=e[Yr];if(r!==null&&En(e[st])){r!==e[st]&&cy(r,e);let i=e[Pn];i!==null&&i.detachView(t)}Tm(e)}finally{Q(n)}}function mD(t,e,n,r){let i=t?.[Xi];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&oo.add(t[vr]),_b(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:f}=l();a.push(f)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),CO(t,r)}else t&&oo.delete(t[vr]),r(!1)},i)}function CO(t,e){let n=t[Xi]?.running;if(n){n.then(()=>{t[Xi].running=void 0,oo.delete(t[vr]),e(!0)});return}e(!1)}function DO(t,e){let n=t.cleanup,r=e[rs];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[rs]=null);let i=e[fr];if(i!==null){e[fr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[qr];if(o!==null){e[qr]=null;for(let s of o)s.destroy()}}function bO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof io)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Se(Ee.LifecycleHookStart,a,u);try{u.call(a)}finally{Se(Ee.LifecycleHookEnd,a,u)}}else{Se(Ee.LifecycleHookStart,i,o);try{o.call(i)}finally{Se(Ee.LifecycleHookEnd,i,o)}}}}}function TO(t,e,n){return SO(t,e.parent,n)}function SO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[_n];if(Jr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Dn.None||i===Dn.Emulated)return null}return wn(r,n)}function AO(t,e,n){return MO(t,e,n)}function RO(t,e,n){return t.type&40?wn(t,n):null}var MO=RO,yD;function uy(t,e,n,r){let i=TO(t,r,e),o=e[ke],s=r.parent||e[an],a=AO(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)fD(o,i,n[u],a,!1);else fD(o,i,n,a,!1);yD!==void 0&&yD(o,r,e,n,i)}function ec(t,e){if(e!==null){let n=e.type;if(n&3)return wn(e,t);if(n&4)return Mm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ec(t,r);{let i=t[e.index];return En(i)?Mm(-1,i):cn(i)}}else{if(n&128)return ec(t,e.next);if(n&32)return sy(e,t)()||cn(t[e.index]);{let r=wb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Gr(t[Wt]);return ec(i,r)}else return ec(t,e.next)}}}return null}function wb(t,e){if(e!==null){let r=t[Wt][an],i=e.projection;return r.projection[i]}return null}function Mm(t,e){let n=je+t+1;if(n<e.length){let r=e[n],i=r[K].firstChild;if(i!==null)return ec(r,i)}return e[Zr]}function ly(t,e,n,r,i,o,s){for(;n!=null;){let a=r[mr];if(n.type===128){n=n.next;continue}let u=r[n.index],l=n.type;if(s&&e===0&&(u&&fs(cn(u),r),n.flags|=2),!ey(n))if(l&8)ly(t,e,n.child,r,i,o,!1),ls(e,t,a,i,u,n,o,r);else if(l&32){let f=sy(n,r),p;for(;p=f();)ls(e,t,a,i,p,n,o,r);ls(e,t,a,i,u,n,o,r)}else l&16?xO(t,e,r,n,i,o):ls(e,t,a,i,u,n,o,r);n=s?n.projectionNext:n.next}}function Sd(t,e,n,r,i,o){ly(n,r,t.firstChild,e,i,o,!1)}function xO(t,e,n,r,i,o){let s=n[Wt],u=s[an].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];ls(e,t,n[mr],i,f,r,o,n)}else{let l=u,f=s[st];YD(r)&&(l.flags|=128),ly(t,e,l,f,i,o,!0)}}function NO(t,e,n,r,i,o,s){let a=r[Zr],u=cn(r);a!==u&&ls(e,t,n,o,a,i,s);for(let l=je;l<r.length;l++){let f=r[l];Sd(f[K],f,t,e,o,a)}}function PO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:jn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=jn.Important),t.setStyle(n,r,i,o))}}function Ib(t,e,n,r,i){let o=Ln(),s=r&2;try{Xr(-1),s&&e.length>qe&&mb(t,e,qe,!1);let a=s?Ee.TemplateUpdateStart:Ee.TemplateCreateStart;Se(a,i,n),n(r,i)}finally{Xr(o);let a=s?Ee.TemplateUpdateEnd:Ee.TemplateCreateEnd;Se(a,i,n)}}function Ad(t,e,n){jO(t,e,n),(n.flags&64)===64&&BO(t,e,n)}function Rd(t,e,n=wn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function OO(t,e,n,r){let o=r.get(ib,rb)||n===Dn.ShadowDom||n===Dn.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,o);return kO(s),s}function kO(t){FO(t)}var FO=()=>null;function LO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Cb(t,e,n,r,i,o){let s=e[K];if(fy(t,s,e,n,r)){Jr(t)&&UO(e,t.index);return}t.type&3&&(n=LO(n)),VO(t,e,n,r,i,o)}function VO(t,e,n,r,i,o){if(t.type&3){let s=wn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function UO(t,e){let n=un(e,t);n[ee]&16||(n[ee]|=64)}function jO(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Jr(n)&&mO(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||ld(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=rc(e,t,s,n);if(fs(u,e),o!==null&&qO(e,s-r,u,a,n,o),kn(a)){let l=un(n.index,e);l[ze]=rc(e,t,s,n)}}}function BO(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=zC();try{Xr(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Wl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&HO(u,l)}}finally{Xr(-1),Wl(s)}}function HO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function dy(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];cO(e,o.selectors,!1)&&(r??=[],kn(o)?r.unshift(o):r.push(o))}return r}function $O(t,e,n,r,i,o){let s=wn(t,e);zO(e[ke],s,o,t.value,n,r,i)}function zO(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Kr(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function qO(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Rm(r,n,u,l)}}function Db(t,e,n,r,i){let o=qe+n,s=e[K],a=i(s,e,t,r,n);e[o]=a,cs(t,!0);let u=t.type===2;return u?(db(e[ke],a,t),(NC()===0||os(t))&&fs(a,e),PC()):fs(a,e),Jl()&&(!u||!ey(t))&&uy(s,e,a,t),t}function bb(t){let e=t;return Jg()?UC():(e=e.parent,cs(e,!1)),e}function GO(t,e){let n=t[mr];if(!n)return;let r;try{r=n.get(In,null)}catch{r=null}r?.(e)}function fy(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];Rm(p,n[l],f,i),a=!0}if(o)for(let u of o){let l=n[u],f=e.data[u];Rm(f,l,r,i),a=!0}return a}function WO(t,e){let n=un(e,t),r=n[K];KO(r,n);let i=n[_n];i!==null&&n[ns]===null&&(n[ns]=ob(i,n[mr])),Se(Ee.ComponentStart);try{hy(r,n,n[ze])}finally{Se(Ee.ComponentEnd,n[ze])}}function KO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function hy(t,e,n){Ql(e);try{let r=t.viewQuery;r!==null&&Sm(1,r,n);let i=t.template;i!==null&&Ib(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Pn]?.finishViewCreation(t),t.staticContentQueries&&sb(t,e),t.staticViewQueries&&Sm(2,t.viewQuery,n);let o=t.components;o!==null&&QO(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ee]&=-5,Yl()}}function QO(t,e){for(let n=0;n<e.length;n++)WO(t,e[n])}function Md(t,e,n,r){let i=Q(null);try{let o=e.tView,a=t[ee]&4096?4096:16,u=iy(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Yr]=l;let f=t[Pn];return f!==null&&(u[Pn]=f.createEmbeddedView(o)),hy(o,u,n),u}finally{Q(i)}}function ic(t,e){return!e||e.firstChild===null||YD(t)}function oc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(cn(o)),En(o)&&Tb(o,r);let s=n.type;if(s&8)oc(t,e,n.child,r);else if(s&32){let a=sy(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=wb(e,n);if(Array.isArray(a))r.push(...a);else{let u=Gr(e[Wt]);oc(u[K],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Tb(t,e){for(let n=je;n<t.length;n++){let r=t[n],i=r[K].firstChild;i!==null&&oc(r[K],r,i,e)}t[Zr]!==t[_n]&&e.push(t[Zr])}function Sb(t){if(t[Hl]!==null){for(let e of t[Hl])e.impl.addSequence(e);t[Hl].length=0}}var Ab=[];function YO(t){return t[Kt]??ZO(t)}function ZO(t){let e=Ab.pop()??Object.create(XO);return e.lView=t,e}function JO(t){t.lView[Kt]!==t&&(t.lView=null,Ab.push(t))}var XO=X(F({},Ho),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{as(t.lView)},consumerOnSignalRead(){this.lView[Kt]=this}});function ek(t){let e=t[Kt]??Object.create(tk);return e.lView=t,e}var tk=X(F({},Ho),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Gr(t.lView);for(;e&&!Rb(e[K]);)e=Gr(e);e&&Wg(e)},consumerOnSignalRead(){this.lView[Kt]=this}});function Rb(t){return t.type!==2}function Mb(t){if(t[qr]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[qr])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[ee]&8192)}}var nk=100;function xb(t,e=0){let r=t[yr].rendererFactory,i=!1;i||r.begin?.();try{rk(t,e)}finally{i||r.end?.()}}function rk(t,e){let n=Xg();try{Ba(!0),xm(t,e);let r=0;for(;Ya(t);){if(r===nk)throw new $(103,!1);r++,xm(t,1)}}finally{Ba(n)}}function ik(t,e,n,r){if(to(e))return;let i=e[ee],o=!1,s=!1;Ql(e);let a=!0,u=null,l=null;o||(Rb(t)?(l=YO(e),u=$o(l)):nl()===null?(a=!1,l=ek(e),u=$o(l)):e[Kt]&&(Vi(e[Kt]),e[Kt]=null));try{Gg(e),BC(t.bindingStartIndex),n!==null&&Ib(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let y=t.preOrderCheckHooks;y!==null&&nd(e,y,null)}else{let y=t.preOrderHooks;y!==null&&rd(e,y,0,null),dm(e,0)}if(s||ok(e),Mb(e),Nb(e,0),t.contentQueries!==null&&sb(t,e),!o)if(f){let y=t.contentCheckHooks;y!==null&&nd(e,y)}else{let y=t.contentHooks;y!==null&&rd(e,y,1),dm(e,1)}ak(t,e);let p=t.components;p!==null&&Ob(e,p,0);let g=t.viewQuery;if(g!==null&&Sm(2,g,r),!o)if(f){let y=t.viewCheckHooks;y!==null&&nd(e,y)}else{let y=t.viewHooks;y!==null&&rd(e,y,2),dm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Bl]){for(let y of e[Bl])y();e[Bl]=null}o||(Sb(e),e[ee]&=-73)}catch(f){throw o||as(e),f}finally{l!==null&&(Ma(l,u),a&&JO(l)),Yl()}}function Nb(t,e){for(let n=JD(t);n!==null;n=XD(n))for(let r=je;r<n.length;r++){let i=n[r];Pb(i,e)}}function ok(t){for(let e=JD(t);e!==null;e=XD(e)){if(!(e[ee]&2))continue;let n=e[eo];for(let r=0;r<n.length;r++){let i=n[r];Wg(i)}}}function sk(t,e,n){Se(Ee.ComponentStart);let r=un(e,t);try{Pb(r,n)}finally{Se(Ee.ComponentEnd,r[ze])}}function Pb(t,e){$l(t)&&xm(t,e)}function xm(t,e){let r=t[K],i=t[ee],o=t[Kt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&xa(o)),s||=!1,o&&(o.dirty=!1),t[ee]&=-9217,s)ik(r,t,r.template,t[ze]);else if(i&8192){let a=Q(null);try{Mb(t),Nb(t,1);let u=r.components;u!==null&&Ob(t,u,1),Sb(t)}finally{Q(a)}}}function Ob(t,e,n){for(let r=0;r<e.length;r++)sk(t,e[r],n)}function ak(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Xr(~i);else{let o=i,s=n[++r],a=n[++r];$C(s,o);let u=e[o];Se(Ee.HostBindingsUpdateStart,u);try{a(2,u)}finally{Se(Ee.HostBindingsUpdateEnd,u)}}}}finally{Xr(-1)}}function py(t,e){let n=Xg()?64:1088;for(t[yr].changeDetectionScheduler?.notify(e);t;){t[ee]|=n;let r=Gr(t);if(ss(t)&&!r)return t;t=r}return null}function kb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Fb(t,e){let n=je+e;if(n<t.length)return t[n]}function xd(t,e,n,r=!0){let i=e[K];if(ck(i,e,t,n),r){let s=Mm(n,t),a=e[ke],u=a.parentNode(t[Zr]);u!==null&&wO(i,t[an],a,e,u,s)}let o=e[ns];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Lb(t,e){let n=sc(t,e);return n!==void 0&&Td(n[K],n),n}function sc(t,e){if(t.length<=je)return;let n=je+e,r=t[n];if(r){let i=r[Yr];i!==null&&i!==t&&cy(i,r),e>0&&(t[n-1][sn]=r[sn]);let o=qa(t,je+e);EO(r[K],r);let s=o[Pn];s!==null&&s.detachView(o[K]),r[st]=null,r[sn]=null,r[ee]&=-129}return r}function ck(t,e,n,r){let i=je+r,o=n.length;r>0&&(n[i-1][sn]=e),r<o-je?(e[sn]=n[i],Pg(n,je+r,e)):(n.push(e),e[sn]=null),e[st]=n;let s=e[Yr];s!==null&&n!==s&&Vb(s,e);let a=e[Pn];a!==null&&a.insertView(t),zl(e),e[ee]|=128}function Vb(t,e){let n=t[eo],r=e[st];if(On(r))t[ee]|=2;else{let i=r[st][Wt];e[Wt]!==i&&(t[ee]|=2)}n===null?t[eo]=[e]:n.push(e)}var ti=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[K];return oc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[ze]}set context(e){this._lView[ze]=e}get destroyed(){return to(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[st];if(En(e)){let n=e[Ka],r=n?n.indexOf(this):-1;r>-1&&(sc(e,r),qa(n,r))}this._attachedToViewContainer=!1}Td(this._lView[K],this._lView)}onDestroy(e){Kg(this._lView,e)}markForCheck(){py(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ee]&=-129}reattach(){zl(this._lView),this._lView[ee]|=128}detectChanges(){this._lView[ee]|=1024,xb(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ss(this._lView),n=this._lView[Yr];n!==null&&!e&&cy(n,this._lView),Eb(this._lView[K],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=ss(this._lView),r=this._lView[Yr];r!==null&&!n&&Vb(r,this._lView),zl(this._lView)}};var ni=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=uk;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Md(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new ti(o)}}return t})();function uk(){return gy(Vt(),oe())}function gy(t,e){return t.type&4?new ni(e,t,gs(t,e)):null}function Nd(t,e,n,r,i){let o=t.data[e];if(o===null)o=lk(t,e,n,r,i),HC()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=VC();o.injectorIndex=s===null?-1:s.injectorIndex}return cs(o,!0),o}function lk(t,e,n,r,i){let o=Zg(),s=Jg(),a=s?o:o&&o.parent,u=t.data[e]=fk(t,a,n,e,r,i);return dk(t,u,o,s),u}function dk(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function fk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return kC()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function hk(t){let e=t[Bg]??[],r=t[st][ke],i=[];for(let o of e)o.data[nb]!==void 0?i.push(o):pk(o,r);t[Bg]=i}function pk(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[tb];for(;n<i;){let o=r.nextSibling;lb(e,r,!1),r=o,n++}}}var gk=()=>null,mk=()=>null;function Nm(t,e){return gk(t,e)}function Ub(t,e,n){return mk(t,e,n)}var jb=class{},Pd=class{},Pm=class{resolveComponentFactory(e){throw new $(917,!1)}},fc=class{static NULL=new Pm},so=class{},ms=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>yk()}return t})();function yk(){let t=oe(),e=Vt(),n=un(e.index,t);return(On(n)?n:t)[ke]}var Bb=(()=>{class t{static \u0275prov=Z({token:t,providedIn:"root",factory:()=>null})}return t})();var od={},Om=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,od,r);return i!==od||n===od?i:this.parentInjector.get(e,n,r)}};function vD(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=wg(i,a);else if(o==2){let u=a,l=e[++s];r=wg(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ve(t,e=0){let n=oe();if(n===null)return se(t,e);let r=Vt();return WD(r,n,_t(t),e)}function Hb(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,u=null,l=null;for(let f of s)if(f.resolveHostDirectives!==null){[a,u,l]=f.resolveHostDirectives(s);break}Ek(t,e,n,a,o,u,l)}o!==null&&r!==null&&vk(n,r,o)}function vk(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new $(-301,!1);r.push(e[i],o)}}function _k(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Ek(t,e,n,r,i,o,s){let a=r.length,u=null;for(let g=0;g<a;g++){let y=r[g];u===null&&kn(y)&&(u=y,_k(t,n,g)),Dm(ld(n,e),t,y.type)}Tk(n,t.data.length,a),u?.viewProvidersResolver&&u.viewProvidersResolver(u);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,f=!1,p=gb(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(n.mergedAttrs=nc(n.mergedAttrs,y.hostAttrs),Ik(t,n,e,p,y),bk(p,y,i),s!==null&&s.has(y)){let[x,M]=s.get(y);n.directiveToIndex.set(y.type,[p,x+n.directiveStart,M+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let D=y.type.prototype;!l&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!f&&(D.ngOnChanges||D.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}wk(t,n,o)}function wk(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))_D(0,e,i,r),_D(1,e,i,r),wD(e,r,!1);else{let o=n.get(i);ED(0,e,o,r),ED(1,e,o,r),wD(e,r,!0)}}}function _D(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),$b(e,o)}}function ED(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),$b(e,s)}}function $b(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function wD(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||ny(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function Ik(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=zr(i.type,!0)),s=new io(o,kn(i),ve,null);t.blueprint[r]=s,n[r]=s,Ck(t,e,r,gb(t,n,i.hostVars,Bt),i)}function Ck(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Dk(s)!=a&&s.push(a),s.push(n,r,o)}}function Dk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function bk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;kn(e)&&(n[""]=t)}}function Tk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function my(t,e,n,r,i,o,s,a){let u=e[K],l=u.consts,f=Fn(l,s),p=Nd(u,t,n,r,f);return o&&Hb(u,e,p,Fn(l,a),i),p.mergedAttrs=nc(p.mergedAttrs,p.attrs),p.attrs!==null&&vD(p,p.attrs,!1),p.mergedAttrs!==null&&vD(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function yy(t,e){UD(t,e),Hg(e)&&t.queries.elementEnd(e)}function Sk(t,e,n){return t[e]=n}function Bn(t,e,n){if(n===Bt)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function vy(t,e,n,r){let i=Bn(t,e,n);return Bn(t,e+1,r)||i}function Ak(t,e,n,r,i){let o=vy(t,e,n,r);return Bn(t,e+2,i)||o}function pm(t,e,n){return function r(i){let o=Jr(t)?un(t.index,e):e;py(o,5);let s=e[ze],a=ID(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=ID(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function ID(t,e,n,r){let i=Q(null);try{return Se(Ee.OutputStart,e,n),n(r)!==!1}catch(o){return GO(t,o),!1}finally{Se(Ee.OutputEnd,e,n),Q(i)}}function Rk(t,e,n,r,i,o,s,a){let u=os(t),l=!1,f=null;if(!r&&u&&(f=xk(e,n,o,t.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,l=!0}else{let p=wn(t,n),g=r?r(p):p;GP(n,g,o,a);let y=i.listen(g,o,a);if(!Mk(o)){let D=r?x=>r(cn(x[t.index])):t.index;zb(D,e,n,o,a,y,!1)}}return l}function Mk(t){return t.startsWith("animation")||t.startsWith("transition")}function xk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[rs],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function zb(t,e,n,r,i,o,s){let a=e.firstCreatePass?Yg(e):null,u=Qg(n),l=u.length;u.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function CD(t,e,n,r,i,o){let s=e[n],a=e[K],l=a.data[n].outputs[r],p=s[l].subscribe(o);zb(t.index,a,e,i,o,p,!0)}var km=Symbol("BINDING");var hd=class extends fc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Wr(e);return new hs(n,this.ngModule)}};function Nk(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&bd.SignalBased)!==0};return i&&(o.transform=i),o})}function Pk(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function Ok(t,e,n){let r=e instanceof ot?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Om(n,r):n}function kk(t){let e=t.get(so,null);if(e===null)throw new $(407,!1);let n=t.get(Bb,null),r=t.get(Wi,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function Fk(t,e){let n=qb(t);return cb(e,n,n==="svg"?bC:n==="math"?TC:null)}function qb(t){return(t.selectors[0][0]||"div").toLowerCase()}var hs=class extends Pd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Nk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Pk(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=fO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){Se(Ee.DynamicComponentStart);let a=Q(null);try{let u=this.componentDef,l=Lk(r,u,s,o),f=Ok(u,i||this.ngModule,e),p=kk(f),g=p.rendererFactory.createRenderer(null,u),y=r?OO(g,r,u.encapsulation,f):Fk(u,g),D=s?.some(DD)||o?.some(U=>typeof U!="function"&&U.bindings.some(DD)),x=iy(null,l,null,512|pb(u),null,null,p,g,f,null,ob(y,f,!0));x[qe]=y,Ql(x);let M=null;try{let U=my(qe,x,2,"#host",()=>l.directiveRegistry,!0,0);db(g,y,U),fs(y,x),Ad(l,x,U),ty(l,U,x),yy(l,U),n!==void 0&&Uk(U,this.ngContentSelectors,n),M=un(U.index,x),x[ze]=M[ze],hy(l,x,null)}catch(U){throw M!==null&&Tm(M),Tm(x),U}finally{Se(Ee.DynamicComponentEnd),Yl()}return new pd(this.componentType,x,!!D)}finally{Q(a)}}};function Lk(t,e,n,r){let i=t?["ng-version","21.1.2"]:hO(e.selectors[0]),o=null,s=null,a=0;if(n)for(let f of n)a+=f[km].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let g of p.bindings){a+=g[km].requiredVars;let y=f+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,g=Mg(p);u.push(g)}return ry(0,null,Vk(o,s),1,a,u,null,null,null,[i],null)}function Vk(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function DD(t){let e=t[km].kind;return e==="input"||e==="twoWay"}var pd=class extends jb{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Qa(n[K],qe),this.location=gs(this._tNode,n),this.instance=un(this._tNode.index,n)[ze],this.hostView=this.changeDetectorRef=new ti(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=fy(r,i[K],i,e,n);this.previousInputValues.set(e,n);let s=un(r.index,i);py(s,1)}get injector(){return new ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Uk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var _r=(()=>{class t{static __NG_ELEMENT_ID__=jk}return t})();function jk(){let t=Vt();return Wb(t,oe())}var Bk=_r,Gb=class extends Bk{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return gs(this._hostTNode,this._hostLView)}get injector(){return new ro(this._hostTNode,this._hostLView)}get parentInjector(){let e=Zm(this._hostTNode,this._hostLView);if(BD(e)){let n=cd(e,this._hostLView),r=ad(e),i=n[K].data[r+8];return new ro(i,n)}else return new ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=bD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-je}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Nm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,ic(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let u=e&&!vP(e),l;if(u)l=n;else{let M=n||{};l=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef,s=M.directives,a=M.bindings}let f=u?e:new hs(Wr(e)),p=r||this.parentInjector;if(!o&&f.ngModule==null){let U=(u?p:this.parentInjector).get(ot,null);U&&(o=U)}let g=Wr(f.componentType??{}),y=Nm(this._lContainer,g?.id??null),D=y?.firstChild??null,x=f.create(p,i,D,o,s,a);return this.insertImpl(x.hostView,l,ic(this._hostTNode,y)),x}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(AC(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[st],l=new Gb(u,u[an],u[st]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return xd(s,i,o,r),e.attachToViewContainerRef(),Pg(gm(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=bD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=sc(this._lContainer,n);r&&(qa(gm(this._lContainer),n),Td(r[K],r))}detach(e){let n=this._adjustIndex(e,-1),r=sc(this._lContainer,n);return r&&qa(gm(this._lContainer),n)!=null?new ti(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function bD(t){return t[Ka]}function gm(t){return t[Ka]||(t[Ka]=[])}function Wb(t,e){let n,r=e[t.index];return En(r)?n=r:(n=kb(r,e,null,t),e[t.index]=n,oy(e,n)),$k(n,e,t,r),new Gb(n,t,e)}function Hk(t,e){let n=t[ke],r=n.createComment(""),i=wn(e,t),o=n.parentNode(i);return fd(n,o,r,n.nextSibling(i),!1),r}var $k=Gk,zk=()=>!1;function qk(t,e,n){return zk(t,e,n)}function Gk(t,e,n,r){if(t[Zr])return;let i;n.type&8?i=cn(r):i=Hk(e,n),t[Zr]=i}var Fm=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Lm=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)_y(e,n).matches!==null&&this.queries[n].setDirty()}},Vm=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=eF(e):this.predicate=e}},Um=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},jm=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,Wk(n,o)),this.matchTNodeWithReadOption(e,n,id(n,e,o,!1,!1))}else r===ni?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,id(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===$n||i===_r||i===ni&&n.type&4)this.addMatch(n.index,-2);else{let o=id(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Wk(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Kk(t,e){return t.type&11?gs(t,e):t.type&4?gy(t,e):null}function Qk(t,e,n,r){return n===-1?Kk(e,t):n===-2?Yk(t,e,r):rc(t,t[K],n,e)}function Yk(t,e,n){if(n===$n)return gs(e,t);if(n===ni)return gy(e,t);if(n===_r)return Wb(e,t)}function Kb(t,e,n,r){let i=e[Pn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let f=o[l];a.push(Qk(e,f,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Bm(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Kb(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],f=e[-u];for(let p=je;p<f.length;p++){let g=f[p];g[Yr]===g[st]&&Bm(g[K],g,l,r)}if(f[eo]!==null){let p=f[eo];for(let g=0;g<p.length;g++){let y=p[g];Bm(y[K],y,l,r)}}}}}return r}function Zk(t,e){return t[Pn].queries[e].queryList}function Jk(t,e,n){let r=new dd((n&4)===4);return xC(t,e,r,r.destroy),(e[Pn]??=new Lm).queries.push(new Fm(r))-1}function Xk(t,e,n){let r=Ze();return r.firstCreatePass&&(tF(r,new Vm(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),Jk(r,oe(),e)}function eF(t){return t.split(",").map(e=>e.trim())}function tF(t,e,n){t.queries===null&&(t.queries=new Um),t.queries.track(new jm(e,n))}function _y(t,e){return t.queries.getByIndex(e)}function nF(t,e){let n=t[K],r=_y(n,e);return r.crossesNgTemplate?Bm(n,t,e,[]):Kb(n,t,r,e)}var ao=class{},Od=class{};var gd=class extends ao{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new hd(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Rg(e);this._bootstrapComponents=fb(o.bootstrap),this._r3Injector=om(e,n,[{provide:ao,useValue:this},{provide:fc,useValue:this.componentFactoryResolver},...r],hr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},md=class extends Od{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new gd(this.moduleType,e,[])}};var ac=class extends ao{injector;componentFactoryResolver=new hd(this);instance=null;constructor(e){super();let n=new Gi([...e.providers,{provide:ao,useValue:this},{provide:fc,useValue:this.componentFactoryResolver}],e.parent||Wa(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function hc(t,e,n=null){return new ac({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var rF=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Fg(!1,n.type),i=r.length>0?hc([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Z({token:t,providedIn:"environment",factory:()=>new t(se(ot))})}return t})();function pc(t){return uc(()=>{let e=Qb(t),n=X(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Jm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(rF).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Dn.Emulated,styles:t.styles||qt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&lo("NgStandalone"),Yb(n);let r=t.dependencies;return n.directiveDefs=TD(r,iF),n.pipeDefs=TD(r,lC),n.id=aF(n),n})}function iF(t){return Wr(t)||Mg(t)}function ri(t){return uc(()=>({type:t.type,bootstrap:t.bootstrap||qt,declarations:t.declarations||qt,imports:t.imports||qt,exports:t.exports||qt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function oF(t,e){if(t==null)return Qr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=bd.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function sF(t){if(t==null)return Qr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Be(t){return uc(()=>{let e=Qb(t);return Yb(e),e})}function Ey(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Qb(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Qr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||qt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:oF(t.inputs,e),outputs:sF(t.outputs),debugInfo:null}}function Yb(t){t.features?.forEach(e=>e(t))}function TD(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function aF(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function cF(t){return Object.getPrototypeOf(t.prototype).constructor}function Qt(t){let e=cF(t.type),n=!0,r=[t];for(;e;){let i;if(kn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=mm(t.inputs),s.declaredInputs=mm(t.declaredInputs),s.outputs=mm(t.outputs);let a=i.hostBindings;a&&hF(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&dF(t,u),l&&fF(t,l),uF(t,i),uC(t.outputs,i.outputs),kn(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Qt&&(n=!1)}}e=Object.getPrototypeOf(e)}lF(r)}function uF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function lF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=nc(i.hostAttrs,n=nc(n,i.hostAttrs))}}function mm(t){return t===Qr?{}:t===qt?[]:t}function dF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function fF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function hF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Zb(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=nc(t.mergedAttrs,t.attrs);let f=t.tView=ry(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),f.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),cs(t,!1);let u=gF(n,e,t,r);Jl()&&uy(n,e,u,t),fs(u,e);let l=kb(u,e,u,t);e[r+qe]=l,oy(e,l),qk(l,t,e)}function pF(t,e,n,r,i,o,s,a,u,l,f){let p=n+qe,g;return e.firstCreatePass?(g=Nd(e,p,4,s||null,a||null),ql()&&Hb(e,t,g,Fn(e.consts,l),dy),UD(e,g)):g=e.data[p],Zb(g,t,e,n,r,i,o,u),os(g)&&Ad(e,t,g),l!=null&&Rd(t,g,f),g}function yd(t,e,n,r,i,o,s,a,u,l,f){let p=n+qe,g;if(e.firstCreatePass){if(g=Nd(e,p,4,s||null,a||null),l!=null){let y=Fn(e.consts,l);g.localNames=[];for(let D=0;D<y.length;D+=2)g.localNames.push(y[D],-1)}}else g=e.data[p];return Zb(g,t,e,n,r,i,o,u),l!=null&&Rd(t,g,f),g}function ys(t,e,n,r,i,o,s,a){let u=oe(),l=Ze(),f=Fn(l.consts,o);return pF(u,l,t,e,n,r,i,f,void 0,s,a),ys}var gF=mF;function mF(t,e,n,r){return Za(!0),e[ke].createComment("")}var wy=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Jb(t){return typeof t=="function"&&t[kt]!==void 0}function Iy(t){return Jb(t)&&typeof t.set=="function"}var Cy=new z("");function ii(t){return!!t&&typeof t.then=="function"}function Dy(t){return!!t&&typeof t.subscribe=="function"}var Xb=new z("");var by=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=L(Xb,{optional:!0})??[];injector=L(rn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=St(this.injector,i);if(ii(o))n.push(o);else if(Dy(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kd=new z("");function eT(){Hp(()=>{let t="";throw new $(600,t)})}function tT(t){return t.isBoundToModule}var yF=10;var fo=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=L(In);afterRenderManager=L(yb);zonelessEnabled=L(Ja);rootEffectScheduler=L(ed);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new it;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=L(ei);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Oe(n=>!n))}constructor(){L(dc,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=L(ot);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=rn.NULL){return this._injector.get(Gt).run(()=>{Se(Ee.BootstrapComponentStart);let s=n instanceof Pd;if(!this._injector.get(by).done){let D="";throw new $(405,D)}let u;s?u=n:u=this._injector.get(fc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=tT(u)?void 0:this._injector.get(ao),f=r||u.selector,p=u.create(i,[],f,l),g=p.location.nativeElement,y=p.injector.get(Cy,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),tc(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),Se(Ee.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Se(Ee.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(ay.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Se(Ee.ChangeDetectionEnd),new $(101,!1);let n=Q(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Q(n),this.afterTick.next(),Se(Ee.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(so,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<yF;){Se(Ee.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Se(Ee.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ya(i))continue;let o=r&&!this.zonelessEnabled?0:1;xb(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ya(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;tc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(kd,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>tc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function oi(t,e,n,r){let i=oe(),o=no();if(Bn(i,o,e)){let s=Ze(),a=Zl();$O(a,i,t,e,n,r)}return oi}var TG=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Hm=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function ym(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function vF(t,e,n,r){let i,o,s=0,a=t.length-1,u=void 0;if(Array.isArray(e)){Q(r);let l=e.length-1;for(Q(null);s<=a&&s<=l;){let f=t.at(s),p=e[s],g=ym(s,f,s,p,n);if(g!==0){g<0&&t.updateValue(s,p),s++;continue}let y=t.at(a),D=e[l],x=ym(a,y,l,D,n);if(x!==0){x<0&&t.updateValue(a,D),a--,l--;continue}let M=n(s,f),U=n(a,y),q=n(s,p);if(Object.is(q,U)){let J=n(l,D);Object.is(J,M)?(t.swap(s,a),t.updateValue(a,D),l--,a--):t.move(a,s),t.updateValue(s,p),s++;continue}if(i??=new vd,o??=AD(t,s,a,n),$m(t,i,s,q))t.updateValue(s,p),s++,a++;else if(o.has(q))i.set(M,t.detach(s)),a--;else{let J=t.create(s,e[s]);t.attach(s,J),s++,a++}}for(;s<=l;)SD(t,i,n,s,e[s]),s++}else if(e!=null){Q(r);let l=e[Symbol.iterator]();Q(null);let f=l.next();for(;!f.done&&s<=a;){let p=t.at(s),g=f.value,y=ym(s,p,s,g,n);if(y!==0)y<0&&t.updateValue(s,g),s++,f=l.next();else{i??=new vd,o??=AD(t,s,a,n);let D=n(s,g);if($m(t,i,s,D))t.updateValue(s,g),s++,a++,f=l.next();else if(!o.has(D))t.attach(s,t.create(s,g)),s++,a++,f=l.next();else{let x=n(s,p);i.set(x,t.detach(s)),a--}}}for(;!f.done;)SD(t,i,n,t.length,f.value),f=l.next()}for(;s<=a;)t.destroy(t.detach(a--));i?.forEach(l=>{t.destroy(l)})}function $m(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function SD(t,e,n,r,i){if($m(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function AD(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var vd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function ct(t,e,n,r,i,o,s,a){lo("NgControlFlow");let u=oe(),l=Ze(),f=Fn(l.consts,o);return yd(u,l,t,e,n,r,i,f,256,s,a),Ty}function Ty(t,e,n,r,i,o,s,a){lo("NgControlFlow");let u=oe(),l=Ze(),f=Fn(l.consts,o);return yd(u,l,t,e,n,r,i,f,512,s,a),Ty}function ut(t,e){lo("NgControlFlow");let n=oe(),r=no(),i=n[r]!==Bt?n[r]:-1,o=i!==-1?_d(n,qe+i):void 0,s=0;if(Bn(n,r,t)){let a=Q(null);try{if(o!==void 0&&Lb(o,s),t!==-1){let u=qe+t,l=_d(n,u),f=Wm(n[K],u),p=Ub(l,f,n),g=Md(n,f,e,{dehydratedView:p});xd(l,g,s,ic(f,p))}}finally{Q(a)}}else if(o!==void 0){let a=Fb(o,s);a!==void 0&&(a[ze]=e)}}var zm=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-je}};var qm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function zn(t,e,n,r,i,o,s,a,u,l,f,p,g){lo("NgControlFlow");let y=oe(),D=Ze(),x=u!==void 0,M=oe(),U=a?s.bind(M[Wt][ze]):s,q=new qm(x,U);M[qe+t]=q,yd(y,D,t+1,e,n,r,i,Fn(D.consts,o),256),x&&yd(y,D,t+2,u,l,f,p,Fn(D.consts,g),512)}var Gm=class extends Hm{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-je}at(e){return this.getLView(e)[ze].$implicit}attach(e,n){let r=n[ns];this.needsIndexUpdate||=e!==this.length,xd(this.lContainer,n,e,ic(this.templateTNode,r)),_F(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,EF(this.lContainer,e),wF(this.lContainer,e)}create(e,n){let r=Nm(this.lContainer,this.templateTNode.tView.ssrId);return Md(this.hostLView,this.templateTNode,new zm(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Td(e[K],e)}updateValue(e,n){this.getLView(e)[ze].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ze].$index=e}getLView(e){return IF(this.lContainer,e)}};function qn(t){let e=Q(null),n=Ln();try{let r=oe(),i=r[K],o=r[n],s=n+1,a=_d(r,s);if(o.liveCollection===void 0){let l=Wm(i,s);o.liveCollection=new Gm(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(vF(u,t,o.trackByFn,e),u.updateIndexes(),o.hasEmptyBlock){let l=no(),f=u.length===0;if(Bn(r,l,f)){let p=n+2,g=_d(r,p);if(f){let y=Wm(i,p),D=Ub(g,y,r),x=Md(r,y,void 0,{dehydratedView:D});xd(g,x,0,ic(y,D))}else i.firstUpdatePass&&hk(g),Lb(g,0)}}}finally{Q(e)}}function _d(t,e){return t[e]}function _F(t,e){if(t.length<=je)return;let n=je+e,r=t[n],i=r?r[Xi]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[mr];vO(o,i),oo.delete(r[vr]),i.detachedLeaveAnimationFns=void 0}}function EF(t,e){if(t.length<=je)return;let n=je+e,r=t[n],i=r?r[Xi]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function wF(t,e){return sc(t,e)}function IF(t,e){return Fb(t,e)}function Wm(t,e){return Qa(t,e)}function xe(t,e,n){let r=oe(),i=no();if(Bn(r,i,e)){let o=Ze(),s=Zl();Cb(s,r,t,e,r[ke],n)}return xe}function RD(t,e,n,r,i){fy(e,t,n,i?"class":"style",r)}function S(t,e,n,r){let i=oe(),o=i[K],s=t+qe,a=o.firstCreatePass?my(s,i,2,e,dy,ql(),n,r):o.data[s];if(Db(a,i,t,e,CF),os(a)){let u=i[K];Ad(u,i,a),ty(u,a,i)}return r!=null&&Rd(i,a),S}function R(){let t=Ze(),e=Vt(),n=bb(e);return t.firstCreatePass&&yy(t,n),FC(n)&&LC(),OC(),n.classesWithoutHost!=null&&DP(n)&&RD(t,n,oe(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&bP(n)&&RD(t,n,oe(),n.stylesWithoutHost,!1),R}function si(t,e,n,r){return S(t,e,n,r),R(),si}var CF=(t,e,n,r,i)=>(Za(!0),cb(e[ke],r,YC()));function ho(t,e,n){let r=oe(),i=r[K],o=t+qe,s=i.firstCreatePass?my(o,r,8,"ng-container",dy,ql(),e,n):i.data[o];if(Db(s,r,t,"ng-container",DF),os(s)){let a=r[K];Ad(a,r,s),ty(a,s,r)}return n!=null&&Rd(r,s),ho}function po(){let t=Ze(),e=Vt(),n=bb(e);return t.firstCreatePass&&yy(t,n),po}var DF=(t,e,n,r,i)=>(Za(!0),eO(e[ke],""));function Ge(){return oe()}var Xa=void 0;function bF(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var TF=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Xa,Xa,Xa],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",bF],vm={};function Yt(t){let e=SF(t),n=MD(e);if(n)return n;let r=e.split("-")[0];if(n=MD(r),n)return n;if(r==="en")return TF;throw new $(701,!1)}function MD(t){return t in vm||(vm[t]=Ki.ng&&Ki.ng.common&&Ki.ng.common.locales&&Ki.ng.common.locales[t]),vm[t]}var We=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(We||{});function SF(t){return t.toLowerCase().replace(/_/g,"-")}var gc="en-US";var AF=gc;function nT(t){typeof t=="string"&&(AF=t.toLowerCase().replace(/_/g,"-"))}function fe(t,e,n){let r=oe(),i=Ze(),o=Vt();return rT(i,r,r[ke],o,t,e,n),fe}function rT(t,e,n,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=pm(r,e,o),Rk(r,t,e,s,n,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let g=f[p],y=f[p+1];u??=pm(r,e,o),CD(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=pm(r,e,o),CD(r,e,p,i,i,u)}}function H(t=1){return QC(t)}function Fd(t,e,n){return Xk(t,e,n),Fd}function Sy(t){let e=oe(),n=Ze(),r=nm();Kl(r+1);let i=_y(n,r);if(t.dirty&&SC(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=nF(e,r);t.reset(o,VP),t.notifyOnChanges()}return!0}return!1}function Ay(){return Zk(oe(),nm())}function Ry(t){let e=jC();return zg(e,qe+t)}function td(t,e){return t<<17|e<<2}function co(t){return t>>17&32767}function RF(t){return(t&2)==2}function MF(t,e){return t&131071|e<<17}function Km(t){return t|2}function ps(t){return(t&131068)>>2}function _m(t,e){return t&-131069|e<<2}function xF(t){return(t&1)===1}function Qm(t){return t|1}function NF(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=co(s),u=ps(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||es(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let g=co(t[a+1]);t[r+1]=td(g,a),g!==0&&(t[g+1]=_m(t[g+1],r)),t[a+1]=MF(t[a+1],r)}else t[r+1]=td(a,0),a!==0&&(t[a+1]=_m(t[a+1],r)),a=r;else t[r+1]=td(u,0),a===0?a=r:t[u+1]=_m(t[u+1],r),u=r;l&&(t[r+1]=Km(t[r+1])),xD(t,f,r,!0),xD(t,f,r,!1),PF(e,f,t,r,o),s=td(a,u),o?e.classBindings=s:e.styleBindings=s}function PF(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&es(o,e)>=0&&(n[r+1]=Qm(n[r+1]))}function xD(t,e,n,r){let i=t[n+1],o=e===null,s=r?co(i):ps(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];OF(u,e)&&(a=!0,t[s+1]=r?Qm(l):Km(l)),s=r?co(l):ps(l)}a&&(t[n+1]=r?Km(i):Qm(i))}function OF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?es(t,e)>=0:!1}function At(t,e,n){return iT(t,e,n,!1),At}function dt(t,e){return iT(t,e,null,!0),dt}function iT(t,e,n,r){let i=oe(),o=Ze(),s=Gl(2);if(o.firstUpdatePass&&FF(o,t,s,r),e!==Bt&&Bn(i,s,e)){let a=o.data[Ln()];BF(o,a,i,i[ke],t,i[s+1]=HF(e,n),r,s)}}function kF(t,e){return e>=t.expandoStartIndex}function FF(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Ln()],s=kF(t,n);$F(o,r)&&e===null&&!s&&(e=!1),e=LF(i,o,e,r),NF(i,o,e,n,s,r)}}function LF(t,e,n,r){let i=qC(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Em(null,t,e,n,r),n=cc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Em(i,t,e,n,r),o===null){let u=VF(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Em(null,t,e,u[1],r),u=cc(u,e.attrs,r),UF(t,e,r,u))}else o=jF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function VF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ps(r)!==0)return t[co(r)]}function UF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[co(i)]=r}function jF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=cc(r,s,n)}return cc(r,e.attrs,n)}function Em(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=cc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function cc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),yC(t,s,n?!0:e[++o]))}return t===void 0?null:t}function BF(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],f=xF(l)?ND(u,e,n,i,ps(l),s):void 0;if(!Ed(f)){Ed(o)||RF(l)&&(o=ND(u,null,n,i,a,s));let p=$g(Ln(),n);PO(r,s,p,i,o)}}function ND(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,g=n[i+1];g===Bt&&(g=p?qt:void 0);let y=p?jl(g,r):f===r?g:void 0;if(l&&!Ed(y)&&(y=jl(u,r)),Ed(y)&&(a=y,s))return a;let D=t[i+1];i=s?co(D):ps(D)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=jl(u,r))}return a}function Ed(t){return t!==void 0}function HF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=hr(ab(t)))),t}function $F(t,e){return(t.flags&(e?8:16))!==0}function P(t,e=""){let n=oe(),r=Ze(),i=t+qe,o=r.firstCreatePass?Nd(r,i,1,e,null):r.data[i],s=zF(r,n,o,e);n[i]=s,Jl()&&uy(r,n,s,o),cs(o,!1)}var zF=(t,e,n,r)=>(Za(!0),JP(e[ke],r));function qF(t,e,n,r=""){return Bn(t,no(),n)?e+Kr(n)+r:Bt}function GF(t,e,n,r,i,o=""){let s=tm(),a=vy(t,s,n,i);return Gl(2),a?e+Kr(n)+r+Kr(i)+o:Bt}function WF(t,e,n,r,i,o,s,a=""){let u=tm(),l=Ak(t,u,n,i,s);return Gl(3),l?e+Kr(n)+r+Kr(i)+o+Kr(s)+a:Bt}function He(t){return Ht("",t),He}function Ht(t,e,n){let r=oe(),i=qF(r,t,e,n);return i!==Bt&&My(r,Ln(),i),Ht}function Gn(t,e,n,r,i){let o=oe(),s=GF(o,t,e,n,r,i);return s!==Bt&&My(o,Ln(),s),Gn}function Ld(t,e,n,r,i,o,s){let a=oe(),u=WF(a,t,e,n,r,i,o,s);return u!==Bt&&My(a,Ln(),u),Ld}function My(t,e,n){let r=$g(e,t);XP(t[ke],r,n)}function mc(t,e,n){Iy(e)&&(e=e());let r=oe(),i=no();if(Bn(r,i,e)){let o=Ze(),s=Zl();Cb(s,r,t,e,r[ke],n)}return mc}function Vd(t,e){let n=Iy(t);return n&&t.set(e),n}function yc(t,e){let n=oe(),r=Ze(),i=Vt();return rT(r,n,n[ke],i,t,e),yc}function PD(t,e,n){let r=Ze();r.firstCreatePass&&oT(e,r.data,r.blueprint,kn(t),n)}function oT(t,e,n,r,i){if(t=_t(t),Array.isArray(t))for(let o=0;o<t.length;o++)oT(t[o],e,n,r,i);else{let o=Ze(),s=oe(),a=Vt(),u=qi(t)?t:_t(t.provide),l=Vg(t),f=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(qi(t)||!t.multi){let y=new io(l,i,ve,null),D=Im(u,e,i?f:f+g,p);D===-1?(Dm(ld(a,s),o,u),wm(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[D]=y,s[D]=y)}else{let y=Im(u,e,f+g,p),D=Im(u,e,f,f+g),x=y>=0&&n[y],M=D>=0&&n[D];if(i&&!M||!i&&!x){Dm(ld(a,s),o,u);let U=YF(i?QF:KF,n.length,i,r,l,t);!i&&M&&(n[D].providerFactory=U),wm(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(U),s.push(U)}else{let U=sT(n[i?D:y],l,!i&&r);wm(o,t,y>-1?y:D,U)}!i&&r&&M&&n[D].componentProviders++}}}function wm(t,e,n,r){let i=qi(e),o=IC(e);if(i||o){let u=(o?_t(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function sT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Im(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function KF(t,e,n,r,i){return Ym(this.multi,[])}function QF(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=rc(r,r[K],this.providerFactory.index,i);s=u.slice(0,a),Ym(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Ym(o,s);return s}function Ym(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function YF(t,e,n,r,i,o){let s=new io(t,n,ve,null);return s.multi=[],s.index=e,s.componentProviders=0,sT(s,i,r&&!n),s}function Er(t,e){return n=>{n.providersResolver=(r,i)=>PD(r,i?i(t):t,!1),e&&(n.viewProvidersResolver=(r,i)=>PD(r,i?i(e):e,!0))}}function wr(t,e,n,r){return aT(oe(),em(),t,e,n,r)}function ZF(t,e){let n=t[e];return n===Bt?void 0:n}function aT(t,e,n,r,i,o,s){let a=e+n;return vy(t,a,i,o)?Sk(t,a+2,s?r.call(s,i,o):r(i,o)):ZF(t,a+2)}function vc(t,e){let n=Ze(),r,i=t+qe;n.firstCreatePass?(r=JF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=zr(r.type,!0)),s,a=Lt(ve);try{let u=ud(!1),l=o();return ud(u),qg(n,oe(),i,l),l}finally{Lt(a)}}function JF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function _c(t,e,n,r){let i=t+qe,o=oe(),s=zg(o,i);return XF(o,i)?aT(o,em(),e,s.transform,n,r,s):s.transform(n,r)}function XF(t,e){return t[K].data[e].pure}var wd=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},xy=(()=>{class t{compileModuleSync(n){return new md(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Rg(n),o=fb(i.declarations).reduce((s,a)=>{let u=Wr(a);return u&&s.push(new hs(u)),s},[]);return new wd(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var cT=(()=>{class t{applicationErrorHandler=L(In);appRef=L(fo);taskService=L(ei);ngZone=L(Gt);zonelessEnabled=L(Ja);tracing=L(dc,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new mt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ha):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(lm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?eD:sm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ha+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function uT(){return[{provide:Wi,useExisting:cT},{provide:Gt,useClass:$a},{provide:Ja,useValue:!0}]}function eL(){return typeof $localize<"u"&&$localize.locale||gc}var Ec=new z("",{factory:()=>L(Ec,{optional:!0,skipSelf:!0})||eL()});function Zt(t,e){return rl(t,e?.equal)}var dT=Symbol("InputSignalNode#UNSET"),yL=X(F({},il),{transformFn:void 0,applyValueToInputSignal(t,e){Na(t,e)}});function fT(t,e){let n=Object.create(yL);n.value=t,n.transformFn=e?.transform;function r(){if(Ra(n),n.value===dT){let i=null;throw new $(-950,i)}return n.value}return r[kt]=n,r}function lT(t,e){return fT(t,e)}function vL(t){return fT(dT,t)}var hT=(lT.required=vL,lT);var Ny=new z(""),_L=new z("");function wc(t){return!t.moduleRef}function EL(t){let e=wc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Gt);return n.run(()=>{wc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(In),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),wc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Ny);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Ny);s.add(o),t.moduleRef.onDestroy(()=>{tc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return IL(r,n,()=>{let o=e.get(ei),s=o.add(),a=e.get(by);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Ec,gc);if(nT(u||gc),!e.get(_L,!0))return wc(t)?e.get(fo):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(wc(t)){let f=e.get(fo);return t.rootComponent!==void 0&&f.bootstrap(t.rootComponent),f}else return wL?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>{o.remove(s)})})})}var wL;function IL(t,e,n){try{let r=n();return ii(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Ud=null;function CL(t=[],e){return rn.create({name:e,providers:[{provide:Ga,useValue:"platform"},{provide:Ny,useValue:new Set([()=>Ud=null])},...t]})}function DL(t=[]){if(Ud)return Ud;let e=CL(t);return Ud=e,eT(),bL(e),e}function bL(t){let e=t.get(Cd,null);St(t,()=>{e?.forEach(n=>n())})}var TL=1e4;var QZ=TL-1e3;var Ic=(()=>{class t{static __NG_ELEMENT_ID__=SL}return t})();function SL(t){return AL(Vt(),oe(),(t&16)===16)}function AL(t,e,n){if(Jr(t)&&!n){let r=un(t.index,e);return new ti(r,r)}else if(t.type&175){let r=e[Wt];return new ti(r,e)}return null}function pT(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Se(Ee.BootstrapApplicationStart);try{let o=i?.injector??DL(r),s=[uT(),nD,...n||[]],a=new ac({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return EL({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Se(Ee.BootstrapApplicationEnd)}}function jd(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var gT=null;function ln(){return gT}function Oy(t){gT??=t}var Cc=class{},Bd=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>L(mT),providedIn:"platform"})}return t})();var mT=(()=>{class t extends Bd{_location;_history;_doc=L(at);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ln().getBaseHref(this._doc)}onPopState(n){let r=ln().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=ln().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function _T(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function yT(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function ai(t){return t&&t[0]!=="?"?`?${t}`:t}var Hd=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>L(ML),providedIn:"root"})}return t})(),RL=new z(""),ML=(()=>{class t extends Hd{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(at).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return _T(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ai(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ai(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ai(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(se(Bd),se(RL,8))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vs=(()=>{class t{_subject=new it;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=PL(yT(vT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ai(r))}normalize(n){return t.stripTrailingSlash(NL(this._basePath,vT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ai(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ai(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ai;static joinWithSlash=_T;static stripTrailingSlash=yT;static \u0275fac=function(r){return new(r||t)(se(Hd))};static \u0275prov=Z({token:t,factory:()=>xL(),providedIn:"root"})}return t})();function xL(){return new vs(se(Hd))}function NL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function vT(t){return t.replace(/\/index.html$/,"")}function PL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Rt=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(Rt||{}),Ae=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(Ae||{}),$t=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})($t||{}),Cr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function CT(t){return Yt(t)[We.LocaleId]}function DT(t,e,n){let r=Yt(t),i=[r[We.DayPeriodsFormat],r[We.DayPeriodsStandalone]],o=dn(i,e);return dn(o,n)}function bT(t,e,n){let r=Yt(t),i=[r[We.DaysFormat],r[We.DaysStandalone]],o=dn(i,e);return dn(o,n)}function TT(t,e,n){let r=Yt(t),i=[r[We.MonthsFormat],r[We.MonthsStandalone]],o=dn(i,e);return dn(o,n)}function ST(t,e){let r=Yt(t)[We.Eras];return dn(r,e)}function Dc(t,e){let n=Yt(t);return dn(n[We.DateFormat],e)}function bc(t,e){let n=Yt(t);return dn(n[We.TimeFormat],e)}function Tc(t,e){let r=Yt(t)[We.DateTimeFormat];return dn(r,e)}function Sc(t,e){let n=Yt(t),r=n[We.NumberSymbols][e];if(typeof r>"u"){if(e===Cr.CurrencyDecimal)return n[We.NumberSymbols][Cr.Decimal];if(e===Cr.CurrencyGroup)return n[We.NumberSymbols][Cr.Group]}return r}function AT(t){if(!t[We.ExtraData])throw new $(2303,!1)}function RT(t){let e=Yt(t);return AT(e),(e[We.ExtraData][2]||[]).map(r=>typeof r=="string"?ky(r):[ky(r[0]),ky(r[1])])}function MT(t,e,n){let r=Yt(t);AT(r);let i=[r[We.ExtraData][0],r[We.ExtraData][1]],o=dn(i,e)||[];return dn(o,n)||[]}function dn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new $(2304,!1)}function ky(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var OL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$d={},kL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function xT(t,e,n,r){let i=zL(t);e=Ir(n,e)||e;let s=[],a;for(;e;)if(a=kL.exec(e),a){s=s.concat(a.slice(1));let f=s.pop();if(!f)break;e=f}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=PT(r,u),i=$L(i,r));let l="";return s.forEach(f=>{let p=BL(f);l+=p?p(i,n,u):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Kd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Ir(t,e){let n=CT(t);if($d[n]??={},$d[n][e])return $d[n][e];let r="";switch(e){case"shortDate":r=Dc(t,$t.Short);break;case"mediumDate":r=Dc(t,$t.Medium);break;case"longDate":r=Dc(t,$t.Long);break;case"fullDate":r=Dc(t,$t.Full);break;case"shortTime":r=bc(t,$t.Short);break;case"mediumTime":r=bc(t,$t.Medium);break;case"longTime":r=bc(t,$t.Long);break;case"fullTime":r=bc(t,$t.Full);break;case"short":let i=Ir(t,"shortTime"),o=Ir(t,"shortDate");r=zd(Tc(t,$t.Short),[i,o]);break;case"medium":let s=Ir(t,"mediumTime"),a=Ir(t,"mediumDate");r=zd(Tc(t,$t.Medium),[s,a]);break;case"long":let u=Ir(t,"longTime"),l=Ir(t,"longDate");r=zd(Tc(t,$t.Long),[u,l]);break;case"full":let f=Ir(t,"fullTime"),p=Ir(t,"fullDate");r=zd(Tc(t,$t.Full),[f,p]);break}return r&&($d[n][e]=r),r}function zd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function bn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function FL(t,e){return bn(t,3).substring(0,e)}function Je(t,e,n=0,r=!1,i=!1){return function(o,s){let a=LL(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return FL(a,e);let u=Sc(s,Cr.MinusSign);return bn(a,e,u,r,i)}}function LL(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new $(2301,!1)}}function Ne(t,e,n=Rt.Format,r=!1){return function(i,o){return VL(i,o,t,e,n,r)}}function VL(t,e,n,r,i,o){switch(n){case 2:return TT(e,i,r)[t.getMonth()];case 1:return bT(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=RT(e),f=MT(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[y,D]=g,x=s>=y.hours&&a>=y.minutes,M=s<D.hours||s===D.hours&&a<D.minutes;if(y.hours<D.hours){if(x&&M)return!0}else if(x||M)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return f[p]}return DT(e,i,r)[s<12?0:1];case 3:return ST(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new $(2302,!1)}}function qd(t){return function(e,n,r){let i=-1*r,o=Sc(n,Cr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+bn(s,2,o)+bn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+bn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+bn(s,2,o)+":"+bn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+bn(s,2,o)+":"+bn(Math.abs(i%60),2,o);default:throw new $(2310,!1)}}}var UL=0,Wd=4;function jL(t){let e=Kd(t,UL,1).getDay();return Kd(t,0,1+(e<=Wd?Wd:Wd+7)-e)}function NT(t){let e=t.getDay(),n=e===0?-3:Wd-e;return Kd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Fy(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=NT(n),s=jL(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return bn(i,t,Sc(r,Cr.MinusSign))}}function Gd(t,e=!1){return function(n,r){let o=NT(n).getFullYear();return bn(o,t,Sc(r,Cr.MinusSign),e)}}var Ly={};function BL(t){if(Ly[t])return Ly[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ne(3,Ae.Abbreviated);break;case"GGGG":e=Ne(3,Ae.Wide);break;case"GGGGG":e=Ne(3,Ae.Narrow);break;case"y":e=Je(0,1,0,!1,!0);break;case"yy":e=Je(0,2,0,!0,!0);break;case"yyy":e=Je(0,3,0,!1,!0);break;case"yyyy":e=Je(0,4,0,!1,!0);break;case"Y":e=Gd(1);break;case"YY":e=Gd(2,!0);break;case"YYY":e=Gd(3);break;case"YYYY":e=Gd(4);break;case"M":case"L":e=Je(1,1,1);break;case"MM":case"LL":e=Je(1,2,1);break;case"MMM":e=Ne(2,Ae.Abbreviated);break;case"MMMM":e=Ne(2,Ae.Wide);break;case"MMMMM":e=Ne(2,Ae.Narrow);break;case"LLL":e=Ne(2,Ae.Abbreviated,Rt.Standalone);break;case"LLLL":e=Ne(2,Ae.Wide,Rt.Standalone);break;case"LLLLL":e=Ne(2,Ae.Narrow,Rt.Standalone);break;case"w":e=Fy(1);break;case"ww":e=Fy(2);break;case"W":e=Fy(1,!0);break;case"d":e=Je(2,1);break;case"dd":e=Je(2,2);break;case"c":case"cc":e=Je(7,1);break;case"ccc":e=Ne(1,Ae.Abbreviated,Rt.Standalone);break;case"cccc":e=Ne(1,Ae.Wide,Rt.Standalone);break;case"ccccc":e=Ne(1,Ae.Narrow,Rt.Standalone);break;case"cccccc":e=Ne(1,Ae.Short,Rt.Standalone);break;case"E":case"EE":case"EEE":e=Ne(1,Ae.Abbreviated);break;case"EEEE":e=Ne(1,Ae.Wide);break;case"EEEEE":e=Ne(1,Ae.Narrow);break;case"EEEEEE":e=Ne(1,Ae.Short);break;case"a":case"aa":case"aaa":e=Ne(0,Ae.Abbreviated);break;case"aaaa":e=Ne(0,Ae.Wide);break;case"aaaaa":e=Ne(0,Ae.Narrow);break;case"b":case"bb":case"bbb":e=Ne(0,Ae.Abbreviated,Rt.Standalone,!0);break;case"bbbb":e=Ne(0,Ae.Wide,Rt.Standalone,!0);break;case"bbbbb":e=Ne(0,Ae.Narrow,Rt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ne(0,Ae.Abbreviated,Rt.Format,!0);break;case"BBBB":e=Ne(0,Ae.Wide,Rt.Format,!0);break;case"BBBBB":e=Ne(0,Ae.Narrow,Rt.Format,!0);break;case"h":e=Je(3,1,-12);break;case"hh":e=Je(3,2,-12);break;case"H":e=Je(3,1);break;case"HH":e=Je(3,2);break;case"m":e=Je(4,1);break;case"mm":e=Je(4,2);break;case"s":e=Je(5,1);break;case"ss":e=Je(5,2);break;case"S":e=Je(6,1);break;case"SS":e=Je(6,2);break;case"SSS":e=Je(6,3);break;case"Z":case"ZZ":case"ZZZ":e=qd(0);break;case"ZZZZZ":e=qd(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=qd(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=qd(2);break;default:return null}return Ly[t]=e,e}function PT(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function HL(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function $L(t,e,n){let i=t.getTimezoneOffset(),o=PT(e,i);return HL(t,-1*(o-i))}function zL(t){if(ET(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Kd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(OL))return qL(r)}let e=new Date(t);if(!ET(e))throw new $(2311,!1);return e}function qL(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function ET(t){return t instanceof Date&&!isNaN(t.valueOf())}var Vy=/\s+/,wT=[],jy=(()=>{class t{_ngEl;_renderer;initialClasses=wT;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Vy):wT}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Vy):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Vy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(ve($n),ve(ms))};static \u0275dir=Be({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var By=(()=>{class t{_viewContainer;_context=new Qd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){IT(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){IT(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(ve(_r),ve(ni))};static \u0275dir=Be({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Qd=class{$implicit=null;ngIf=null};function IT(t,e){if(t&&!t.createEmbeddedView)throw new $(2020,!1)}var Uy=class{_viewContainerRef;_templateRef;_created=!1;constructor(e,n){this._viewContainerRef=e,this._templateRef=n}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},Yd=(()=>{class t{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let r=n===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let r of this._defaultViews)r.enforceState(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Be({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return t})(),Hy=(()=>{class t{ngSwitch;_view;ngSwitchCase;constructor(n,r,i){this.ngSwitch=i,i._addCase(),this._view=new Uy(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||t)(ve(_r),ve(ni),ve(Yd,9))};static \u0275dir=Be({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return t})();function GL(t,e){return new $(2100,!1)}var WL="mediumDate",OT=new z(""),kT=new z(""),$y=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??WL,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return xT(n,s,o||this.locale,a)}catch(s){throw GL(t,s.message)}}static \u0275fac=function(r){return new(r||t)(ve(Ec,16),ve(OT,24),ve(kT,24))};static \u0275pipe=Ey({name:"date",type:t,pure:!0})}return t})();var Zd=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ri({type:t});static \u0275inj=gr({})}return t})();function zy(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ac=class{};var FT="browser";var Rc=class{_doc;constructor(e){this._doc=e}manager},Jd=(()=>{class t extends Rc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(se(at))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})(),tf=new z(""),Ky=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof Jd));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof Jd);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(se(tf),se(Gt))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})(),qy="ng-app-id";function LT(t){for(let e of t)e.remove()}function VT(t,e){let n=e.createElement("style");return n.textContent=t,n}function YL(t,e,n,r){let i=t.head?.querySelectorAll(`style[${qy}="${e}"],link[${qy}="${e}"]`);if(i)for(let o of i)o.removeAttribute(qy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Wy(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Qy=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,YL(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,VT);r?.forEach(i=>this.addUsage(i,this.external,Wy))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(LT(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])LT(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,VT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Wy(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(se(at),se(Id),se(Dd,8),se(lc))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})(),Gy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Yy=/%COMP%/g;var jT="%COMP%",ZL=`_nghost-${jT}`,JL=`_ngcontent-${jT}`,XL=!0,eV=new z("",{factory:()=>XL});function tV(t){return JL.replace(Yy,t)}function nV(t){return ZL.replace(Yy,t)}function BT(t,e){return e.map(n=>n.replace(Yy,t))}var Zy=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,s,a,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.defaultRenderer=new Mc(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof ef?i.applyToHost(n):i instanceof xc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.tracingService;switch(r.encapsulation){case Dn.Emulated:o=new ef(u,l,r,this.appId,f,s,a,p);break;case Dn.ShadowDom:return new Xd(u,n,r,s,a,this.nonce,p,l);case Dn.ExperimentalIsolatedShadowDom:return new Xd(u,n,r,s,a,this.nonce,p);default:o=new xc(u,l,r,f,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(se(Ky),se(Qy),se(Id),se(eV),se(at),se(Gt),se(Dd),se(dc,8))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})(),Mc=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Gy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(UT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(UT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Gy[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Gy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(jn.DashCase|jn.Important)?e.style.setProperty(n,r,i&jn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&jn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=ln().getGlobalEventTarget(this.doc,e),!e))throw new $(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function UT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Xd=class extends Mc{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,s,a,u){super(e,i,o,a),this.hostEl=n,this.sharedStylesHost=u,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=BT(r.id,l);for(let p of l){let g=document.createElement("style");s&&g.setAttribute("nonce",s),g.textContent=p,this.shadowRoot.appendChild(g)}let f=r.getExternalStyles?.();if(f)for(let p of f){let g=Wy(p,i);s&&g.setAttribute("nonce",s),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},xc=class extends Mc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=u?BT(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&oo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ef=class extends xc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=tV(l),this.hostAttr=nV(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var nf=class t extends Cc{supportsDOMEvents=!0;static makeCurrent(){Oy(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=rV();return n==null?null:iV(n)}resetBaseElement(){Nc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zy(document.cookie,e)}},Nc=null;function rV(){return Nc=Nc||document.head.querySelector("base"),Nc?Nc.getAttribute("href"):null}function iV(t){return new URL(t,document.baseURI).pathname}var oV=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})(),HT=["alt","control","meta","shift"],sV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},$T=(()=>{class t extends Rc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ln().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),HT.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=sV[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),HT.forEach(s=>{if(s!==i){let a=aV[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(se(at))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();async function Jy(t,e,n){let r=F({rootComponent:t},cV(e,n));return pT(r)}function cV(t,e){return{platformRef:e?.platformRef,appProviders:[...hV,...t?.providers??[]],platformProviders:fV}}function uV(){nf.makeCurrent()}function lV(){return new pr}function dV(){return Xm(document),document}var fV=[{provide:lc,useValue:FT},{provide:Cd,useValue:uV,multi:!0},{provide:at,useFactory:dV}];var hV=[{provide:Ga,useValue:"root"},{provide:pr,useFactory:lV},{provide:tf,useClass:Jd,multi:!0},{provide:tf,useClass:$T,multi:!0},Zy,Qy,Ky,{provide:so,useExisting:Zy},{provide:Ac,useClass:oV},[]];var zT=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(se(at))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var re="primary",$c=Symbol("RouteTitle"),rv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Cs(t){return new rv(t)}function Xy(t,e,n){for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(i[0]===":")n[i.substring(1)]=o;else if(i!==o.path)return!1}return!0}function gV(t,e,n){let r=n.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let u={},l=t.slice(0,r.length);return Xy(r,l,u)?{consumed:l,posParams:u}:null}if(i!==r.lastIndexOf("**"))return null;let o=r.slice(0,i),s=r.slice(i+1);if(o.length+s.length>t.length||n.pathMatch==="full"&&e.hasChildren()&&n.path!=="**")return null;let a={};return!Xy(o,t.slice(0,o.length),a)||!Xy(s,t.slice(t.length-s.length),a)?null:{consumed:t,posParams:a}}function uf(t){return new Promise((e,n)=>{t.pipe(lr()).subscribe({next:r=>e(r),error:r=>n(r)})})}function mV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Kn(t[n],e[n]))return!1;return!0}function Kn(t,e){let n=t?iv(t):void 0,r=e?iv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!eS(t[i],e[i]))return!1;return!0}function iv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function eS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function yV(t){return t.length>0?t[t.length-1]:null}function _o(t){return Cl(t)?t:ii(t)?Qe(Promise.resolve(t)):ge(t)}function tS(t){return Cl(t)?uf(t):Promise.resolve(t)}var vV={exact:rS,subset:iS},nS={exact:_V,subset:EV,ignored:()=>!0};function qT(t,e,n){return vV[n.paths](t.root,e.root,n.matrixParams)&&nS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function _V(t,e){return Kn(t,e)}function rS(t,e,n){if(!mo(t.segments,e.segments)||!sf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!rS(t.children[r],e.children[r],n))return!1;return!0}function EV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>eS(t[n],e[n]))}function iS(t,e,n){return oS(t,e,e.segments,n)}function oS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!mo(i,n)||e.hasChildren()||!sf(i,n,r))}else if(t.segments.length===n.length){if(!mo(t.segments,n)||!sf(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!iS(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!mo(t.segments,i)||!sf(t.segments,i,r)||!t.children[re]?!1:oS(t.children[re],e,o,r)}}function sf(t,e,n){return e.every((r,i)=>nS[n](t[i].parameters,r.parameters))}var Qn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new De([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Cs(this.queryParams),this._queryParamMap}toString(){return CV.serialize(this)}},De=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return af(this)}},go=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Cs(this.parameters),this._parameterMap}toString(){return aS(this)}};function wV(t,e){return mo(t,e)&&t.every((n,r)=>Kn(n.parameters,e[r].parameters))}function mo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function IV(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var _f=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>new yo,providedIn:"root"})}return t})(),yo=class{parse(e){let n=new sv(e);return new Qn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Pc(e.root,!0)}`,r=TV(e.queryParams),i=typeof e.fragment=="string"?`#${DV(e.fragment)}`:"";return`${n}${r}${i}`}},CV=new yo;function af(t){return t.segments.map(e=>aS(e)).join("/")}function Pc(t,e){if(!t.hasChildren())return af(t);if(e){let n=t.children[re]?Pc(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==re&&r.push(`${i}:${Pc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=IV(t,(r,i)=>i===re?[Pc(t.children[re],!1)]:[`${i}:${Pc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${af(t)}/${n[0]}`:`${af(t)}/(${n.join("//")})`}}function sS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rf(t){return sS(t).replace(/%3B/gi,";")}function DV(t){return encodeURI(t)}function ov(t){return sS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cf(t){return decodeURIComponent(t)}function GT(t){return cf(t.replace(/\+/g,"%20"))}function aS(t){return`${ov(t.path)}${bV(t.parameters)}`}function bV(t){return Object.entries(t).map(([e,n])=>`;${ov(e)}=${ov(n)}`).join("")}function TV(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${rf(n)}=${rf(i)}`).join("&"):`${rf(n)}=${rf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var SV=/^[^\/()?;#]+/;function ev(t){let e=t.match(SV);return e?e[0]:""}var AV=/^[^\/()?;=#]+/;function RV(t){let e=t.match(AV);return e?e[0]:""}var MV=/^[^=?&#]+/;function xV(t){let e=t.match(MV);return e?e[0]:""}var NV=/^[^&#]+/;function PV(t){let e=t.match(NV);return e?e[0]:""}var sv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new De(e,n)),r}parseSegment(){let e=ev(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new go(cf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=RV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ev(this.remaining);i&&(r=i,this.capture(r))}e[cf(n)]=cf(r)}parseQueryParam(e){let n=xV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=PV(this.remaining);s&&(r=s,this.capture(r))}let i=GT(n),o=GT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ev(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=re);let s=this.parseChildren();n[o??re]=Object.keys(s).length===1&&s[re]?s[re]:new De([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function cS(t){return t.segments.length>0?new De([],{[re]:t}):t}function uS(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=uS(i);if(r===re&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new De(t.segments,e);return OV(n)}function OV(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new De(t.segments.concat(e.segments),e.children)}return t}function Ds(t){return t instanceof Qn}function kV(t,e,n=null,r=null,i=new yo){let o=lS(t);return dS(o,e,n,r,i)}function lS(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new De(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=cS(r);return e??i}function dS(t,e,n,r,i){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return tv(o,o,o,n,r,i);let s=FV(e);if(s.toRoot())return tv(o,o,new De([],{}),n,r,i);let a=LV(s,o,t),u=a.processChildren?kc(a.segmentGroup,a.index,s.commands):hS(a.segmentGroup,a.index,s.commands);return tv(o,a.segmentGroup,u,n,r,i)}function lf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Vc(t){return typeof t=="object"&&t!=null&&t.outlets}function WT(t,e,n){t||="\u0275";let r=new Qn;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function tv(t,e,n,r,i,o){let s={};for(let[l,f]of Object.entries(r??{}))s[l]=Array.isArray(f)?f.map(p=>WT(l,p,o)):WT(l,f,o);let a;t===e?a=n:a=fS(t,e,n);let u=cS(uS(a));return new Qn(u,s,i)}function fS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=fS(o,e,n)}),new De(t.segments,r)}var df=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&lf(r[0]))throw new $(4003,!1);let i=r.find(Vc);if(i&&i!==yV(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function FV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new df(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new df(n,e,r)}var Es=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function LV(t,e,n){if(t.isAbsolute)return new Es(e,!0,0);if(!n)return new Es(e,!1,NaN);if(n.parent===null)return new Es(n,!0,0);let r=lf(t.commands[0])?0:1,i=n.segments.length-1+r;return VV(n,i,t.numberOfDoubleDots)}function VV(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Es(r,!1,i-o)}function UV(t){return Vc(t[0])?t[0].outlets:{[re]:t}}function hS(t,e,n){if(t??=new De([],{}),t.segments.length===0&&t.hasChildren())return kc(t,e,n);let r=jV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new De(t.segments.slice(0,r.pathIndex),{});return o.children[re]=new De(t.segments.slice(r.pathIndex),t.children),kc(o,0,i)}else return r.match&&i.length===0?new De(t.segments,{}):r.match&&!t.hasChildren()?av(t,e,n):r.match?kc(t,0,i):av(t,e,n)}function kc(t,e,n){if(n.length===0)return new De(t.segments,{});{let r=UV(n),i={};if(Object.keys(r).some(o=>o!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let o=kc(t.children[re],e,n);return new De(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=hS(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new De(t.segments,i)}}function jV(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Vc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!QT(u,l,s))return o;r+=2}else{if(!QT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function av(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Vc(o)){let u=BV(o.outlets);return new De(r,u)}if(i===0&&lf(n[0])){let u=t.segments[e];r.push(new go(u.path,KT(n[0]))),i++;continue}let s=Vc(o)?o.outlets[re]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&lf(a)?(r.push(new go(s,KT(a))),i+=2):(r.push(new go(s,{})),i++)}return new De(r,{})}function BV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=av(new De([],{}),0,r))}),e}function KT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function QT(t,e,n){return t==n.path&&Kn(e,n.parameters)}var Fc="imperative",Et=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(Et||{}),fn=class{id;url;constructor(e,n){this.id=e,this.url=n}},bs=class extends fn{type=Et.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ci=class extends fn{urlAfterRedirects;type=Et.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ut=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Ut||{}),ff=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(ff||{}),Sn=class extends fn{reason;code;type=Et.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function pS(t){return t instanceof Sn&&(t.code===Ut.Redirect||t.code===Ut.SupersededByNewNavigation)}var ui=class extends fn{reason;code;type=Et.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Ts=class extends fn{error;target;type=Et.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Uc=class extends fn{urlAfterRedirects;state;type=Et.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cv=class extends fn{urlAfterRedirects;state;type=Et.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uv=class extends fn{urlAfterRedirects;state;shouldActivate;type=Et.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},lv=class extends fn{urlAfterRedirects;state;type=Et.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dv=class extends fn{urlAfterRedirects;state;type=Et.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fv=class{route;type=Et.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hv=class{route;type=Et.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},pv=class{snapshot;type=Et.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gv=class{snapshot;type=Et.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mv=class{snapshot;type=Et.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yv=class{snapshot;type=Et.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ss=class{},As=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function HV(t){return!(t instanceof Ss)&&!(t instanceof As)}var vv=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new zc(this.rootInjector)}},zc=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new vv(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(se(ot))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=_v(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=_v(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ev(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ev(e,this._root).map(n=>n.value)}};function _v(t,e){if(t===e.value)return e;for(let n of e.children){let r=_v(t,n);if(r)return r}return null}function Ev(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Ev(t,n);if(r.length)return r.unshift(e),r}return[]}var Jt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function _s(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var pf=class extends hf{snapshot;constructor(e,n){super(e),this.snapshot=n,Rv(this,e)}toString(){return this.snapshot.toString()}};function gS(t,e){let n=$V(t,e),r=new yt([new go("",{})]),i=new yt({}),o=new yt({}),s=new yt({}),a=new yt(""),u=new vo(r,i,s,a,o,re,t,n.root);return u.snapshot=n.root,new pf(new Jt(u,[]),n)}function $V(t,e){let n={},r={},i={},s=new ws([],n,i,"",r,re,t,null,{},e);return new mf("",new Jt(s,[]))}var vo=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Oe(l=>l[$c]))??ge(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Oe(e=>Cs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Oe(e=>Cs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&yS(i)&&(r.resolve[$c]=i.title),r}var ws=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[$c]}constructor(e,n,r,i,o,s,a,u,l,f){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l,this._environmentInjector=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Cs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Cs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},mf=class extends hf{url;constructor(e,n){super(n),this.url=e,Rv(this,n)}toString(){return mS(this._root)}};function Rv(t,e){e.value._routerState=t,e.children.forEach(n=>Rv(t,n))}function mS(t){let e=t.children.length>0?` { ${t.children.map(mS).join(", ")} } `:"";return`${t.value}${e}`}function nv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Kn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Kn(e.params,n.params)||t.paramsSubject.next(n.params),mV(e.url,n.url)||t.urlSubject.next(n.url),Kn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function wv(t,e){let n=Kn(t.params,e.params)&&wV(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||wv(t.parent,e.parent))}function yS(t){return typeof t.title=="string"||t.title===null}var zV=new z(""),vS=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=re;activateEvents=new Ye;deactivateEvents=new Ye;attachEvents=new Ye;detachEvents=new Ye;routerOutletData=hT();parentContexts=L(zc);location=L(_r);changeDetector=L(Ic);inputBinder=L(Ef,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Iv(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Be({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[uo]})}return t})(),Iv=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===vo?this.route:e===zc?this.childContexts:e===zV?this.outletData:this.parent.get(e,n)}},Ef=new z("");var _S=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=pc({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&si(0,"router-outlet")},dependencies:[vS],encapsulation:2})}return t})();function Mv(t){let e=t.children&&t.children.map(Mv),n=e?X(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=_S),n}function qV(t,e,n){let r=jc(t,e._root,n?n._root:void 0);return new pf(r,e)}function jc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=GV(t,e,n);return new Jt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>jc(t,a)),s}}let r=WV(e.value),i=e.children.map(o=>jc(t,o));return new Jt(r,i)}}function GV(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return jc(t,r,i);return jc(t,r)})}function WV(t){return new vo(new yt(t.url),new yt(t.params),new yt(t.queryParams),new yt(t.fragment),new yt(t.data),t.outlet,t.component,t)}var Bc=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},ES="ngNavigationCancelingError";function yf(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ds(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=wS(!1,Ut.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function wS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[ES]=!0,n.cancellationCode=e,n}function KV(t){return IS(t)&&Ds(t.url)}function IS(t){return!!t&&t[ES]}var Cv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),nv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=_s(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=_s(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=_s(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=_s(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new yv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new gv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(nv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),nv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},vf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Is=class{component;route;constructor(e,n){this.component=e,this.route=n}};function QV(t,e,n){let r=t._root,i=e?e._root:null;return Oc(r,i,n,[r.value])}function YV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ms(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Cg(t)?t:e.get(t):r}function Oc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=_s(e);return t.children.forEach(s=>{ZV(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Lc(a,n.getContext(s),i)),i}function ZV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=JV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new vf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Oc(t,e,a?a.children:null,r,i):Oc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Is(a.outlet.component,s))}else s&&Lc(e,a,i),i.canActivateChecks.push(new vf(r)),o.component?Oc(t,null,a?a.children:null,r,i):Oc(t,null,n,r,i);return i}function JV(t,e,n){if(typeof n=="function")return St(e._environmentInjector,()=>n(t,e));switch(n){case"pathParamsChange":return!mo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!mo(t.url,e.url)||!Kn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wv(t,e)||!Kn(t.queryParams,e.queryParams);default:return!wv(t,e)}}function Lc(t,e,n){let r=_s(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Lc(s,e.children.getContext(o),n):Lc(s,null,n):Lc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Is(e.outlet.component,i)):n.canDeactivateChecks.push(new Is(null,i)):n.canDeactivateChecks.push(new Is(null,i))}function qc(t){return typeof t=="function"}function XV(t){return typeof t=="boolean"}function e2(t){return t&&qc(t.canLoad)}function t2(t){return t&&qc(t.canActivate)}function n2(t){return t&&qc(t.canActivateChild)}function r2(t){return t&&qc(t.canDeactivate)}function i2(t){return t&&qc(t.canMatch)}function CS(t){return t instanceof Hi||t?.name==="EmptyError"}var of=Symbol("INITIAL_VALUE");function Rs(){return dr(t=>rg(t.map(e=>e.pipe(ur(1),sg(of)))).pipe(Oe(e=>{for(let n of e)if(n!==!0){if(n===of)return of;if(n===!1||o2(n))return n}return!0}),cr(e=>e!==of),ur(1)))}function o2(t){return Ds(t)||t instanceof Bc}function DS(t){return t.aborted?ge(void 0).pipe(ur(1)):new ye(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function bS(t){return La(DS(t))}function s2(t){return Ft(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=e;return o.length===0&&i.length===0?ge(X(F({},e),{guardsResult:!0})):a2(o,n,r).pipe(Ft(s=>s&&XV(s)?c2(n,i,t):ge(s)),Oe(s=>X(F({},e),{guardsResult:s})))})}function a2(t,e,n){return Qe(t).pipe(Ft(r=>h2(r.component,r.route,n,e)),lr(r=>r!==!0,!0))}function c2(t,e,n){return Qe(e).pipe(Sl(r=>Yo(l2(r.route.parent,n),u2(r.route,n),f2(t,r.path),d2(t,r.route))),lr(r=>r!==!0,!0))}function u2(t,e){return t!==null&&e&&e(new mv(t)),ge(!0)}function l2(t,e){return t!==null&&e&&e(new pv(t)),ge(!0)}function d2(t,e){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return ge(!0);let r=n.map(i=>ka(()=>{let o=e._environmentInjector,s=Ms(i,o),a=t2(s)?s.canActivate(e,t):St(o,()=>s(e,t));return _o(a).pipe(lr())}));return ge(r).pipe(Rs())}function f2(t,e){let n=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(o=>YV(o)).filter(o=>o!==null).map(o=>ka(()=>{let s=o.guards.map(a=>{let u=o.node._environmentInjector,l=Ms(a,u),f=n2(l)?l.canActivateChild(n,t):St(u,()=>l(n,t));return _o(f).pipe(lr())});return ge(s).pipe(Rs())}));return ge(i).pipe(Rs())}function h2(t,e,n,r){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return ge(!0);let o=i.map(s=>{let a=e._environmentInjector,u=Ms(s,a),l=r2(u)?u.canDeactivate(t,e,n,r):St(a,()=>u(t,e,n,r));return _o(l).pipe(lr())});return ge(o).pipe(Rs())}function p2(t,e,n,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return ge(!0);let s=o.map(a=>{let u=Ms(a,t),l=e2(u)?u.canLoad(e,n):St(t,()=>u(e,n)),f=_o(l);return i?f.pipe(bS(i)):f});return ge(s).pipe(Rs(),TS(r))}function TS(t){return Jp(xn(e=>{if(typeof e!="boolean")throw yf(t,e)}),Oe(e=>e===!0))}function g2(t,e,n,r,i){let o=e.canMatch;if(!o||o.length===0)return ge(!0);let s=o.map(a=>{let u=Ms(a,t),l=i2(u)?u.canMatch(e,n):St(t,()=>u(e,n));return _o(l).pipe(bS(i))});return ge(s).pipe(Rs(),TS(r))}var Dr=class t extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,t.prototype)}},Hc=class t extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,t.prototype)}};function m2(t){throw new $(4e3,!1)}function y2(t){throw wS(!1,Ut.GuardRejected)}var Dv=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[re])throw m2(`${e.redirectTo}`);i=i.children[re]}}async applyRedirectCommands(e,n,r,i,o){let s=await v2(n,i,o);if(s instanceof Qn)throw new Hc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Hc(a);return a}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Qn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new De(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function v2(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:f,title:p,paramMap:g,queryParamMap:y}=e;return uf(_o(St(n,()=>r({params:l,data:f,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p,paramMap:g,queryParamMap:y}))))}function _2(t,e){return t.providers&&!t._injector&&(t._injector=hc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Tn(t){return t.outlet||re}function E2(t,e){let n=t.filter(r=>Tn(r)===e);return n.push(...t.filter(r=>Tn(r)!==e)),n}var bv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function w2(t,e,n,r,i,o){let s=SS(t,e,n);return s.matched?(r=_2(e,r),g2(r,e,n,i,o).pipe(Oe(a=>a===!0?s:F({},bv)))):ge(s)}function SS(t,e,n){if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},bv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||gV)(n,t,e);if(!i)return F({},bv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function YT(t,e,n,r){return n.length>0&&D2(t,n,r)?{segmentGroup:new De(e,C2(r,new De(n,t.children))),slicedSegments:[]}:n.length===0&&b2(t,n,r)?{segmentGroup:new De(t.segments,I2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new De(t.segments,t.children),slicedSegments:n}}function I2(t,e,n,r){let i={};for(let o of n)if(wf(t,e,o)&&!r[Tn(o)]){let s=new De([],{});i[Tn(o)]=s}return F(F({},r),i)}function C2(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&Tn(r)!==re){let i=new De([],{});n[Tn(r)]=i}return n}function D2(t,e,n){return n.some(r=>wf(t,e,r)&&Tn(r)!==re)}function b2(t,e,n){return n.some(r=>wf(t,e,r))}function wf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function T2(t,e,n){return e.length===0&&!t.children[n]}var Tv=class{};async function S2(t,e,n,r,i,o,s="emptyOnly",a){return new Sv(t,e,n,r,i,s,o,a).recognize()}var A2=31,Sv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a,u){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=u,this.applyRedirects=new Dv(this.urlSerializer,this.urlTree)}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}async recognize(){let e=YT(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new Jt(r,n),o=new mf("",i),s=kV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let n=new ws([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,e,re,n),rootSnapshot:n}}catch(r){if(r instanceof Hc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Dr?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,o);let s=await this.processSegment(e,n,r,r.segments,i,!0,o);return s instanceof Jt?[s]:[]}async processChildren(e,n,r,i){let o=[];for(let u of Object.keys(r.children))u==="primary"?o.unshift(u):o.push(u);let s=[];for(let u of o){let l=r.children[u],f=E2(n,u),p=await this.processSegmentGroup(e,f,l,u,i);s.push(...p)}let a=AS(s);return R2(a),a}async processSegment(e,n,r,i,o,s,a){for(let u of n)try{return await this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a)}catch(l){if(l instanceof Dr||CS(l))continue;throw l}if(T2(r,i,o))return new Tv;throw new Dr(r)}async processSegmentAgainstRoute(e,n,r,i,o,s,a,u){if(Tn(r)!==s&&(s===re||!wf(i,o,r)))throw new Dr(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,u);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u);throw new Dr(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:g}=SS(n,i,o);if(!u)throw new Dr(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>A2&&(this.allowRedirects=!1));let y=new ws(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,ZT(i),Tn(i),i.component??i._loadedComponent??null,i,JT(i),e),D=gf(y,a,this.paramsInheritanceStrategy);if(y.params=Object.freeze(D.params),y.data=Object.freeze(D.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let x=await this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,y,e),M=await this.applyRedirects.lineralizeSegments(i,x);return this.processSegment(e,r,n,M.concat(g),s,!1,a)}async matchSegmentAgainstRoute(e,n,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await uf(w2(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new Dr(n);e=r._injector??e;let{routes:u}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:f,consumedSegments:p,remainingSegments:g}=a,y=new ws(p,f,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,ZT(r),Tn(r),r.component??r._loadedComponent??null,r,JT(r),e),D=gf(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(D.params),y.data=Object.freeze(D.data);let{segmentGroup:x,slicedSegments:M}=YT(n,p,g,u);if(M.length===0&&x.hasChildren()){let J=await this.processChildren(l,u,x,y);return new Jt(y,J)}if(u.length===0&&M.length===0)return new Jt(y,[]);let U=Tn(r)===o,q=await this.processSegment(l,u,x,M,U?re:o,!0,y);return new Jt(y,q instanceof Jt?[q]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0){let o=n._loadedNgModuleFactory;return o&&!n._loadedInjector&&(n._loadedInjector=o.create(e).injector),{routes:n._loadedRoutes,injector:n._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await uf(p2(e,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,n._loadedNgModuleFactory=o.factory,o}throw y2(n)}return{routes:[],injector:e}}};function R2(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function M2(t){let e=t.value.routeConfig;return e&&e.path===""}function AS(t){let e=[],n=new Set;for(let r of t){if(!M2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=AS(r.children);e.push(new Jt(r.value,i))}return e.filter(r=>!n.has(r))}function ZT(t){return t.data||{}}function JT(t){return t.resolve||{}}function x2(t,e,n,r,i,o,s){return Ft(async a=>{let{state:u,tree:l}=await S2(t,e,n,r,a.extractedUrl,i,o,s);return X(F({},a),{targetSnapshot:u,urlAfterRedirects:l})})}function N2(t){return Ft(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return ge(e);let i=new Set(r.map(a=>a.route)),o=new Set;for(let a of i)if(!o.has(a))for(let u of RS(a))o.add(u);let s=0;return Qe(o).pipe(Sl(a=>i.has(a)?P2(a,n,t):(a.data=gf(a,a.parent,t).resolve,ge(void 0))),xn(()=>s++),Al(1),Ft(a=>s===o.size?ge(e):vt))})}function RS(t){let e=t.children.map(n=>RS(n)).flat();return[t,...e]}function P2(t,e,n){let r=t.routeConfig,i=t._resolve;return r?.title!==void 0&&!yS(r)&&(i[$c]=r.title),ka(()=>(t.data=gf(t,t.parent,n).resolve,O2(i,t,e).pipe(Oe(o=>(t._resolvedData=o,t.data=F(F({},t.data),o),null)))))}function O2(t,e,n){let r=iv(t);if(r.length===0)return ge({});let i={};return Qe(r).pipe(Ft(o=>k2(t[o],e,n).pipe(lr(),xn(s=>{if(s instanceof Bc)throw yf(new yo,s);i[o]=s}))),Al(1),Oe(()=>i),Fa(o=>CS(o)?vt:ng(o)))}function k2(t,e,n){let r=e._environmentInjector,i=Ms(t,r),o=i.resolve?i.resolve(e,n):St(r,()=>i(e,n));return _o(o)}function XT(t){return dr(e=>{let n=t(e);return n?Qe(n).pipe(Oe(()=>e)):ge(e)})}var MS=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===re);return r}getResolvedTitleForRoute(n){return n.data[$c]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>L(F2),providedIn:"root"})}return t})(),F2=(()=>{class t extends MS{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(se(zT))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),If=new z("",{factory:()=>({})}),Cf=new z(""),xS=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=L(xy);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await tS(St(n,()=>r.loadComponent())),s=await PS(NS(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await L2(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,r._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function L2(t,e,n,r){let i=await tS(St(n,()=>t.loadChildren())),o=await PS(NS(i)),s;o instanceof Od||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(t);let a,u,l=!1,f;return Array.isArray(s)?(u=s,l=!0):(a=s.create(n).injector,f=s,u=a.get(Cf,[],{optional:!0,self:!0}).flat()),{routes:u.map(Mv),injector:a,factory:f}}function V2(t){return t&&typeof t=="object"&&"default"in t}function NS(t){return V2(t)?t.default:t}async function PS(t){return t}var xv=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>L(U2),providedIn:"root"})}return t})(),U2=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),OS=new z("");var j2=()=>{},kS=new z(""),FS=(()=>{class t{currentNavigation=le(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=le(null);events=new it;transitionAbortWithErrorSubject=new it;configLoader=L(xS);environmentInjector=L(ot);destroyRef=L(Vn);urlSerializer=L(_f);rootContexts=L(zc);location=L(vs);inputBindingEnabled=L(Ef,{optional:!0})!==null;titleStrategy=L(MS);options=L(If,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=L(xv);createViewTransition=L(OS,{optional:!0});navigationErrorHandler=L(kS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ge(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new fv(i)),r=i=>this.events.next(new hv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;lt(()=>{this.transitions?.next(X(F({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new yt(null),this.transitions.pipe(cr(r=>r!==null),dr(r=>{let i=!1,o=new AbortController,s=()=>!i&&this.currentTransition?.id===r.id;return ge(r).pipe(dr(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ut.SupersededByNewNavigation),vt;this.currentTransition=r;let u=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:u?X(F({},u),{previousNavigation:null}):null,abort:()=>o.abort()});let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&f!=="reload")return this.events.next(new ui(a.id,this.urlSerializer.serialize(a.rawUrl),"",ff.IgnoredSameUrlNavigation)),a.resolve(!1),vt;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return ge(a).pipe(dr(p=>(this.events.next(new bs(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),p.id!==this.navigationId?vt:Promise.resolve(p))),x2(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),xn(p=>{r.targetSnapshot=p.targetSnapshot,r.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation.update(y=>(y.finalUrl=p.urlAfterRedirects,y));let g=new Uc(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:p,extractedUrl:g,source:y,restoredState:D,extras:x}=a,M=new bs(p,this.urlSerializer.serialize(g),y,D);this.events.next(M);let U=gS(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=X(F({},a),{targetSnapshot:U,urlAfterRedirects:g,extras:X(F({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(q=>(q.finalUrl=g,q)),ge(r)}else return this.events.next(new ui(a.id,this.urlSerializer.serialize(a.extractedUrl),"",ff.IgnoredByUrlHandlingStrategy)),a.resolve(!1),vt}),Oe(a=>{let u=new cv(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(u),this.currentTransition=r=X(F({},a),{guards:QV(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),s2(a=>this.events.next(a)),dr(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw yf(this.urlSerializer,a.guardsResult);let u=new uv(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(u),!s())return vt;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",Ut.GuardRejected),vt;if(a.guards.canActivateChecks.length===0)return ge(a);let l=new lv(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(l),!s())return vt;let f=!1;return ge(a).pipe(N2(this.paramsInheritanceStrategy),xn({next:()=>{f=!0;let p=new dv(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(p)},complete:()=>{f||this.cancelNavigationTransition(a,"",Ut.NoDataFromResolver)}}))}),XT(a=>{let u=f=>{let p=[];if(f.routeConfig?._loadedComponent)f.component=f.routeConfig?._loadedComponent;else if(f.routeConfig?.loadComponent){let g=f._environmentInjector;p.push(this.configLoader.loadComponent(g,f.routeConfig).then(y=>{f.component=y}))}for(let g of f.children)p.push(...u(g));return p},l=u(a.targetSnapshot.root);return l.length===0?ge(a):Qe(Promise.all(l).then(()=>a))}),XT(()=>this.afterPreactivation()),dr(()=>{let{currentSnapshot:a,targetSnapshot:u}=r,l=this.createViewTransition?.(this.environmentInjector,a.root,u.root);return l?Qe(l).pipe(Oe(()=>r)):ge(r)}),ur(1),Oe(a=>{let u=qV(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=X(F({},a),{targetRouterState:u}),this.currentNavigation.update(l=>(l.targetRouterState=u,l)),this.events.next(new Ss),s()&&(new Cv(n.routeReuseStrategy,r.targetRouterState,r.currentRouterState,l=>this.events.next(l),this.inputBindingEnabled).activate(this.rootContexts),s()&&(i=!0,this.currentNavigation.update(l=>(l.abort=j2,l)),this.lastSuccessfulNavigation.set(lt(this.currentNavigation)),this.events.next(new ci(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),La(DS(o.signal).pipe(cr(()=>!i&&!r.targetRouterState),xn(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",Ut.Aborted)}))),xn({complete:()=>{i=!0}}),La(this.transitionAbortWithErrorSubject.pipe(xn(a=>{throw a}))),og(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",Ut.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Fa(a=>{if(i=!0,this.destroyed)return r.resolve(!1),vt;if(IS(a))this.events.next(new Sn(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),KV(a)?this.events.next(new As(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let u=new Ts(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let l=St(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(l instanceof Bc){let{message:f,cancellationCode:p}=yf(this.urlSerializer,l);this.events.next(new Sn(r.id,this.urlSerializer.serialize(r.extractedUrl),f,p)),this.events.next(new As(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(u),a}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return vt}))}))}cancelNavigationTransition(n,r,i){let o=new Sn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=lt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function B2(t){return t!==Fc}var LS=new z("");var H2=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>L($2),providedIn:"root"})}return t})(),Av=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}shouldDestroyInjector(e){return!0}},$2=(()=>{class t extends Av{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Hn(t)))(i||t)}})();static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Nv=(()=>{class t{urlSerializer=L(_f);options=L(If,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=L(vs);urlHandlingStrategy=L(xv);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Qn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Qn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=gS(null,L(ot));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>L(z2),providedIn:"root"})}return t})(),z2=(()=>{class t extends Nv{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof bs?this.updateStateMemento():n instanceof ui?this.commitTransition(r):n instanceof Uc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ss?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Sn&&!pS(n)?this.restoreHistory(r):n instanceof Ts?this.restoreHistory(r,!0):n instanceof ci&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Hn(t)))(i||t)}})();static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function VS(t,e){t.events.pipe(cr(n=>n instanceof ci||n instanceof Sn||n instanceof Ts||n instanceof ui),Oe(n=>n instanceof ci||n instanceof ui?0:(n instanceof Sn?n.code===Ut.Redirect||n.code===Ut.SupersededByNewNavigation:!1)?2:1),cr(n=>n!==2),ur(1)).subscribe(()=>{e()})}var US={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Pv=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=L(wy);stateManager=L(Nv);options=L(If,{optional:!0})||{};pendingTasks=L(ei);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=L(FS);urlSerializer=L(_f);location=L(vs);urlHandlingStrategy=L(xv);injector=L(ot);_events=new it;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=L(H2);injectorCleanup=L(LS,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=L(Cf,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!L(Ef,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new mt;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=lt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Sn&&r.code!==Ut.Redirect&&r.code!==Ut.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ci)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof As){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||B2(i.source)},s);this.scheduleNavigation(a,Fc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}HV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(In)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return lt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Mv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=lS(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return dS(p,n,f,l??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ds(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Fc,null,r)}navigate(n,r={skipLocationChange:!1}){return q2(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Xo(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},US):r===!1?i=F({},jS):i=r,Ds(n))return qT(this.currentUrlTree,n,i);let o=this.parseUrl(n);return qT(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let f=this.pendingTasks.add();return VS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function q2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}var G2=new z("");function Ov(t,...e){return ts([{provide:Cf,multi:!0,useValue:t},[],{provide:vo,useFactory:W2},{provide:kd,multi:!0,useFactory:K2},e.map(n=>n.\u0275providers)])}function W2(){return L(Pv).routerState.root}function K2(){let t=L(rn);return e=>{let n=t.get(fo);if(e!==n.components[0])return;let r=t.get(Pv),i=t.get(Q2);t.get(Y2)===1&&r.initialNavigation(),t.get(Z2,null,{optional:!0})?.setUpPreloading(),t.get(G2,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Q2=new z("",{factory:()=>new it}),Y2=new z("",{factory:()=>1});var Z2=new z("");var BS=[];var HS={providers:[um(),Ov(BS)]};var ZS=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(ve(ms),ve($n))};static \u0275dir=Be({type:t})}return t})(),JS=(()=>{class t extends ZS{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Hn(t)))(i||t)}})();static \u0275dir=Be({type:t,features:[Qt]})}return t})(),Lv=new z("");var X2={provide:Lv,useExisting:on(()=>Nf),multi:!0};function eU(){let t=ln()?ln().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var tU=new z(""),Nf=(()=>{class t extends ZS{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!eU())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(ve(ms),ve($n),ve(tU,8))};static \u0275dir=Be({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&fe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Er([X2]),Qt]})}return t})();function nU(t){return t==null||rU(t)===0}function rU(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Jc=new z(""),XS=new z("");function iU(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function oU(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function sU(t){return nU(t.value)?{required:!0}:null}function $S(t){return null}function eA(t){return t!=null}function tA(t){return ii(t)?Qe(t):t}function nA(t){let e={};return t.forEach(n=>{e=n!=null?F(F({},e),n):e}),Object.keys(e).length===0?null:e}function rA(t,e){return e.map(n=>n(t))}function aU(t){return!t.validate}function iA(t){return t.map(e=>aU(e)?e:n=>e.validate(n))}function cU(t){if(!t)return null;let e=t.filter(eA);return e.length==0?null:function(n){return nA(rA(n,e))}}function Vv(t){return t!=null?cU(iA(t)):null}function uU(t){if(!t)return null;let e=t.filter(eA);return e.length==0?null:function(n){let r=rA(n,e).map(tA);return ig(r).pipe(Oe(nA))}}function Uv(t){return t!=null?uU(iA(t)):null}function zS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function lU(t){return t._rawValidators}function dU(t){return t._rawAsyncValidators}function kv(t){return t?Array.isArray(t)?t:[t]:[]}function bf(t,e){return Array.isArray(t)?t.includes(e):t===e}function qS(t,e){let n=kv(e);return kv(t).forEach(i=>{bf(n,i)||n.push(i)}),n}function GS(t,e){return kv(e).filter(n=>!bf(t,n))}var Tf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Vv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Uv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ps=class extends Tf{name;get formDirective(){return null}get path(){return null}},Zc=class extends Tf{_parent=null;name=null;valueAccessor=null},Sf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var oA=(()=>{class t extends Sf{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ve(Zc,2))};static \u0275dir=Be({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&dt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Qt]})}return t})(),sA=(()=>{class t extends Sf{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ve(Ps,10))};static \u0275dir=Be({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&dt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Qt]})}return t})();var Gc="VALID",Df="INVALID",xs="PENDING",Wc="DISABLED",li=class{},Af=class extends li{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Qc=class extends li{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Yc=class extends li{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Ns=class extends li{status;source;constructor(e,n){super(),this.status=e,this.source=n}},Fv=class extends li{source;constructor(e){super(),this.source=e}},Rf=class extends li{source;constructor(e){super(),this.source=e}};function aA(t){return(Pf(t)?t.validators:t)||null}function fU(t){return Array.isArray(t)?Vv(t):t||null}function cA(t,e){return(Pf(e)?e.asyncValidators:t)||null}function hU(t){return Array.isArray(t)?Uv(t):t||null}function Pf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function pU(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[n])throw new $(1001,"")}function gU(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new $(1002,"")})}var Mf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return lt(this.statusReactive)}set status(e){lt(()=>this.statusReactive.set(e))}_status=Zt(()=>this.statusReactive());statusReactive=le(void 0);get valid(){return this.status===Gc}get invalid(){return this.status===Df}get pending(){return this.status==xs}get disabled(){return this.status===Wc}get enabled(){return this.status!==Wc}errors;get pristine(){return lt(this.pristineReactive)}set pristine(e){lt(()=>this.pristineReactive.set(e))}_pristine=Zt(()=>this.pristineReactive());pristineReactive=le(!0);get dirty(){return!this.pristine}get touched(){return lt(this.touchedReactive)}set touched(e){lt(()=>this.touchedReactive.set(e))}_touched=Zt(()=>this.touchedReactive());touchedReactive=le(!1);get untouched(){return!this.touched}_events=new it;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(GS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(GS(e,this._rawAsyncValidators))}hasValidator(e){return bf(this._rawValidators,e)}hasAsyncValidator(e){return bf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(X(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Yc(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Yc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(X(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Qc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Qc(!0,r))}markAsPending(e={}){this.status=xs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ns(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(X(F({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Wc,this.errors=null,this._forEachChild(i=>{i.disable(X(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Af(this.value,r)),this._events.next(new Ns(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(X(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Gc,this._forEachChild(r=>{r.enable(X(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(X(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gc||this.status===xs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Af(this.value,n)),this._events.next(new Ns(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(X(F({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wc:Gc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=xs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=tA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ns(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Wc:this.errors?Df:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xs)?xs:this._anyControlsHaveStatus(Df)?Df:Gc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Qc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Yc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=fU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=hU(this._rawAsyncValidators)}},xf=class extends Mf{constructor(e,n,r){super(aA(n),cA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){gU(this,!0,e),Object.keys(e).forEach(r=>{pU(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,X(F({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Rf(this))}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var jv=new z("",{factory:()=>Bv}),Bv="always";function mU(t,e){return[...e.path,t]}function uA(t,e,n=Bv){lA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),vU(t,e),EU(t,e),_U(t,e),yU(t,e)}function WS(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function yU(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function lA(t,e){let n=lU(t);e.validator!==null?t.setValidators(zS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=dU(t);e.asyncValidator!==null?t.setAsyncValidators(zS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();WS(e._rawValidators,i),WS(e._rawAsyncValidators,i)}function vU(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&dA(t,e)})}function _U(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&dA(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function dA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function EU(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function wU(t,e){t==null,lA(t,e)}function IU(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function CU(t){return Object.getPrototypeOf(t.constructor)===JS}function DU(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function bU(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Nf?n=o:CU(o)?r=o:i=o}),i||r||n||null}var TU={provide:Ps,useExisting:on(()=>Hv)},Kc=Promise.resolve(),Hv=(()=>{class t extends Ps{callSetDisabledState;get submitted(){return lt(this.submittedReactive)}_submitted=Zt(()=>this.submittedReactive());submittedReactive=le(!1);_directives=new Set;form;ngSubmit=new Ye;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new xf({},Vv(n),Uv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Kc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),uA(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Kc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Kc.then(()=>{let r=this._findContainer(n.path),i=new xf({});wU(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Kc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Kc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),DU(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Fv(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(ve(Jc,10),ve(XS,10),ve(jv,8))};static \u0275dir=Be({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&fe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Er([TU]),Qt]})}return t})();function KS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function QS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var SU=class extends Mf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(aA(n),cA(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(QS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Rf(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){KS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){KS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){QS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var AU={provide:Zc,useExisting:on(()=>$v)},YS=Promise.resolve(),$v=(()=>{class t extends Zc{_changeDetectorRef;callSetDisabledState;control=new SU;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ye;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=bU(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),IU(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){uA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){YS.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&jd(r);YS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?mU(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(ve(Ps,9),ve(Jc,10),ve(XS,10),ve(Lv,10),ve(Ic,8),ve(jv,8))};static \u0275dir=Be({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Er([AU]),Qt,uo]})}return t})();var fA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Be({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),RU={provide:Lv,useExisting:on(()=>zv),multi:!0},zv=(()=>{class t extends JS{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Hn(t)))(i||t)}})();static \u0275dir=Be({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&fe("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Er([RU]),Qt]})}return t})();function hA(t){return typeof t=="number"?t:parseFloat(t)}var qv=(()=>{class t{_validator=$S;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):$S,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Be({type:t,features:[uo]})}return t})(),MU={provide:Jc,useExisting:on(()=>Gv),multi:!0},Gv=(()=>{class t extends qv{max;inputName="max";normalizeInput=n=>hA(n);createValidator=n=>oU(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Hn(t)))(i||t)}})();static \u0275dir=Be({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&oi("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[Er([MU]),Qt]})}return t})(),xU={provide:Jc,useExisting:on(()=>Wv),multi:!0},Wv=(()=>{class t extends qv{min;inputName="min";normalizeInput=n=>hA(n);createValidator=n=>iU(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Hn(t)))(i||t)}})();static \u0275dir=Be({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&oi("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Er([xU]),Qt]})}return t})(),NU={provide:Jc,useExisting:on(()=>Kv),multi:!0};var Kv=(()=>{class t extends qv{required;inputName="required";normalizeInput=jd;createValidator=n=>sU;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Hn(t)))(i||t)}})();static \u0275dir=Be({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&oi("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Er([NU]),Qt]})}return t})();var PU=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ri({type:t});static \u0275inj=gr({})}return t})();var pA=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:jv,useValue:n.callSetDisabledState??Bv}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ri({type:t});static \u0275inj=gr({imports:[PU]})}return t})();var Os={production:!1,firebase:{apiKey:"AIzaSyCD3nmAW337IXqSLeOZhGhTITqzWhZSCr4",authDomain:"bankvocabulary.firebaseapp.com",projectId:"bankvocabulary",appId:"1:87768864379:web:70bfbcaaca6dd55dab74de"},requireEmailVerification:!0};var gA=()=>{};var vA=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},_A={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(n[f],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Yv;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let D=l<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Yv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},FU=function(t){let e=vA(t);return _A.encodeByteArray(e,!0)},eu=function(t){return FU(t).replace(/\./g,"")},kf=function(t){try{return _A.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function EA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var LU=()=>EA().__FIREBASE_DEFAULTS__,VU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&kf(t[1]);return e&&JSON.parse(e)},Ff=()=>{try{return gA()||LU()||VU()||UU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Jv=t=>{var e,n;return(n=(e=Ff())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wA=t=>{let e=Jv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Xv=()=>{var t;return(t=Ff())===null||t===void 0?void 0:t.config},e_=t=>{var e;return(e=Ff())===null||e===void 0?void 0:e[`_${t}`]};var Of=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function di(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lf(t){return(await fetch(t,{credentials:"include"})).ok}function IA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[eu(JSON.stringify(n)),eu(JSON.stringify(s)),""].join(".")}var Xc={};function jU(){let t={prod:[],emulator:[]};for(let e of Object.keys(Xc))Xc[e]?t.emulator.push(e):t.prod.push(e);return t}function BU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var mA=!1;function Vf(t,e){if(typeof window>"u"||typeof document>"u"||!di(window.location.host)||Xc[t]===e||Xc[t]||mA)return;Xc[t]=e;function n(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=jU().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{mA=!0,s()},g}function f(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=BU(r),y=n("text"),D=document.getElementById(y)||document.createElement("span"),x=n("learnmore"),M=document.getElementById(x)||document.createElement("a"),U=n("preprendIcon"),q=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let J=g.element;a(J),f(M,x);let Re=l();u(q,U),J.append(q,D,M,Re),document.body.appendChild(J)}o?(D.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function HU(){var t;let e=(t=Ff())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SA(){let t=ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AA(){return!HU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t_(){try{return typeof indexedDB=="object"}catch{return!1}}function RA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var $U="FirebaseError",Xt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$U,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,br.prototype.create)}},br=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?zU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Xt(i,a,r)}};function zU(t,e){return t.replace(qU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var qU=/\{\$([^}]+)}/g;function MA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yn(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(yA(o)&&yA(s)){if(!Yn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function yA(t){return t!==null&&typeof t=="object"}function tu(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ks(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Fs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function xA(t,e){let n=new Zv(t,e);return n.subscribe.bind(n)}var Zv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qv),i.error===void 0&&(i.error=Qv),i.complete===void 0&&(i.complete=Qv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function GU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qv(){}var Ete=14400*1e3;function Ve(t){return t&&t._delegate?t._delegate:t}var hn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Eo="[DEFAULT]";var n_=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Of;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KU(e))try{this.getOrInitializeService({instanceIdentifier:Eo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Eo){return this.instances.has(e)}getOptions(e=Eo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Eo){return this.component?this.component.multipleInstances?e:Eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function WU(t){return t===Eo?void 0:t}function KU(t){return t.instantiationMode==="EAGER"}var Uf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new n_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var QU=[],he=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(he||{}),YU={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},ZU=he.INFO,JU={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},XU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=JU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},fi=class{constructor(e){this.name=e,this._logLevel=ZU,this._logHandler=XU,this._userLogHandler=null,QU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var ej=(t,e)=>e.some(n=>t instanceof n),NA,PA;function tj(){return NA||(NA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nj(){return PA||(PA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var OA=new WeakMap,i_=new WeakMap,kA=new WeakMap,r_=new WeakMap,s_=new WeakMap;function rj(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Zn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&OA.set(n,t)}).catch(()=>{}),s_.set(e,t),e}function ij(t){if(i_.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});i_.set(t,e)}var o_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return i_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FA(t){o_=t(o_)}function oj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(jf(this),e,...n);return kA.set(r,e.sort?e.sort():[e]),Zn(r)}:nj().includes(t)?function(...e){return t.apply(jf(this),e),Zn(OA.get(this))}:function(...e){return Zn(t.apply(jf(this),e))}}function sj(t){return typeof t=="function"?oj(t):(t instanceof IDBTransaction&&ij(t),ej(t,tj())?new Proxy(t,o_):t)}function Zn(t){if(t instanceof IDBRequest)return rj(t);if(r_.has(t))return r_.get(t);let e=sj(t);return e!==t&&(r_.set(t,e),s_.set(e,t)),e}var jf=t=>s_.get(t);function VA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Zn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Zn(s.result),u.oldVersion,u.newVersion,Zn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var aj=["get","getKey","getAll","getAllKeys","count"],cj=["put","add","delete","clear"],a_=new Map;function LA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(a_.get(e))return a_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=cj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aj.includes(n)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return a_.set(e,o),o}FA(t=>X(F({},t),{get:(e,n,r)=>LA(e,n)||t.get(e,n,r),has:(e,n)=>!!LA(e,n)||t.has(e,n)}));var u_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function uj(t){let e=t.getComponent();return e?.type==="VERSION"}var l_="@firebase/app",UA="0.13.2";var Tr=new fi("@firebase/app"),lj="@firebase/app-compat",dj="@firebase/analytics-compat",fj="@firebase/analytics",hj="@firebase/app-check-compat",pj="@firebase/app-check",gj="@firebase/auth",mj="@firebase/auth-compat",yj="@firebase/database",vj="@firebase/data-connect",_j="@firebase/database-compat",Ej="@firebase/functions",wj="@firebase/functions-compat",Ij="@firebase/installations",Cj="@firebase/installations-compat",Dj="@firebase/messaging",bj="@firebase/messaging-compat",Tj="@firebase/performance",Sj="@firebase/performance-compat",Aj="@firebase/remote-config",Rj="@firebase/remote-config-compat",Mj="@firebase/storage",xj="@firebase/storage-compat",Nj="@firebase/firestore",Pj="@firebase/ai",Oj="@firebase/firestore-compat",kj="firebase",Fj="11.10.0";var d_="[DEFAULT]",Lj={[l_]:"fire-core",[lj]:"fire-core-compat",[fj]:"fire-analytics",[dj]:"fire-analytics-compat",[pj]:"fire-app-check",[hj]:"fire-app-check-compat",[gj]:"fire-auth",[mj]:"fire-auth-compat",[yj]:"fire-rtdb",[vj]:"fire-data-connect",[_j]:"fire-rtdb-compat",[Ej]:"fire-fn",[wj]:"fire-fn-compat",[Ij]:"fire-iid",[Cj]:"fire-iid-compat",[Dj]:"fire-fcm",[bj]:"fire-fcm-compat",[Tj]:"fire-perf",[Sj]:"fire-perf-compat",[Aj]:"fire-rc",[Rj]:"fire-rc-compat",[Mj]:"fire-gcs",[xj]:"fire-gcs-compat",[Nj]:"fire-fst",[Oj]:"fire-fst-compat",[Pj]:"fire-vertex","fire-js":"fire-js",[kj]:"fire-js-all"};var Bf=new Map,Vj=new Map,f_=new Map;function jA(t,e){try{t.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pi(t){let e=t.name;if(f_.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;f_.set(e,t);for(let n of Bf.values())jA(n,t);for(let n of Vj.values())jA(n,t);return!0}function ru(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function en(t){return t==null?!1:t.settings!==void 0}var Uj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hi=new br("app","Firebase",Uj);var h_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}};var gi=Fj;function iu(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:d_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw hi.create("bad-app-name",{appName:String(i)});if(n||(n=Xv()),!n)throw hi.create("no-options");let o=Bf.get(i);if(o){if(Yn(n,o.options)&&Yn(r,o.config))return o;throw hi.create("duplicate-app",{appName:i})}let s=new Uf(i);for(let u of f_.values())s.addComponent(u);let a=new h_(n,r,s);return Bf.set(i,a),a}function Ls(t=d_){let e=Bf.get(t);if(!e&&t===d_&&Xv())return iu();if(!e)throw hi.create("no-app",{appName:t});return e}function An(t,e,n){var r;let i=(r=Lj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(a.join(" "));return}pi(new hn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var jj="firebase-heartbeat-database",Bj=1,nu="firebase-heartbeat-store",c_=null;function zA(){return c_||(c_=VA(jj,Bj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(t=>{throw hi.create("idb-open",{originalErrorMessage:t.message})})),c_}async function Hj(t){try{let n=(await zA()).transaction(nu),r=await n.objectStore(nu).get(qA(t));return await n.done,r}catch(e){if(e instanceof Xt)Tr.warn(e.message);else{let n=hi.create("idb-get",{originalErrorMessage:e?.message});Tr.warn(n.message)}}}async function BA(t,e){try{let r=(await zA()).transaction(nu,"readwrite");await r.objectStore(nu).put(e,qA(t)),await r.done}catch(n){if(n instanceof Xt)Tr.warn(n.message);else{let r=hi.create("idb-set",{originalErrorMessage:n?.message});Tr.warn(r.message)}}}function qA(t){return`${t.name}!${t.options.appId}`}var $j=1024,zj=30,p_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new g_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=HA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>zj){let s=Gj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Tr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=HA(),{heartbeatsToSend:r,unsentEntries:i}=qj(this._heartbeatsCache.heartbeats),o=eu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Tr.warn(n),""}}};function HA(){return new Date().toISOString().substring(0,10)}function qj(t,e=$j){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),$A(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$A(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var g_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t_()?RA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await Hj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return BA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return BA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function $A(t){return eu(JSON.stringify({version:2,heartbeats:t})).length}function Gj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Wj(t){pi(new hn("platform-logger",e=>new u_(e),"PRIVATE")),pi(new hn("heartbeat",e=>new p_(e),"PRIVATE")),An(l_,UA,t),An(l_,UA,"esm2017"),An("fire-js","")}Wj("");var Kj="firebase",Qj="11.10.0";An(Kj,Qj,"app");function cR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var uR=cR,lR=new br("auth","Firebase",cR());var Wf=new fi("@firebase/auth");function Yj(t,...e){Wf.logLevel<=he.WARN&&Wf.warn(`Auth (${gi}): ${t}`,...e)}function $f(t,...e){Wf.logLevel<=he.ERROR&&Wf.error(`Auth (${gi}): ${t}`,...e)}function Xn(t,...e){throw U_(t,...e)}function wo(t,...e){return U_(t,...e)}function dR(t,e,n){let r=Object.assign(Object.assign({},uR()),{[e]:n});return new br("auth","Firebase",r).create(e,{appName:t.name})}function vi(t){return dR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function U_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lR.create(t,...e)}function G(t,e,...n){if(!t)throw U_(e,...n)}function Sr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw $f(e),new Error(e)}function _i(t,e){t||Sr(e)}function __(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Zj(){return GA()==="http:"||GA()==="https:"}function GA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Jj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zj()||bA()||"connection"in navigator)?navigator.onLine:!0}function Xj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Io=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,_i(n>e,"Short delay should be less than long delay!"),this.isMobile=CA()||TA()}get(){return Jj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function j_(t,e){_i(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Kf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var eB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var tB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nB=new Io(3e4,6e4);function Ei(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rr(t,e,n,r,i={}){return fR(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=tu(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let l=Object.assign({method:e,headers:u},o);return DA()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&di(t.emulatorConfig.host)&&(l.credentials="include"),Kf.fetch()(await hR(t,t.config.apiHost,n,a),l)})}async function fR(t,e,n){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},eB),e);try{let i=new E_(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Hf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hf(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Hf(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Hf(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw dR(t,f,l);Xn(t,f)}}catch(i){if(i instanceof Xt)throw i;Xn(t,"network-request-failed",{message:String(i)})}}async function oh(t,e,n,r,i={}){let o=await Rr(t,e,n,r,i);return"mfaPendingCredential"in o&&Xn(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function hR(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?j_(t.config,i):`${t.config.apiScheme}://${i}`;return tB.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function rB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var E_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wo(this.auth,"network-request-failed")),nB.get())})}};function Hf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=wo(t,e,r);return i.customData._tokenResponse=n,i}function WA(t){return t!==void 0&&t.enterprise!==void 0}var w_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function iB(t,e){return Rr(t,"GET","/v2/recaptchaConfig",Ei(t,e))}async function oB(t,e){return Rr(t,"POST","/v1/accounts:delete",e)}async function Qf(t,e){return Rr(t,"POST","/v1/accounts:lookup",e)}function su(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pR(t,e=!1){let n=Ve(t),r=await n.getIdToken(e),i=B_(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:su(m_(i.auth_time)),issuedAtTime:su(m_(i.iat)),expirationTime:su(m_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function m_(t){return Number(t)*1e3}function B_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $f("JWT malformed, contained fewer than 3 sections"),null;try{let i=kf(n);return i?JSON.parse(i):($f("Failed to decode base64 JWT payload"),null)}catch(i){return $f("Caught error parsing JWT payload as JSON",i?.toString()),null}}function KA(t){let e=B_(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function cu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xt&&sB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function sB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var I_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var uu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Yf(t){var e;let n=t.auth,r=await t.getIdToken(),i=await cu(t,Qf(n,{idToken:r}));G(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?mR(o.providerUserInfo):[],a=aB(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new uu(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function gR(t){let e=Ve(t);await Yf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mR(t){return t.map(e=>{var{providerId:n}=e,r=tg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function cB(t,e){let n=await fR(t,{},async()=>{let r=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await hR(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&di(t.emulatorConfig.host)&&(u.credentials="include"),Kf.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uB(t,e){return Rr(t,"POST","/v2/accounts:revokeToken",Ei(t,e))}var au=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){G(e.length!==0,"internal-error");let n=KA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await cB(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(G(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(G(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Sr("not implemented")}};function mi(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var yi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=tg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new I_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new uu(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let n=await cu(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pR(this,e)}reload(){return gR(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject(vi(this.auth));let e=await this.getIdToken();return await cu(this,oB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,D=(s=n.photoURL)!==null&&s!==void 0?s:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,U=(l=n.createdAt)!==null&&l!==void 0?l:void 0,q=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:J,emailVerified:Re,isAnonymous:Nt,providerData:Te,stsTokenManager:I}=n;G(J&&I,e,"internal-error");let v=au.fromJSON(this.name,I);G(typeof J=="string",e,"internal-error"),mi(p,e.name),mi(g,e.name),G(typeof Re=="boolean",e,"internal-error"),G(typeof Nt=="boolean",e,"internal-error"),mi(y,e.name),mi(D,e.name),mi(x,e.name),mi(M,e.name),mi(U,e.name),mi(q,e.name);let E=new t({uid:J,auth:e,email:g,emailVerified:Re,displayName:p,isAnonymous:Nt,photoURL:D,phoneNumber:y,tenantId:x,stsTokenManager:v,createdAt:U,lastLoginAt:q});return Te&&Array.isArray(Te)&&(E.providerData=Te.map(w=>Object.assign({},w))),M&&(E._redirectEventId=M),E}static async _fromIdTokenResponse(e,n,r=!1){let i=new au;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yf(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];G(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?mR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new au;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new uu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var QA=new Map;function Ar(t){_i(t instanceof Function,"Expected a class definition");let e=QA.get(t);return e?(_i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QA.set(t,e),e)}var lB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),C_=lB;function zf(t,e,n){return`firebase:${t}:${e}:${n}`}var Zf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=zf(this.userKey,i.apiKey,o),this.fullPersistenceKey=zf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await Qf(this.auth,{idToken:e}).catch(()=>{});return n?yi._fromGetAccountInfoResponse(this.auth,n,e):null}return yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(Ar(C_),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||Ar(C_),s=zf(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let f=await l._get(s);if(f){let p;if(typeof f=="string"){let g=await Qf(e,{idToken:f}).catch(()=>{});if(!g)break;p=await yi._fromGetAccountInfoResponse(e,g,f)}else p=yi._fromJSON(e,f);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new t(o,e,r))}};function YA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ER(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IR(e))return"Blackberry";if(CR(e))return"Webos";if(vR(e))return"Safari";if((e.includes("chrome/")||_R(e))&&!e.includes("edge/"))return"Chrome";if(wR(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function yR(t=ft()){return/firefox\//i.test(t)}function vR(t=ft()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _R(t=ft()){return/crios\//i.test(t)}function ER(t=ft()){return/iemobile/i.test(t)}function wR(t=ft()){return/android/i.test(t)}function IR(t=ft()){return/blackberry/i.test(t)}function CR(t=ft()){return/webos/i.test(t)}function H_(t=ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dB(t=ft()){var e;return H_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fB(){return SA()&&document.documentMode===10}function DR(t=ft()){return H_(t)||wR(t)||CR(t)||IR(t)||/windows phone/i.test(t)||ER(t)}function bR(t,e=[]){let n;switch(t){case"Browser":n=YA(ft());break;case"Worker":n=`${YA(ft())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gi}/${r}`}var D_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function hB(t,e={}){return Rr(t,"GET","/v2/passwordPolicy",Ei(t,e))}var pB=6,b_=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:pB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var T_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jf(this),this.idTokenSubscription=new Jf(this),this.beforeStateQueue=new D_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ar(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Zf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await Qf(this,{idToken:e}),r=await yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(en(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(en(this.app))return Promise.reject(vi(this));let n=e?Ve(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject(vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return en(this.app)?Promise.reject(vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await hB(this),n=new b_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new br("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&Ar(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=await Zf.create(this,[Ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&Yj(`Error while retrieving App Check token: ${n.error}`),n?.token}};function Vs(t){return Ve(t)}var Jf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=xA(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gB(t){sh=t}function TR(t){return sh.loadJS(t)}function mB(){return sh.recaptchaEnterpriseScript}function yB(){return sh.gapiScript}function SR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var S_=class{constructor(){this.enterprise=new A_}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},A_=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var vB="recaptcha-enterprise",AR="NO_RECAPTCHA",R_=class{constructor(e){this.type=vB,this.auth=Vs(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{iB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new w_(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})})}function i(o,s,a){let u=window.grecaptcha;WA(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(AR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new S_().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&WA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=mB();u.length!==0&&(u+=a),TR(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}};async function ou(t,e,n,r=!1,i=!1){let o=new R_(t),s;if(i)s=AR;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ZA(t,e,n,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=await ou(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=await ou(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=await ou(t,e,n);return r(t,a).catch(async u=>{var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let f=await ou(t,e,n,!1,!0);return r(t,f)}return Promise.reject(u)})}else{let a=await ou(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}function RR(t,e){let n=ru(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Yn(o,e??{}))return i;Xn(i,"already-initialized")}return n.initialize({options:e})}function _B(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ar);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function MR(t,e,n){let r=Vs(t);G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=xR(e),{host:s,port:a}=EB(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},f=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){G(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),G(Yn(l,r.config.emulator)&&Yn(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,di(s)?(Lf(`${o}//${s}${u}`),Vf("Auth",!0)):i||wB()}function xR(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EB(t){let e=xR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:JA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:JA(s)}}}function JA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function wB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var lu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,n){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}};async function IB(t,e){return Rr(t,"POST","/v1/accounts:signUp",e)}async function CB(t,e){return oh(t,"POST","/v1/accounts:signInWithPassword",Ei(t,e))}async function DB(t,e){return Rr(t,"POST","/v1/accounts:sendOobCode",Ei(t,e))}async function bB(t,e){return DB(t,e)}async function TB(t,e){return oh(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))}async function SB(t,e){return oh(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))}var du=class t extends lu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ZA(e,n,"signInWithPassword",CB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return TB(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ZA(e,r,"signUpPassword",IB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return SB(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function y_(t,e){return oh(t,"POST","/v1/accounts:signInWithIdp",Ei(t,e))}function AB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RB(t){let e=ks(Fs(t)).link,n=e?ks(Fs(e)).deep_link_id:null,r=ks(Fs(t)).deep_link_id;return(r?ks(Fs(r)).link:null)||r||n||e||t}var Xf=class t{constructor(e){var n,r,i,o,s,a;let u=ks(Fs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,p=AB((i=u.mode)!==null&&i!==void 0?i:null);G(l&&f&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=f,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=RB(e);try{return new t(n)}catch{return null}}};var NR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return du._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Xf.parseLink(r);return G(i,"argument-error"),du._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),eh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var M_=class extends eh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var fu=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){let o=await yi._fromIdTokenResponse(e,r,i),s=XA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let i=XA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function XA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var x_=class t extends Xt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function PR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?x_._fromErrorAndOperation(t,o,e,r):o})}async function MB(t,e,n=!1){let r=await cu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fu._forOperation(t,"link",r)}async function xB(t,e,n=!1){let{auth:r}=t;if(en(r.app))return Promise.reject(vi(r));let i="reauthenticate";try{let o=await cu(t,PR(r,i,e,t),n);G(o.idToken,r,"internal-error");let s=B_(o.idToken);G(s,r,"internal-error");let{sub:a}=s;return G(t.uid===a,r,"user-mismatch"),fu._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Xn(r,"user-mismatch"),o}}async function OR(t,e,n=!1){if(en(t.app))return Promise.reject(vi(t));let r="signIn",i=await PR(t,r,e),o=await fu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function kR(t,e){return OR(Vs(t),e)}function NB(t,e,n){var r;G(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),G(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),G(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(G(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(G(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}async function PB(t){let e=Vs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function $_(t,e,n){return en(t.app)?Promise.reject(vi(t)):kR(Ve(t),NR.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&PB(t),r})}async function z_(t,e){let n=Ve(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&NB(n.auth,i,e);let{email:o}=await bB(n.auth,i);o!==t.email&&await t.reload()}function q_(t,e){return Ve(t).setPersistence(e)}function FR(t,e,n,r){return Ve(t).onIdTokenChanged(e,n,r)}function LR(t,e,n){return Ve(t).beforeAuthStateChanged(e,n)}function G_(t,e,n,r){return Ve(t).onAuthStateChanged(e,n,r)}function W_(t){return Ve(t).signOut()}var th="__sak";var nh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var OB=1e3,kB=10,FB=(()=>{class t extends nh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);fB()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,kB):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},OB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return t.type="LOCAL",t})(),ah=FB;var LB=(()=>{class t extends nh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),K_=LB;function VB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var UB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async f=>f(r.origin,s)),l=await VB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function VR(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var N_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=VR("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function Jn(){return window}function jB(t){Jn().location.href=t}function UR(){return typeof Jn().WorkerGlobalScope<"u"&&typeof Jn().importScripts=="function"}async function BB(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HB(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $B(){return UR()?self:null}var jR="firebaseLocalStorageDb",zB=1,rh="firebaseLocalStorage",BR="fbase_key",Co=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ch(t,e){return t.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function qB(){let t=indexedDB.deleteDatabase(jR);return new Co(t).toPromise()}function P_(){let t=indexedDB.open(jR,zB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(rh,{keyPath:BR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(rh)?e(r):(r.close(),await qB(),e(await P_()))})})}async function eR(t,e,n){let r=ch(t,!0).put({[BR]:e,value:n});return new Co(r).toPromise()}async function GB(t,e){let n=ch(t,!1).get(e),r=await new Co(n).toPromise();return r===void 0?null:r.value}function tR(t,e){let n=ch(t,!0).delete(e);return new Co(n).toPromise()}var WB=800,KB=3,QB=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await P_(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>KB)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=UB._getInstance($B()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await BB(),!this.activeServiceWorker)return;this.sender=new N_(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||HB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await P_();return await eR(n,th,"1"),await tR(n,th),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>eR(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>GB(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tR(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(o=>{let s=ch(o,!1).getAll();return new Co(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),HR=QB;var Kte=SR("rcb"),Qte=new Io(3e4,6e4);function YB(t,e){return e?Ar(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var hu=class extends lu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return y_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return y_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return y_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function ZB(t){return OR(t.auth,new hu(t),t.bypassAuthState)}function JB(t){let{auth:e,user:n}=t;return G(n,e,"internal-error"),xB(n,new hu(t),t.bypassAuthState)}async function XB(t){let{auth:e,user:n}=t;return G(n,e,"internal-error"),MB(n,new hu(t),t.bypassAuthState)}var O_=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZB;case"linkViaPopup":case"linkViaRedirect":return XB;case"reauthViaPopup":case"reauthViaRedirect":return JB;default:Xn(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Yte=new Io(2e3,1e4);var e4="pendingRedirect",qf=new Map,k_=class extends O_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qf.get(this.auth._key());if(!e){try{let r=await t4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qf.set(this.auth._key(),e)}return this.bypassAuthState||qf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function t4(t,e){let n=i4(e),r=r4(t);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function n4(t,e){qf.set(t._key(),e)}function r4(t){return Ar(t._redirectPersistence)}function i4(t){return zf(e4,t.config.apiKey,t.name)}async function o4(t,e,n=!1){if(en(t.app))return Promise.reject(vi(t));let r=Vs(t),i=YB(r,e),s=await new k_(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var s4=600*1e3,F_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$R(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s4&&this.cachedEventUids.clear(),this.cachedEventUids.has(nR(e))}saveEventToCache(e){this.cachedEventUids.add(nR(e)),this.lastProcessedEventTime=Date.now()}};function nR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $R({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function a4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $R(t);default:return!1}}async function c4(t,e={}){return Rr(t,"GET","/v1/projects",e)}var u4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l4=/^https?/;async function d4(t){if(t.config.emulator)return;let{authorizedDomains:e}=await c4(t);for(let n of e)try{if(f4(n))return}catch{}Xn(t,"unauthorized-domain")}function f4(t){let e=__(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!l4.test(n))return!1;if(u4.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var h4=new Io(3e4,6e4);function rR(){let t=Jn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function p4(t){return new Promise((e,n)=>{var r,i,o;function s(){rR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rR(),n(wo(t,"network-request-failed"))},timeout:h4.get()})}if(!((i=(r=Jn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Jn().gapi)===null||o===void 0)&&o.load)s();else{let a=SR("iframefcb");return Jn()[a]=()=>{gapi.load?s():n(wo(t,"network-request-failed"))},TR(`${yB()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Gf=null,e})}var Gf=null;function g4(t){return Gf=Gf||p4(t),Gf}var m4=new Io(5e3,15e3),y4="__/auth/iframe",v4="emulator/auth/iframe",_4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w4(t){let e=t.config;G(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?j_(e,v4):`https://${t.config.authDomain}/${y4}`,r={apiKey:e.apiKey,appName:t.name,v:gi},i=E4.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${tu(r).slice(1)}`}async function I4(t){let e=await g4(t),n=Jn().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:w4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_4,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=wo(t,"network-request-failed"),a=Jn().setTimeout(()=>{o(s)},m4.get());function u(){Jn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var C4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D4=500,b4=600,T4="_blank",S4="http://localhost",ih=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function A4(t,e,n,r=D4,i=b4){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},C4),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ft().toLowerCase();n&&(a=_R(l)?T4:n),yR(l)&&(e=e||S4,u.scrollbars="yes");let f=Object.entries(u).reduce((g,[y,D])=>`${g}${y}=${D},`,"");if(dB(l)&&a!=="_self")return R4(e||"",a),new ih(null);let p=window.open(e||"",a,f);G(p,t,"popup-blocked");try{p.focus()}catch{}return new ih(p)}function R4(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var M4="__/auth/handler",x4="emulator/auth/handler",N4=encodeURIComponent("fac");async function iR(t,e,n,r,i,o){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:gi,eventId:i};if(e instanceof eh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",MA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof M_){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let u=await t._getAppCheckToken(),l=u?`#${N4}=${encodeURIComponent(u)}`:"";return`${P4(t)}?${tu(a).slice(1)}${l}`}function P4({config:t}){return t.emulator?j_(t,x4):`https://${t.authDomain}/${M4}`}var v_="webStorageSupport",L_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K_,this._completeRedirectFn=o4,this._overrideRedirectResult=n4}async _openPopup(e,n,r,i){var o;_i((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=await iR(e,n,r,__(),i);return A4(e,s,VR())}async _openRedirect(e,n,r,i){await this._originValidation(e);let o=await iR(e,n,r,__(),i);return jB(o),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(_i(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await I4(e),r=new F_(e);return n.register("authEvent",i=>(G(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(v_,{type:v_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[v_];s!==void 0&&n(!!s),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DR()||vR()||H_()}},zR=L_;var oR="@firebase/auth",sR="1.10.8";var V_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function O4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k4(t){pi(new hn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;G(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bR(t)},l=new T_(r,i,o,u);return _B(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pi(new hn("auth-internal",e=>{let n=Vs(e.getProvider("auth").getImmediate());return(r=>new V_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),An(oR,sR,O4(t)),An(oR,sR,"esm2017")}var F4=300,L4=e_("authIdTokenMaxAge")||F4,aR=null,V4=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>L4)return;let i=n?.token;aR!==i&&(aR=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Q_(t=Ls()){let e=ru(t,"auth");if(e.isInitialized())return e.getImmediate();let n=RR(t,{popupRedirectResolver:zR,persistence:[HR,ah,K_]}),r=e_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=V4(o.toString());LR(n,s,()=>s(n.currentUser)),FR(n,a=>s(a))}}let i=Jv("auth");return i&&MR(n,`http://${i}`),n}function U4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}gB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=wo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",U4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k4("Browser");var uh=class t{app;auth;user=le(null);loading=le(!0);error=le(null);verifying=le(!1);constructor(){this.app=iu(Os.firebase),this.auth=Q_(this.app),q_(this.auth,ah),G_(this.auth,e=>{this.user.set(e),this.loading.set(!1)}),us(()=>{this.error()})}async signIn(e,n){this.error.set(null),await $_(this.auth,e,n)}async sendVerification(){let e=this.auth.currentUser;if(e){this.verifying.set(!0);try{await z_(e)}finally{this.verifying.set(!1)}}}async logout(){await W_(this.auth)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})};var qR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},GR={};var Mr,Y_;(function(){var t;function e(I,v){function E(){}E.prototype=v.prototype,I.D=v.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(w,C,T){for(var _=Array(arguments.length-2),or=2;or<arguments.length;or++)_[or-2]=arguments[or];return v.prototype[C].apply(w,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,E){E||(E=0);var w=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)w[C]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(C=0;16>C;++C)w[C]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=I.g[0],E=I.g[1],C=I.g[2];var T=I.g[3],_=v+(T^E&(C^T))+w[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=T+(C^v&(E^C))+w[1]+3905402710&4294967295,T=v+(_<<12&4294967295|_>>>20),_=C+(E^T&(v^E))+w[2]+606105819&4294967295,C=T+(_<<17&4294967295|_>>>15),_=E+(v^C&(T^v))+w[3]+3250441966&4294967295,E=C+(_<<22&4294967295|_>>>10),_=v+(T^E&(C^T))+w[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=T+(C^v&(E^C))+w[5]+1200080426&4294967295,T=v+(_<<12&4294967295|_>>>20),_=C+(E^T&(v^E))+w[6]+2821735955&4294967295,C=T+(_<<17&4294967295|_>>>15),_=E+(v^C&(T^v))+w[7]+4249261313&4294967295,E=C+(_<<22&4294967295|_>>>10),_=v+(T^E&(C^T))+w[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=T+(C^v&(E^C))+w[9]+2336552879&4294967295,T=v+(_<<12&4294967295|_>>>20),_=C+(E^T&(v^E))+w[10]+4294925233&4294967295,C=T+(_<<17&4294967295|_>>>15),_=E+(v^C&(T^v))+w[11]+2304563134&4294967295,E=C+(_<<22&4294967295|_>>>10),_=v+(T^E&(C^T))+w[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=T+(C^v&(E^C))+w[13]+4254626195&4294967295,T=v+(_<<12&4294967295|_>>>20),_=C+(E^T&(v^E))+w[14]+2792965006&4294967295,C=T+(_<<17&4294967295|_>>>15),_=E+(v^C&(T^v))+w[15]+1236535329&4294967295,E=C+(_<<22&4294967295|_>>>10),_=v+(C^T&(E^C))+w[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^C&(v^E))+w[6]+3225465664&4294967295,T=v+(_<<9&4294967295|_>>>23),_=C+(v^E&(T^v))+w[11]+643717713&4294967295,C=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(C^T))+w[0]+3921069994&4294967295,E=C+(_<<20&4294967295|_>>>12),_=v+(C^T&(E^C))+w[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^C&(v^E))+w[10]+38016083&4294967295,T=v+(_<<9&4294967295|_>>>23),_=C+(v^E&(T^v))+w[15]+3634488961&4294967295,C=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(C^T))+w[4]+3889429448&4294967295,E=C+(_<<20&4294967295|_>>>12),_=v+(C^T&(E^C))+w[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^C&(v^E))+w[14]+3275163606&4294967295,T=v+(_<<9&4294967295|_>>>23),_=C+(v^E&(T^v))+w[3]+4107603335&4294967295,C=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(C^T))+w[8]+1163531501&4294967295,E=C+(_<<20&4294967295|_>>>12),_=v+(C^T&(E^C))+w[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^C&(v^E))+w[2]+4243563512&4294967295,T=v+(_<<9&4294967295|_>>>23),_=C+(v^E&(T^v))+w[7]+1735328473&4294967295,C=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(C^T))+w[12]+2368359562&4294967295,E=C+(_<<20&4294967295|_>>>12),_=v+(E^C^T)+w[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^C)+w[8]+2272392833&4294967295,T=v+(_<<11&4294967295|_>>>21),_=C+(T^v^E)+w[11]+1839030562&4294967295,C=T+(_<<16&4294967295|_>>>16),_=E+(C^T^v)+w[14]+4259657740&4294967295,E=C+(_<<23&4294967295|_>>>9),_=v+(E^C^T)+w[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^C)+w[4]+1272893353&4294967295,T=v+(_<<11&4294967295|_>>>21),_=C+(T^v^E)+w[7]+4139469664&4294967295,C=T+(_<<16&4294967295|_>>>16),_=E+(C^T^v)+w[10]+3200236656&4294967295,E=C+(_<<23&4294967295|_>>>9),_=v+(E^C^T)+w[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^C)+w[0]+3936430074&4294967295,T=v+(_<<11&4294967295|_>>>21),_=C+(T^v^E)+w[3]+3572445317&4294967295,C=T+(_<<16&4294967295|_>>>16),_=E+(C^T^v)+w[6]+76029189&4294967295,E=C+(_<<23&4294967295|_>>>9),_=v+(E^C^T)+w[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^C)+w[12]+3873151461&4294967295,T=v+(_<<11&4294967295|_>>>21),_=C+(T^v^E)+w[15]+530742520&4294967295,C=T+(_<<16&4294967295|_>>>16),_=E+(C^T^v)+w[2]+3299628645&4294967295,E=C+(_<<23&4294967295|_>>>9),_=v+(C^(E|~T))+w[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~C))+w[7]+1126891415&4294967295,T=v+(_<<10&4294967295|_>>>22),_=C+(v^(T|~E))+w[14]+2878612391&4294967295,C=T+(_<<15&4294967295|_>>>17),_=E+(T^(C|~v))+w[5]+4237533241&4294967295,E=C+(_<<21&4294967295|_>>>11),_=v+(C^(E|~T))+w[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~C))+w[3]+2399980690&4294967295,T=v+(_<<10&4294967295|_>>>22),_=C+(v^(T|~E))+w[10]+4293915773&4294967295,C=T+(_<<15&4294967295|_>>>17),_=E+(T^(C|~v))+w[1]+2240044497&4294967295,E=C+(_<<21&4294967295|_>>>11),_=v+(C^(E|~T))+w[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~C))+w[15]+4264355552&4294967295,T=v+(_<<10&4294967295|_>>>22),_=C+(v^(T|~E))+w[6]+2734768916&4294967295,C=T+(_<<15&4294967295|_>>>17),_=E+(T^(C|~v))+w[13]+1309151649&4294967295,E=C+(_<<21&4294967295|_>>>11),_=v+(C^(E|~T))+w[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~C))+w[11]+3174756917&4294967295,T=v+(_<<10&4294967295|_>>>22),_=C+(v^(T|~E))+w[2]+718787259&4294967295,C=T+(_<<15&4294967295|_>>>17),_=E+(T^(C|~v))+w[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(C+(_<<21&4294967295|_>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+T&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var E=v-this.blockSize,w=this.B,C=this.h,T=0;T<v;){if(C==0)for(;T<=E;)i(this,I,T),T+=this.blockSize;if(typeof I=="string"){for(;T<v;)if(w[C++]=I.charCodeAt(T++),C==this.blockSize){i(this,w),C=0;break}}else for(;T<v;)if(w[C++]=I[T++],C==this.blockSize){i(this,w),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var E=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=E&255,E/=256;for(this.u(I),I=Array(16),v=E=0;4>v;++v)for(var w=0;32>w;w+=8)I[E++]=this.g[v]>>>w&255;return I};function o(I,v){var E=a;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=v(I)}function s(I,v){this.h=v;for(var E=[],w=!0,C=I.length-1;0<=C;C--){var T=I[C]|0;w&&T==v||(E[C]=T,w=!1)}this.g=E}var a={};function u(I){return-128<=I&&128>I?o(I,function(v){return new s([v|0],0>v?-1:0)}):new s([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return M(l(-I));for(var v=[],E=1,w=0;I>=E;w++)v[w]=I/E|0,E*=4294967296;return new s(v,0)}function f(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return M(f(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),w=p,C=0;C<I.length;C+=8){var T=Math.min(8,I.length-C),_=parseInt(I.substring(C,C+T),v);8>T?(T=l(Math.pow(v,T)),w=w.j(T).add(l(_))):(w=w.j(E),w=w.add(l(_)))}return w}var p=u(0),g=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(x(this))return-M(this).m();for(var I=0,v=1,E=0;E<this.g.length;E++){var w=this.i(E);I+=(0<=w?w:4294967296+w)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D(this))return"0";if(x(this))return"-"+M(this).toString(I);for(var v=l(Math.pow(I,6)),E=this,w="";;){var C=Re(E,v).g;E=U(E,C.j(v));var T=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=C,D(E))return T+w;for(;6>T.length;)T="0"+T;w=T+w}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function D(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function x(I){return I.h==-1}t.l=function(I){return I=U(this,I),x(I)?-1:D(I)?0:1};function M(I){for(var v=I.g.length,E=[],w=0;w<v;w++)E[w]=~I.g[w];return new s(E,~I.h).add(g)}t.abs=function(){return x(this)?M(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],w=0,C=0;C<=v;C++){var T=w+(this.i(C)&65535)+(I.i(C)&65535),_=(T>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);w=_>>>16,T&=65535,_&=65535,E[C]=_<<16|T}return new s(E,E[E.length-1]&-2147483648?-1:0)};function U(I,v){return I.add(M(v))}t.j=function(I){if(D(this)||D(I))return p;if(x(this))return x(I)?M(this).j(M(I)):M(M(this).j(I));if(x(I))return M(this.j(M(I)));if(0>this.l(y)&&0>I.l(y))return l(this.m()*I.m());for(var v=this.g.length+I.g.length,E=[],w=0;w<2*v;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var C=0;C<I.g.length;C++){var T=this.i(w)>>>16,_=this.i(w)&65535,or=I.i(C)>>>16,la=I.i(C)&65535;E[2*w+2*C]+=_*la,q(E,2*w+2*C),E[2*w+2*C+1]+=T*la,q(E,2*w+2*C+1),E[2*w+2*C+1]+=_*or,q(E,2*w+2*C+1),E[2*w+2*C+2]+=T*or,q(E,2*w+2*C+2)}for(w=0;w<v;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=v;w<2*v;w++)E[w]=0;return new s(E,0)};function q(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function J(I,v){this.g=I,this.h=v}function Re(I,v){if(D(v))throw Error("division by zero");if(D(I))return new J(p,p);if(x(I))return v=Re(M(I),v),new J(M(v.g),M(v.h));if(x(v))return v=Re(I,M(v)),new J(M(v.g),v.h);if(30<I.g.length){if(x(I)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var E=g,w=v;0>=w.l(I);)E=Nt(E),w=Nt(w);var C=Te(E,1),T=Te(w,1);for(w=Te(w,2),E=Te(E,2);!D(w);){var _=T.add(w);0>=_.l(I)&&(C=C.add(E),T=_),w=Te(w,1),E=Te(E,1)}return v=U(I,C.j(v)),new J(C,v)}for(C=p;0<=I.l(v);){for(E=Math.max(1,Math.floor(I.m()/v.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),T=l(E),_=T.j(v);x(_)||0<_.l(I);)E-=w,T=l(E),_=T.j(v);D(T)&&(T=g),C=C.add(T),I=U(I,_)}return new J(C,I)}t.A=function(I){return Re(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)&I.i(w);return new s(E,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)|I.i(w);return new s(E,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)^I.i(w);return new s(E,this.h^I.h)};function Nt(I){for(var v=I.g.length+1,E=[],w=0;w<v;w++)E[w]=I.i(w)<<1|I.i(w-1)>>>31;return new s(E,I.h)}function Te(I,v){var E=v>>5;v%=32;for(var w=I.g.length-E,C=[],T=0;T<w;T++)C[T]=0<v?I.i(T+E)>>>v|I.i(T+E+1)<<32-v:I.i(T+E);return new s(C,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Y_=GR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Mr=GR.Integer=s}).apply(typeof qR<"u"?qR:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xr={};var Z_,j4,Us,J_,pu,dh,X_,eE,tE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,h){return c==Array.prototype||c==Object.prototype||(c[d]=h.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var b=c[m];if(!(b in h))break e;h=h[b]}c=c[c.length-1],m=h[c],d=d(m),d!=m&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var h=0,m=!1,b={next:function(){if(!m&&h<c.length){var A=h++;return{value:d(A,c[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,h){return h})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function f(c,d,h){return c.call.apply(c.bind,arguments)}function p(c,d,h){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,m),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function g(c,d,h){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function y(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function D(c,d){function h(){}h.prototype=d.prototype,c.aa=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Qb=function(m,b,A){for(var V=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)V[Me-2]=arguments[Me];return d.prototype[b].apply(m,V)}}function x(c){let d=c.length;if(0<d){let h=Array(d);for(let m=0;m<d;m++)h[m]=c[m];return h}return[]}function M(c,d){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(u(m)){let b=c.length||0,A=m.length||0;c.length=b+A;for(let V=0;V<A;V++)c[b+V]=m[V]}else c.push(m)}}class U{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function q(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Re(c){return Re[" "](c),c}Re[" "]=function(){};var Nt=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function Te(c,d,h){for(let m in c)d.call(h,c[m],m,c)}function I(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function v(c){let d={};for(let h in c)d[h]=c[h];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let h,m;for(let b=1;b<arguments.length;b++){m=arguments[b];for(h in m)c[h]=m[h];for(let A=0;A<E.length;A++)h=E[A],Object.prototype.hasOwnProperty.call(m,h)&&(c[h]=m[h])}}function C(c){var d=1;c=c.split(":");let h=[];for(;0<d&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function T(c){a.setTimeout(()=>{throw c},0)}function _(){var c=ap;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class or{constructor(){this.h=this.g=null}add(d,h){let m=la.get();m.set(d,h),this.h?this.h.next=m:this.g=m,this.h=m}}var la=new U(()=>new gN,c=>c.reset());class gN{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let da,fa=!1,ap=new or,ww=()=>{let c=a.Promise.resolve(void 0);da=()=>{c.then(mN)}};var mN=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(h){T(h)}var d=la;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}fa=!1};function Ur(){this.s=this.s,this.C=this.C}Ur.prototype.s=!1,Ur.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ur.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function It(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}It.prototype.h=function(){this.defaultPrevented=!0};var yN=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};a.addEventListener("test",h,d),a.removeEventListener("test",h,d)}catch{}return c})();function ha(c,d){if(It.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var h=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Nt){e:{try{Re(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:vN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ha.aa.h.call(this)}}D(ha,It);var vN={2:"touch",3:"pen",4:"mouse"};ha.prototype.h=function(){ha.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pa="closure_listenable_"+(1e6*Math.random()|0),_N=0;function EN(c,d,h,m,b){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!m,this.ha=b,this.key=++_N,this.da=this.fa=!1}function Lu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Vu(c){this.src=c,this.g={},this.h=0}Vu.prototype.add=function(c,d,h,m,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var V=up(c,d,m,b);return-1<V?(d=c[V],h||(d.fa=!1)):(d=new EN(d,this.src,A,!!m,b),d.fa=h,c.push(d)),d};function cp(c,d){var h=d.type;if(h in c.g){var m=c.g[h],b=Array.prototype.indexOf.call(m,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(m,b,1),A&&(Lu(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function up(c,d,h,m){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==m)return b}return-1}var lp="closure_lm_"+(1e6*Math.random()|0),dp={};function Iw(c,d,h,m,b){if(m&&m.once)return Dw(c,d,h,m,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)Iw(c,d[A],h,m,b);return null}return h=gp(h),c&&c[pa]?c.K(d,h,l(m)?!!m.capture:!!m,b):Cw(c,d,h,!1,m,b)}function Cw(c,d,h,m,b,A){if(!d)throw Error("Invalid event type");var V=l(b)?!!b.capture:!!b,Me=hp(c);if(Me||(c[lp]=Me=new Vu(c)),h=Me.add(d,h,m,V,A),h.proxy)return h;if(m=wN(),h.proxy=m,m.src=c,m.listener=h,c.addEventListener)yN||(b=V),b===void 0&&(b=!1),c.addEventListener(d.toString(),m,b);else if(c.attachEvent)c.attachEvent(Tw(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function wN(){function c(h){return d.call(c.src,c.listener,h)}let d=IN;return c}function Dw(c,d,h,m,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)Dw(c,d[A],h,m,b);return null}return h=gp(h),c&&c[pa]?c.L(d,h,l(m)?!!m.capture:!!m,b):Cw(c,d,h,!0,m,b)}function bw(c,d,h,m,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)bw(c,d[A],h,m,b);else m=l(m)?!!m.capture:!!m,h=gp(h),c&&c[pa]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],h=up(A,h,m,b),-1<h&&(Lu(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=hp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=up(d,h,m,b)),(h=-1<c?d[c]:null)&&fp(h))}function fp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[pa])cp(d.i,c);else{var h=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(h,m,c.capture):d.detachEvent?d.detachEvent(Tw(h),m):d.addListener&&d.removeListener&&d.removeListener(m),(h=hp(d))?(cp(h,c),h.h==0&&(h.src=null,d[lp]=null)):Lu(c)}}}function Tw(c){return c in dp?dp[c]:dp[c]="on"+c}function IN(c,d){if(c.da)c=!0;else{d=new ha(d,this);var h=c.listener,m=c.ha||c.src;c.fa&&fp(c),c=h.call(m,d)}return c}function hp(c){return c=c[lp],c instanceof Vu?c:null}var pp="__closure_events_fn_"+(1e9*Math.random()>>>0);function gp(c){return typeof c=="function"?c:(c[pp]||(c[pp]=function(d){return c.handleEvent(d)}),c[pp])}function Ct(){Ur.call(this),this.i=new Vu(this),this.M=this,this.F=null}D(Ct,Ur),Ct.prototype[pa]=!0,Ct.prototype.removeEventListener=function(c,d,h,m){bw(this,c,d,h,m)};function Pt(c,d){var h,m=c.F;if(m)for(h=[];m;m=m.F)h.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new It(d,c);else if(d instanceof It)d.target=d.target||c;else{var b=d;d=new It(m,c),w(d,b)}if(b=!0,h)for(var A=h.length-1;0<=A;A--){var V=d.g=h[A];b=Uu(V,m,!0,d)&&b}if(V=d.g=c,b=Uu(V,m,!0,d)&&b,b=Uu(V,m,!1,d)&&b,h)for(A=0;A<h.length;A++)V=d.g=h[A],b=Uu(V,m,!1,d)&&b}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var h=c.g[d],m=0;m<h.length;m++)Lu(h[m]);delete c.g[d],c.h--}}this.F=null},Ct.prototype.K=function(c,d,h,m){return this.i.add(String(c),d,!1,h,m)},Ct.prototype.L=function(c,d,h,m){return this.i.add(String(c),d,!0,h,m)};function Uu(c,d,h,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var V=d[A];if(V&&!V.da&&V.capture==h){var Me=V.listener,gt=V.ha||V.src;V.fa&&cp(c.i,V),b=Me.call(gt,m)!==!1&&b}}return b&&!m.defaultPrevented}function Sw(c,d,h){if(typeof c=="function")h&&(c=g(c,h));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Aw(c){c.g=Sw(()=>{c.g=null,c.i&&(c.i=!1,Aw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class CN extends Ur{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Aw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ga(c){Ur.call(this),this.h=c,this.g={}}D(ga,Ur);var Rw=[];function Mw(c){Te(c.g,function(d,h){this.g.hasOwnProperty(h)&&fp(d)},c),c.g={}}ga.prototype.N=function(){ga.aa.N.call(this),Mw(this)},ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mp=a.JSON.stringify,DN=a.JSON.parse,bN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function yp(){}yp.prototype.h=null;function xw(c){return c.h||(c.h=c.i())}function Nw(){}var ma={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vp(){It.call(this,"d")}D(vp,It);function _p(){It.call(this,"c")}D(_p,It);var Oi={},Pw=null;function ju(){return Pw=Pw||new Ct}Oi.La="serverreachability";function Ow(c){It.call(this,Oi.La,c)}D(Ow,It);function ya(c){let d=ju();Pt(d,new Ow(d))}Oi.STAT_EVENT="statevent";function kw(c,d){It.call(this,Oi.STAT_EVENT,c),this.stat=d}D(kw,It);function Ot(c){let d=ju();Pt(d,new kw(d,c))}Oi.Ma="timingevent";function Fw(c,d){It.call(this,Oi.Ma,c),this.size=d}D(Fw,It);function va(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function _a(){this.g=!0}_a.prototype.xa=function(){this.g=!1};function TN(c,d,h,m,b,A){c.info(function(){if(c.g)if(A)for(var V="",Me=A.split("&"),gt=0;gt<Me.length;gt++){var _e=Me[gt].split("=");if(1<_e.length){var Dt=_e[0];_e=_e[1];var bt=Dt.split("_");V=2<=bt.length&&bt[1]=="type"?V+(Dt+"="+_e+"&"):V+(Dt+"=redacted&")}}else V=null;else V=A;return"XMLHTTP REQ ("+m+") [attempt "+b+"]: "+d+`
`+h+`
`+V})}function SN(c,d,h,m,b,A,V){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+b+"]: "+d+`
`+h+`
`+A+" "+V})}function Vo(c,d,h,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+RN(c,h)+(m?" "+m:"")})}function AN(c,d){c.info(function(){return"TIMEOUT: "+d})}_a.prototype.info=function(){};function RN(c,d){if(!c.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(c=0;c<h.length;c++)if(Array.isArray(h[c])){var m=h[c];if(!(2>m.length)){var b=m[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var V=1;V<b.length;V++)b[V]=""}}}}return mp(h)}catch{return d}}var Bu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ep;function Hu(){}D(Hu,yp),Hu.prototype.g=function(){return new XMLHttpRequest},Hu.prototype.i=function(){return{}},Ep=new Hu;function jr(c,d,h,m){this.j=c,this.i=d,this.l=h,this.R=m||1,this.U=new ga(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vw}function Vw(){this.i=null,this.g="",this.h=!1}var Uw={},wp={};function Ip(c,d,h){c.L=1,c.v=Gu(sr(d)),c.m=h,c.P=!0,jw(c,null)}function jw(c,d){c.F=Date.now(),$u(c),c.A=sr(c.v);var h=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),eI(h.i,"t",m),c.C=0,h=c.j.J,c.h=new Vw,c.g=vI(c.j,h?d:null,!c.m),0<c.O&&(c.M=new CN(g(c.Y,c,c.g),c.O)),d=c.U,h=c.g,m=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(Rw[0]=b.toString()),b=Rw);for(var A=0;A<b.length;A++){var V=Iw(h,b[A],m||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ya(),TN(c.i,c.u,c.A,c.l,c.R,c.m)}jr.prototype.ca=function(c){c=c.target;let d=this.M;d&&ar(c)==3?d.j():this.Y(c)},jr.prototype.Y=function(c){try{if(c==this.g)e:{let bt=ar(this.g);var d=this.g.Ba();let Bo=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||aI(this.g)))){this.J||bt!=4||d==7||(d==8||0>=Bo?ya(3):ya(2)),Cp(this);var h=this.g.Z();this.X=h;t:if(Bw(this)){var m=aI(this.g);c="";var b=m.length,A=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),Ea(this);var V="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(A&&d==b-1)});m.length=0,this.h.g+=c,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=h==200,SN(this.i,this.u,this.A,this.l,this.R,bt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,gt=this.g;if((Me=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Me)){var _e=Me;break t}}_e=null}if(h=_e)Vo(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dp(this,h);else{this.o=!1,this.s=3,Ot(12),ki(this),Ea(this);break e}}if(this.P){h=!0;let mn;for(;!this.J&&this.C<V.length;)if(mn=MN(this,V),mn==wp){bt==4&&(this.s=4,Ot(14),h=!1),Vo(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Uw){this.s=4,Ot(15),Vo(this.i,this.l,V,"[Invalid Chunk]"),h=!1;break}else Vo(this.i,this.l,mn,null),Dp(this,mn);if(Bw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||V.length!=0||this.h.h||(this.s=1,Ot(16),h=!1),this.o=this.o&&h,!h)Vo(this.i,this.l,V,"[Invalid Chunked Response]"),ki(this),Ea(this);else if(0<V.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),Mp(Dt),Dt.M=!0,Ot(11))}}else Vo(this.i,this.l,V,null),Dp(this,V);bt==4&&ki(this),this.o&&!this.J&&(bt==4?pI(this.j,this):(this.o=!1,$u(this)))}else WN(this.g),h==400&&0<V.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),ki(this),Ea(this)}}}catch{}};function Bw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function MN(c,d){var h=c.C,m=d.indexOf(`
`,h);return m==-1?wp:(h=Number(d.substring(h,m)),isNaN(h)?Uw:(m+=1,m+h>d.length?wp:(d=d.slice(m,m+h),c.C=m+h,d)))}jr.prototype.cancel=function(){this.J=!0,ki(this)};function $u(c){c.S=Date.now()+c.I,Hw(c,c.I)}function Hw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=va(g(c.ba,c),d)}function Cp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}jr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(AN(this.i,this.A),this.L!=2&&(ya(),Ot(17)),ki(this),this.s=2,Ea(this)):Hw(this,this.S-c)};function Ea(c){c.j.G==0||c.J||pI(c.j,c)}function ki(c){Cp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Mw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Dp(c,d){try{var h=c.j;if(h.G!=0&&(h.g==c||bp(h.h,c))){if(!c.K&&bp(h.h,c)&&h.G==3){try{var m=h.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var b=m;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<c.F)Zu(h),Qu(h);else break e;Rp(h),Ot(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=va(g(h.Za,h),6e3));if(1>=qw(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Li(h,11)}else if((c.K||h.g==c)&&Zu(h),!q(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let _e=b[d];if(h.T=_e[0],_e=_e[1],h.G==2)if(_e[0]=="c"){h.K=_e[1],h.ia=_e[2];let Dt=_e[3];Dt!=null&&(h.la=Dt,h.j.info("VER="+h.la));let bt=_e[4];bt!=null&&(h.Aa=bt,h.j.info("SVER="+h.Aa));let Bo=_e[5];Bo!=null&&typeof Bo=="number"&&0<Bo&&(m=1.5*Bo,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let mn=c.g;if(mn){let Xu=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xu){var A=m.h;A.g||Xu.indexOf("spdy")==-1&&Xu.indexOf("quic")==-1&&Xu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Tp(A,A.h),A.h=null))}if(m.D){let xp=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;xp&&(m.ya=xp,Pe(m.I,m.D,xp))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-c.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var V=c;if(m.qa=yI(m,m.J?m.ia:null,m.W),V.K){Gw(m.h,V);var Me=V,gt=m.L;gt&&(Me.I=gt),Me.B&&(Cp(Me),$u(Me)),m.g=V}else fI(m);0<h.i.length&&Yu(h)}else _e[0]!="stop"&&_e[0]!="close"||Li(h,7);else h.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Li(h,7):Ap(h):_e[0]!="noop"&&h.l&&h.l.ta(_e),h.v=0)}}ya(4)}catch{}}var xN=class{constructor(c,d){this.g=c,this.map=d}};function $w(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function qw(c){return c.h?1:c.g?c.g.size:0}function bp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Tp(c,d){c.g?c.g.add(d):c.h=d}function Gw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}$w.prototype.cancel=function(){if(this.i=Ww(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Ww(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.D);return d}return x(c.i)}function NN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],h=c.length,m=0;m<h;m++)d.push(c[m]);return d}d=[],h=0;for(m in c)d[h++]=c[m];return d}function PN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var h=0;h<c;h++)d.push(h);return d}d=[],h=0;for(let m in c)d[h++]=m;return d}}}function Kw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var h=PN(c),m=NN(c),b=m.length,A=0;A<b;A++)d.call(void 0,m[A],h&&h[A],c)}var Qw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ON(c,d){if(c){c=c.split("&");for(var h=0;h<c.length;h++){var m=c[h].indexOf("="),b=null;if(0<=m){var A=c[h].substring(0,m);b=c[h].substring(m+1)}else A=c[h];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Fi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Fi){this.h=c.h,zu(this,c.j),this.o=c.o,this.g=c.g,qu(this,c.s),this.l=c.l;var d=c.i,h=new Ca;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Yw(this,h),this.m=c.m}else c&&(d=String(c).match(Qw))?(this.h=!1,zu(this,d[1]||"",!0),this.o=wa(d[2]||""),this.g=wa(d[3]||"",!0),qu(this,d[4]),this.l=wa(d[5]||"",!0),Yw(this,d[6]||"",!0),this.m=wa(d[7]||"")):(this.h=!1,this.i=new Ca(null,this.h))}Fi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ia(d,Zw,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ia(d,Zw,!0),"@"),c.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&c.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(Ia(h,h.charAt(0)=="/"?LN:FN,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",Ia(h,UN)),c.join("")};function sr(c){return new Fi(c)}function zu(c,d,h){c.j=h?wa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function qu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Yw(c,d,h){d instanceof Ca?(c.i=d,jN(c.i,c.h)):(h||(d=Ia(d,VN)),c.i=new Ca(d,c.h))}function Pe(c,d,h){c.i.set(d,h)}function Gu(c){return Pe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ia(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,kN),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function kN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Zw=/[#\/\?@]/g,FN=/[#\?:]/g,LN=/[#\?]/g,VN=/[#\?@]/g,UN=/#/g;function Ca(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Br(c){c.g||(c.g=new Map,c.h=0,c.i&&ON(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Ca.prototype,t.add=function(c,d){Br(this),this.i=null,c=Uo(this,c);var h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function Jw(c,d){Br(c),d=Uo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Xw(c,d){return Br(c),d=Uo(c,d),c.g.has(d)}t.forEach=function(c,d){Br(this),this.g.forEach(function(h,m){h.forEach(function(b){c.call(d,b,m,this)},this)},this)},t.na=function(){Br(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let m=0;m<d.length;m++){let b=c[m];for(let A=0;A<b.length;A++)h.push(d[m])}return h},t.V=function(c){Br(this);let d=[];if(typeof c=="string")Xw(this,c)&&(d=d.concat(this.g.get(Uo(this,c))));else{c=Array.from(this.g.values());for(let h=0;h<c.length;h++)d=d.concat(c[h])}return d},t.set=function(c,d){return Br(this),this.i=null,c=Uo(this,c),Xw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function eI(c,d,h){Jw(c,d),0<h.length&&(c.i=null,c.g.set(Uo(c,d),x(h)),c.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var m=d[h];let A=encodeURIComponent(String(m)),V=this.V(m);for(m=0;m<V.length;m++){var b=A;V[m]!==""&&(b+="="+encodeURIComponent(String(V[m]))),c.push(b)}}return this.i=c.join("&")};function Uo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function jN(c,d){d&&!c.j&&(Br(c),c.i=null,c.g.forEach(function(h,m){var b=m.toLowerCase();m!=b&&(Jw(this,m),eI(this,b,h))},c)),c.j=d}function BN(c,d){let h=new _a;if(a.Image){let m=new Image;m.onload=y(Hr,h,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Hr,h,"TestLoadImage: error",!1,d,m),m.onabort=y(Hr,h,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Hr,h,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function HN(c,d){let h=new _a,m=new AbortController,b=setTimeout(()=>{m.abort(),Hr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(A=>{clearTimeout(b),A.ok?Hr(h,"TestPingServer: ok",!0,d):Hr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Hr(h,"TestPingServer: error",!1,d)})}function Hr(c,d,h,m,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),m(h)}catch{}}function $N(){this.g=new bN}function zN(c,d,h){let m=h||"";try{Kw(c,function(b,A){let V=b;l(b)&&(V=mp(b)),d.push(m+A+"="+encodeURIComponent(V))})}catch(b){throw d.push(m+"type="+encodeURIComponent("_badmap")),b}}function Da(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Da,yp),Da.prototype.g=function(){return new Wu(this.l,this.j)},Da.prototype.i=(function(c){return function(){return c}})({});function Wu(c,d){Ct.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Wu,Ct),t=Wu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ta(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ba(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ta(this)),this.g&&(this.readyState=3,Ta(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function tI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ba(this):Ta(this),this.readyState==3&&tI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ba(this))},t.Qa=function(c){this.g&&(this.response=c,ba(this))},t.ga=function(){this.g&&ba(this)};function ba(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ta(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function Ta(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Wu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function nI(c){let d="";return Te(c,function(h,m){d+=m,d+=":",d+=h,d+=`\r
`}),d}function Sp(c,d,h){e:{for(m in h){var m=!1;break e}m=!0}m||(h=nI(h),typeof c=="string"?h!=null&&encodeURIComponent(String(h)):Pe(c,d,h))}function Ue(c){Ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Ue,Ct);var qN=/^https?$/i,GN=["POST","PUT"];t=Ue.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ep.g(),this.v=this.o?xw(this.o):xw(Ep),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){rI(this,A);return}if(c=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var b in m)h.set(b,m[b]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())h.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(GN,d,void 0))||m||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,V]of h)this.g.setRequestHeader(A,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){rI(this,A)}};function rI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,iI(c),Ku(c)}function iI(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Pt(this,"complete"),Pt(this,"abort"),Ku(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ku(this,!0)),Ue.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?oI(this):this.bb())},t.bb=function(){oI(this)};function oI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||ar(c)!=4||c.Z()!=2)){if(c.u&&ar(c)==4)Sw(c.Ea,0,c);else if(Pt(c,"readystatechange"),ar(c)==4){c.h=!1;try{let V=c.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var m;if(m=V===0){var b=String(c.D).match(Qw)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),m=!qN.test(b?b.toLowerCase():"")}h=m}if(h)Pt(c,"complete"),Pt(c,"success");else{c.m=6;try{var A=2<ar(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",iI(c)}}finally{Ku(c)}}}}function Ku(c,d){if(c.g){sI(c);let h=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Pt(c,"ready");try{h.onreadystatechange=m}catch{}}}function sI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ar(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),DN(d)}};function aI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function WN(c){let d={};c=(c.g&&2<=ar(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(q(c[m]))continue;var h=C(c[m]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[b]||[];d[b]=A,A.push(h)}I(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function cI(c){this.Aa=0,this.i=[],this.j=new _a,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sa("baseRetryDelayMs",5e3,c),this.cb=Sa("retryDelaySeedMs",1e4,c),this.Wa=Sa("forwardChannelMaxRetries",2,c),this.wa=Sa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new $w(c&&c.concurrentRequestLimit),this.Da=new $N,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cI.prototype,t.la=8,t.G=1,t.connect=function(c,d,h,m){Ot(0),this.W=c,this.H=d||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=yI(this,null,this.W),Yu(this)};function Ap(c){if(uI(c),c.G==3){var d=c.U++,h=sr(c.I);if(Pe(h,"SID",c.K),Pe(h,"RID",d),Pe(h,"TYPE","terminate"),Aa(c,h),d=new jr(c,c.j,d),d.L=2,d.v=Gu(sr(h)),h=!1,a.navigator&&a.navigator.sendBeacon)try{h=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&a.Image&&(new Image().src=d.v,h=!0),h||(d.g=vI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),$u(d)}mI(c)}function Qu(c){c.g&&(Mp(c),c.g.cancel(),c.g=null)}function uI(c){Qu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Zu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Yu(c){if(!zw(c.h)&&!c.s){c.s=!0;var d=c.Ga;da||ww(),fa||(da(),fa=!0),ap.add(d,c),c.B=0}}function KN(c,d){return qw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=va(g(c.Ga,c,d),gI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new jr(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=dI(this,b,d),h=sr(this.I),Pe(h,"RID",c),Pe(h,"CVER",22),this.D&&Pe(h,"X-HTTP-Session-Id",this.D),Aa(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(nI(A)))+"&"+d:this.m&&Sp(h,this.m,A)),Tp(this.h,b),this.Ua&&Pe(h,"TYPE","init"),this.P?(Pe(h,"$req",d),Pe(h,"SID","null"),b.T=!0,Ip(b,h,null)):Ip(b,h,d),this.G=2}}else this.G==3&&(c?lI(this,c):this.i.length==0||zw(this.h)||lI(this))};function lI(c,d){var h;d?h=d.l:h=c.U++;let m=sr(c.I);Pe(m,"SID",c.K),Pe(m,"RID",h),Pe(m,"AID",c.T),Aa(c,m),c.m&&c.o&&Sp(m,c.m,c.o),h=new jr(c,c.j,h,c.B+1),c.m===null&&(h.H=c.o),d&&(c.i=d.D.concat(c.i)),d=dI(c,h,1e3),h.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Tp(c.h,h),Ip(h,m,d)}function Aa(c,d){c.H&&Te(c.H,function(h,m){Pe(d,m,h)}),c.l&&Kw({},function(h,m){Pe(d,m,h)})}function dI(c,d,h){h=Math.min(c.i.length,h);var m=c.l?g(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let V=["count="+h];A==-1?0<h?(A=b[0].g,V.push("ofs="+A)):A=0:V.push("ofs="+A);let Me=!0;for(let gt=0;gt<h;gt++){let _e=b[gt].g,Dt=b[gt].map;if(_e-=A,0>_e)A=Math.max(0,b[gt].g-100),Me=!1;else try{zN(Dt,V,"req"+_e+"_")}catch{m&&m(Dt)}}if(Me){m=V.join("&");break e}}}return c=c.i.splice(0,h),d.D=c,m}function fI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;da||ww(),fa||(da(),fa=!0),ap.add(d,c),c.v=0}}function Rp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=va(g(c.Fa,c),gI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,hI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=va(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),Qu(this),hI(this))};function Mp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function hI(c){c.g=new jr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=sr(c.qa);Pe(d,"RID","rpc"),Pe(d,"SID",c.K),Pe(d,"AID",c.T),Pe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Pe(d,"TO",c.ja),Pe(d,"TYPE","xmlhttp"),Aa(c,d),c.m&&c.o&&Sp(d,c.m,c.o),c.L&&(c.g.I=c.L);var h=c.g;c=c.ia,h.L=1,h.v=Gu(sr(d)),h.m=null,h.P=!0,jw(h,c)}t.Za=function(){this.C!=null&&(this.C=null,Qu(this),Rp(this),Ot(19))};function Zu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function pI(c,d){var h=null;if(c.g==d){Zu(c),Mp(c),c.g=null;var m=2}else if(bp(c.h,d))h=d.D,Gw(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;m=ju(),Pt(m,new Fw(m,h)),Yu(c)}else fI(c);else if(b=d.s,b==3||b==0&&0<d.X||!(m==1&&KN(c,d)||m==2&&Rp(c)))switch(h&&0<h.length&&(d=c.h,d.i=d.i.concat(h)),b){case 1:Li(c,5);break;case 4:Li(c,10);break;case 3:Li(c,6);break;default:Li(c,2)}}}function gI(c,d){let h=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(h*=2),h*d}function Li(c,d){if(c.j.info("Error code "+d),d==2){var h=g(c.fb,c),m=c.Xa;let b=!m;m=new Fi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||zu(m,"https"),Gu(m),b?BN(m.toString(),h):HN(m.toString(),h)}else Ot(2);c.G=0,c.l&&c.l.sa(d),mI(c),uI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function mI(c){if(c.G=0,c.ka=[],c.l){let d=Ww(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function yI(c,d,h){var m=h instanceof Fi?sr(h):new Fi(h);if(m.g!="")d&&(m.g=d+"."+m.g),qu(m,m.s);else{var b=a.location;m=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new Fi(null);m&&zu(A,m),d&&(A.g=d),b&&qu(A,b),h&&(A.l=h),m=A}return h=c.D,d=c.ya,h&&d&&Pe(m,h,d),Pe(m,"VER",c.la),Aa(c,m),m}function vI(c,d,h){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ue(new Da({eb:h})):new Ue(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _I(){}t=_I.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ju(){}Ju.prototype.g=function(c,d){return new zt(c,d)};function zt(c,d){Ct.call(this),this.g=new cI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!q(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!q(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new jo(this)}D(zt,Ct),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){Ap(this.g)},zt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.u&&(h={},h.__data__=mp(c),c=h);d.i.push(new xN(d.Ya++,c)),d.G==3&&Yu(d)},zt.prototype.N=function(){this.g.l=null,delete this.j,Ap(this.g),delete this.g,zt.aa.N.call(this)};function EI(c){vp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}D(EI,vp);function wI(){_p.call(this),this.status=1}D(wI,_p);function jo(c){this.g=c}D(jo,_I),jo.prototype.ua=function(){Pt(this.g,"a")},jo.prototype.ta=function(c){Pt(this.g,new EI(c))},jo.prototype.sa=function(c){Pt(this.g,new wI)},jo.prototype.ra=function(){Pt(this.g,"b")},Ju.prototype.createWebChannel=Ju.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,tE=xr.createWebChannelTransport=function(){return new Ju},eE=xr.getStatEventTarget=function(){return ju()},X_=xr.Event=Oi,dh=xr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bu.NO_ERROR=0,Bu.TIMEOUT=8,Bu.HTTP_ERROR=6,pu=xr.ErrorCode=Bu,Lw.COMPLETE="complete",J_=xr.EventType=Lw,Nw.EventType=ma,ma.OPEN="a",ma.CLOSE="b",ma.ERROR="c",ma.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,Us=xr.WebChannel=Nw,j4=xr.FetchXmlHttpFactory=Da,Ue.prototype.listenOnce=Ue.prototype.L,Ue.prototype.getLastError=Ue.prototype.Ka,Ue.prototype.getLastErrorCode=Ue.prototype.Ba,Ue.prototype.getStatus=Ue.prototype.Z,Ue.prototype.getResponseJson=Ue.prototype.Oa,Ue.prototype.getResponseText=Ue.prototype.oa,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Ha,Z_=xr.XhrIo=Ue}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});var WR="@firebase/firestore",KR="4.8.0";var ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");var sa="11.10.0";var Ao=new fi("@firebase/firestore");function js(){return Ao.logLevel}function B(t,...e){if(Ao.logLevel<=he.DEBUG){let n=e.map(G0);Ao.debug(`Firestore (${sa}): ${t}`,...n)}}function Or(t,...e){if(Ao.logLevel<=he.ERROR){let n=e.map(G0);Ao.error(`Firestore (${sa}): ${t}`,...n)}}function Ti(t,...e){if(Ao.logLevel<=he.WARN){let n=e.map(G0);Ao.warn(`Firestore (${sa}): ${t}`,...n)}}function G0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Y(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,BM(t,r,n)}function BM(t,e,n){let r=`FIRESTORE (${sa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Or(r),new Error(r)}function be(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||BM(e,i,r)}function te(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends Xt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Nr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var vh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},sE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ht.UNAUTHENTICATED))}shutdown(){}},aE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},cE=class{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){be(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string",31837,{l:r}),new vh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string",2055,{h:e}),new ht(e)}},uE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},lE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new uE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}},_h=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},dE=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,en(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){be(this.o===void 0,3512);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _h(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _h(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function B4(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function HM(){return new TextEncoder}var Eu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=B4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function de(t,e){return t<e?-1:t>e?1:0}function fE(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return de(r,i);{let o=HM(),s=H4(o.encode(QR(t,n)),o.encode(QR(e,n)));return s!==0?s:de(r,i)}}n+=r>65535?2:1}return de(t.length,e.length)}function QR(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function H4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return de(t[n],e[n]);return de(t.length,e.length)}function Ks(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var YR="__name__",Eh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return de(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):fE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mr.fromString(e.substring(4,e.length-2))}},Le=class t extends Eh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new j(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},$4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,nn=class t extends Eh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return $4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YR}static keyField(){return new t([YR])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new j(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new j(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new j(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new j(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var W=class t{constructor(e){this.path=e}static fromPath(e){return new t(Le.fromString(e))}static fromName(e){return new t(Le.fromString(e).popFirst(5))}static empty(){return new t(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Le(e.slice()))}};function $M(t,e,n){if(!n)throw new j(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function z4(t,e,n,r){if(e===!0&&r===!0)throw new j(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ZR(t){if(!W.isDocumentKey(t))throw new j(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JR(t){if(W.isDocumentKey(t))throw new j(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Zh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function wi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Zh(t);throw new j(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function nt(t,e){let n={typeString:t};return e&&(n.value=e),n}function Nu(t,e){if(!zM(t))throw new j(N.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new j(N.INVALID_ARGUMENT,n);return!0}var XR=-62135596800,eM=1e6,rt=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*eM);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<XR)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eM}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nu(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-XR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:nt("string",rt._jsonSchemaVersion),seconds:nt("number"),nanoseconds:nt("number")};var ie=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new rt(0,0))}static max(){return new t(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var wu=-1,hE=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};hE.UNKNOWN_ID=-1;function q4(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Ro(i,W.empty(),e)}function G4(t){return new Ro(t.readTime,t.key,wu)}var Ro=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ie.min(),W.empty(),wu)}static max(){return new t(ie.max(),W.empty(),wu)}};function W4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}var K4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function aa(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==K4)throw t;B("LocalStore","Unexpectedly lost primary lease")}var O=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function Q4(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ca(t){return t.name==="IndexedDbTransactionError"}var W0=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),K0=-1;function Jh(t){return t==null}function Iu(t){return t===0&&1/t==-1/0}function Y4(t){return typeof t=="number"&&Number.isInteger(t)&&!Iu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var qM="";function Z4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=tM(e)),e=J4(t.get(n),e);return tM(e)}function J4(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case qM:n+="";break;default:n+=o}}return n}function tM(t){return t+qM+""}var X4="remoteDocuments",GM="owner";var WM="mutationQueues";var KM="mutations";var QM="documentMutations",eH="remoteDocumentsV14";var YM="remoteDocumentGlobal";var ZM="targets";var JM="targetDocuments";var XM="targetGlobal",ex="collectionParents";var tx="clientMetadata";var nx="bundles";var rx="namedQueries";var tH="indexConfiguration";var nH="indexState";var rH="indexEntries";var ix="documentOverlays";var iH="globals";var oH=[WM,KM,QM,X4,ZM,GM,XM,JM,tx,YM,ex,nx,rx],Ore=[...oH,ix],sH=[WM,KM,QM,eH,ZM,GM,XM,JM,tx,YM,ex,nx,rx,ix],aH=sH,cH=[...aH,tH,nH,rH];var kre=[...cH,iH];function nM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ni(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ox(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var $e=class t{constructor(e,n){this.comparator=e,this.root=n||er.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,er.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zs(this.root,e,this.comparator,!1)}getReverseIterator(){return new zs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zs(this.root,e,this.comparator,!0)}},zs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},er=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}};er.EMPTY=null,er.RED=!0,er.BLACK=!1;er.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var pt=class t{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wh(this.data.getIterator())}getIteratorFrom(e){return new wh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},wh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var gn=class t{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new t([])}unionWith(e){let n=new pt(nn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ks(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Ih=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var xt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ih("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};xt.EMPTY_BYTE_STRING=new xt("");var uH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(t){if(be(!!t,39018),typeof t=="string"){let e=0,n=uH.exec(t);if(be(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fr(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}var sx="server_timestamp",ax="__type__",cx="__previous_value__",ux="__local_write_time__";function Q0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ax])===null||n===void 0?void 0:n.stringValue)===sx}function Xh(t){let e=t.mapValue.fields[cx];return Q0(e)?Xh(e):e}function Cu(t){let e=kr(t.mapValue.fields[ux].timestampValue);return new rt(e.seconds,e.nanos)}var gE=class{constructor(e,n,r,i,o,s,a,u,l,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},Ch="(default)",Dh=class t{constructor(e,n){this.projectId=e,this.database=n||Ch}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Y0="__type__",lx="__max__",fh={mapValue:{fields:{__type__:{stringValue:lx}}}},Z0="__vector__",Qs="value";function Si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Q0(t)?4:fx(t)?9007199254740991:dx(t)?10:11:Y(28295,{value:t})}function rr(t,e){if(t===e)return!0;let n=Si(t);if(n!==Si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cu(t).isEqual(Cu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=kr(i.timestampValue),a=kr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Fr(i.bytesValue).isEqual(Fr(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Fe(i.geoPointValue.latitude)===Fe(o.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Fe(i.integerValue)===Fe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Fe(i.doubleValue),a=Fe(o.doubleValue);return s===a?Iu(s)===Iu(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return Ks(t.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(nM(s)!==nM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!rr(s[u],a[u])))return!1;return!0})(t,e);default:return Y(52216,{left:t})}}function Du(t,e){return(t.values||[]).find(n=>rr(n,e))!==void 0}function Ys(t,e){if(t===e)return 0;let n=Si(t),r=Si(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Fe(o.integerValue||o.doubleValue),u=Fe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return rM(t.timestampValue,e.timestampValue);case 4:return rM(Cu(t),Cu(e));case 5:return fE(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=Fr(o),u=Fr(s);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let f=de(a[l],u[l]);if(f!==0)return f}return de(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=de(Fe(o.latitude),Fe(s.latitude));return a!==0?a:de(Fe(o.longitude),Fe(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return iM(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,f;let p=o.fields||{},g=s.fields||{},y=(a=p[Qs])===null||a===void 0?void 0:a.arrayValue,D=(u=g[Qs])===null||u===void 0?void 0:u.arrayValue,x=de(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((f=D?.values)===null||f===void 0?void 0:f.length)||0);return x!==0?x:iM(y,D)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===fh.mapValue&&s===fh.mapValue)return 0;if(o===fh.mapValue)return 1;if(s===fh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let g=fE(u[p],f[p]);if(g!==0)return g;let y=Ys(a[u[p]],l[f[p]]);if(y!==0)return y}return de(u.length,f.length)})(t.mapValue,e.mapValue);default:throw Y(23264,{le:n})}}function rM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);let n=kr(t),r=kr(e),i=de(n.seconds,r.seconds);return i!==0?i:de(n.nanos,r.nanos)}function iM(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Ys(n[i],r[i]);if(o)return o}return de(n.length,r.length)}function Zs(t){return mE(t)}function mE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=kr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Fr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return W.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=mE(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${mE(n.fields[s])}`;return i+"}"})(t.mapValue):Y(61005,{value:t})}function gh(t){switch(Si(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Xh(t);return e?16+gh(e):16;case 5:return 2*t.stringValue.length;case 6:return Fr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+gh(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Ni(r.fields,(o,s)=>{i+=o.length+gh(s)}),i})(t.mapValue);default:throw Y(13486,{value:t})}}function oM(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function yE(t){return!!t&&"integerValue"in t}function J0(t){return!!t&&"arrayValue"in t}function sM(t){return!!t&&"nullValue"in t}function aM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mh(t){return!!t&&"mapValue"in t}function dx(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Y0])===null||n===void 0?void 0:n.stringValue)===Z0}function mu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ni(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===lx}var Lre={mapValue:{fields:{[Y0]:{stringValue:Z0},[Qs]:{arrayValue:{}}}}};var tn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(n)}setAll(e){let n=nn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=mu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ni(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(mu(this.value))}};function hx(t){let e=[];return Ni(t.fields,(n,r)=>{let i=new nn([n]);if(mh(r)){let o=hx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new gn(e)}var Rn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ie.min(),ie.min(),ie.min(),tn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ie.min(),ie.min(),tn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ie.min(),ie.min(),tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Js=class{constructor(e,n){this.position=e,this.inclusive=n}};function cM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),n.key):r=Ys(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function uM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rr(t.position[n],e.position[n]))return!1;return!0}var Mo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function lH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var bh=class{},tt=class t extends bh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _E(e,n,r):n==="array-contains"?new IE(e,r):n==="in"?new CE(e,r):n==="not-in"?new DE(e,r):n==="array-contains-any"?new bE(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new EE(e,r):new wE(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ys(n,this.value)):n!==null&&Si(this.value)===Si(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Mn=class t extends bh{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return px(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function px(t){return t.op==="and"}function gx(t){return dH(t)&&px(t)}function dH(t){for(let e of t.filters)if(e instanceof Mn)return!1;return!0}function vE(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+Zs(t.value);if(gx(t))return t.filters.map(e=>vE(e)).join(",");{let e=t.filters.map(n=>vE(n)).join(",");return`${t.op}(${e})`}}function mx(t,e){return t instanceof tt?(function(r,i){return i instanceof tt&&r.op===i.op&&r.field.isEqual(i.field)&&rr(r.value,i.value)})(t,e):t instanceof Mn?(function(r,i){return i instanceof Mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&mx(s,i.filters[a]),!0):!1})(t,e):void Y(19439)}function yx(t){return t instanceof tt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Zs(n.value)}`})(t):t instanceof Mn?(function(n){return n.op.toString()+" {"+n.getFilters().map(yx).join(" ,")+"}"})(t):"Filter"}var _E=class extends tt{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){let n=W.comparator(e.key,this.key);return this.matchesComparison(n)}},EE=class extends tt{constructor(e,n){super(e,"in",n),this.keys=vx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},wE=class extends tt{constructor(e,n){super(e,"not-in",n),this.keys=vx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function vx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}var IE=class extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return J0(n)&&Du(n.arrayValue,this.value)}},CE=class extends tt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Du(this.value.arrayValue,n)}},DE=class extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Du(this.value.arrayValue,n)}},bE=class extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!J0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Du(this.value.arrayValue,r))}};var TE=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function lM(t,e=null,n=[],r=[],i=null,o=null,s=null){return new TE(t,e,n,r,i,o,s)}function X0(t){let e=te(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zs(r)).join(",")),e.Pe=n}return e.Pe}function ew(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uM(t.startAt,e.startAt)&&uM(t.endAt,e.endAt)}function SE(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ai=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function fH(t,e,n,r,i,o,s,a){return new Ai(t,e,n,r,i,o,s,a)}function tw(t){return new Ai(t)}function dM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _x(t){return t.collectionGroup!==null}function yu(t){let e=te(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new pt(nn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Mo(o,r))}),n.has(nn.keyField().canonicalString())||e.Te.push(new Mo(nn.keyField(),r))}return e.Te}function tr(t){let e=te(t);return e.Ie||(e.Ie=hH(e,yu(t))),e.Ie}function hH(t,e){if(t.limitType==="F")return lM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Mo(i.field,o)});let n=t.endAt?new Js(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Js(t.startAt.position,t.startAt.inclusive):null;return lM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function AE(t,e){let n=t.filters.concat([e]);return new Ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function RE(t,e,n){return new Ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ep(t,e){return ew(tr(t),tr(e))&&t.limitType===e.limitType}function Ex(t){return`${X0(tr(t))}|lt:${t.limitType}`}function Bs(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yx(i)).join(", ")}]`),Jh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Zs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Zs(i)).join(",")),`Target(${r})`})(tr(t))}; limitType=${t.limitType})`}function tp(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of yu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=cM(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,yu(r),i)||r.endAt&&!(function(s,a,u){let l=cM(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,yu(r),i))})(t,e)}function pH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wx(t){return(e,n)=>{let r=!1;for(let i of yu(t)){let o=gH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function gH(t,e,n){let r=t.field.isKeyField()?W.comparator(e.key,n.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ys(u,l):Y(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}var Lr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return ox(this.inner)}size(){return this.innerSize}};var mH=new $e(W.comparator);function Vr(){return mH}var Ix=new $e(W.comparator);function gu(...t){let e=Ix;for(let n of t)e=e.insert(n.key,n);return e}function Cx(t){let e=Ix;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Do(){return vu()}function Dx(){return vu()}function vu(){return new Lr(t=>t.toString(),(t,e)=>t.isEqual(e))}var yH=new $e(W.comparator),vH=new pt(W.comparator);function pe(...t){let e=vH;for(let n of t)e=e.add(n);return e}var _H=new pt(de);function EH(){return _H}function nw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Iu(e)?"-0":e}}function bx(t){return{integerValue:""+t}}function wH(t,e){return Y4(e)?bx(e):nw(t,e)}var Xs=class{constructor(){this._=void 0}};function IH(t,e,n){return t instanceof ea?(function(i,o){let s={fields:{[ax]:{stringValue:sx},[ux]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Q0(o)&&(o=Xh(o)),o&&(s.fields[cx]=o),{mapValue:s}})(n,e):t instanceof xo?Sx(t,e):t instanceof No?Ax(t,e):(function(i,o){let s=Tx(i,o),a=fM(s)+fM(i.Ee);return yE(s)&&yE(i.Ee)?bx(a):nw(i.serializer,a)})(t,e)}function CH(t,e,n){return t instanceof xo?Sx(t,e):t instanceof No?Ax(t,e):n}function Tx(t,e){return t instanceof ta?(function(r){return yE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var ea=class extends Xs{},xo=class extends Xs{constructor(e){super(),this.elements=e}};function Sx(t,e){let n=Rx(e);for(let r of t.elements)n.some(i=>rr(i,r))||n.push(r);return{arrayValue:{values:n}}}var No=class extends Xs{constructor(e){super(),this.elements=e}};function Ax(t,e){let n=Rx(e);for(let r of t.elements)n=n.filter(i=>!rr(i,r));return{arrayValue:{values:n}}}var ta=class extends Xs{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function fM(t){return Fe(t.integerValue||t.doubleValue)}function Rx(t){return J0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DH(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof xo&&i instanceof xo||r instanceof No&&i instanceof No?Ks(r.elements,i.elements,rr):r instanceof ta&&i instanceof ta?rr(r.Ee,i.Ee):r instanceof ea&&i instanceof ea})(t.transform,e.transform)}var ME=class{constructor(e,n){this.version=e,this.transformResults=n}},Pr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function yh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var na=class{};function Mx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bu(t.key,Pr.none()):new Po(t.key,t.data,Pr.none());{let n=t.data,r=tn.empty(),i=new pt(nn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ir(t.key,r,new gn(i.toArray()),Pr.none())}}function bH(t,e,n){t instanceof Po?(function(i,o,s){let a=i.value.clone(),u=pM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof ir?(function(i,o,s){if(!yh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=pM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(xx(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function _u(t,e,n,r){return t instanceof Po?(function(o,s,a,u){if(!yh(o.precondition,s))return a;let l=o.value.clone(),f=gM(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof ir?(function(o,s,a,u){if(!yh(o.precondition,s))return a;let l=gM(o.fieldTransforms,u,s),f=s.data;return f.setAll(xx(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,a){return yh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function TH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=Tx(r.transform,i||null);o!=null&&(n===null&&(n=tn.empty()),n.set(r.field,o))}return n||null}function hM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ks(r,i,(o,s)=>DH(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Po=class extends na{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ir=class extends na{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function xx(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function pM(t,e,n){let r=new Map;be(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,CH(s,a,n[i]))}return r}function gM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,IH(o,s,e))}return r}var bu=class extends na{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},xE=class extends na{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var NE=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&bH(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=_u(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=_u(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Dx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=Mx(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Ks(this.mutations,e.mutations,(n,r)=>hM(n,r))&&Ks(this.baseMutations,e.baseMutations,(n,r)=>hM(n,r))}},PE=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){be(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return yH})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var OE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var kE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Xe,me;function SH(t){switch(t){case N.OK:return Y(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function Nx(t){if(t===void 0)return Or("GRPC error has no .code"),N.UNKNOWN;switch(t){case Xe.OK:return N.OK;case Xe.CANCELLED:return N.CANCELLED;case Xe.UNKNOWN:return N.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return N.INTERNAL;case Xe.UNAVAILABLE:return N.UNAVAILABLE;case Xe.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Xe.NOT_FOUND:return N.NOT_FOUND;case Xe.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Xe.ABORTED:return N.ABORTED;case Xe.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Xe.DATA_LOSS:return N.DATA_LOSS;default:return Y(39323,{code:t})}}(me=Xe||(Xe={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var mM=null;var AH=new Mr([4294967295,4294967295],0);function yM(t){let e=HM().encode(t),n=new Y_;return n.update(e),new Uint8Array(n.digest())}function vM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Mr([n,r],0),new Mr([i,o],0)]}var FE=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bo(`Invalid padding: ${n}`);if(r<0)throw new bo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bo(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Mr.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Mr.fromNumber(r)));return i.compare(AH)===1&&(i=new Mr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=yM(e),[r,i]=vM(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=yM(e),[r,i]=vM(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},bo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Th=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ie.min(),i,new $e(de),Vr(),pe())}},Tu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,pe(),pe(),pe())}};var qs=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},Sh=class{constructor(e,n){this.targetId=e,this.De=n}},Ah=class{constructor(e,n,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Rh=class{constructor(){this.ve=0,this.Ce=_M(),this.Fe=xt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=pe(),n=pe(),r=pe();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:o})}}),new Tu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=_M()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,be(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},LE=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Vr(),this.je=hh(),this.Je=hh(),this.He=new $e(de)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(SE(o))if(r===0){let s=new W(o.path);this.Xe(n,s,Rn.newNoDocument(s,ie.min()))}else be(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}mM?.ct((function(f,p,g,y,D){var x,M,U,q,J,Re;let Nt={localCacheCount:f,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},Te=p.unchangedNames;return Te&&(Nt.bloomFilter={applied:D===0,hashCount:(x=Te?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(q=(U=(M=Te?.bits)===null||M===void 0?void 0:M.bitmap)===null||U===void 0?void 0:U.length)!==null&&q!==void 0?q:0,padding:(Re=(J=Te?.bits)===null||J===void 0?void 0:J.padding)!==null&&Re!==void 0?Re:0,mightContain:I=>{var v;return(v=y?.mightContain(I))!==null&&v!==void 0&&v}}),Nt})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Fr(r).toUint8Array()}catch(u){if(u instanceof Ih)return Ti("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new FE(s,i,o)}catch(u){return Ti(u instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&SE(a.target)){let u=new W(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Rn.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=pe();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Th(e,n,this.He,this.ze,r);return this.ze=Vr(),this.je=hh(),this.Je=hh(),this.He=new $e(de),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Rh,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new pt(de),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new pt(de),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Rh),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function hh(){return new $e(W.comparator)}function _M(){return new $e(W.comparator)}var RH={asc:"ASCENDING",desc:"DESCENDING"},MH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xH={and:"AND",or:"OR"},VE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function UE(t,e){return t.useProto3Json||Jh(e)?e:{value:e}}function Mh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Px(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NH(t,e){return Mh(t,e.toTimestamp())}function nr(t){return be(!!t,49232),ie.fromTimestamp((function(n){let r=kr(n);return new rt(r.seconds,r.nanos)})(t))}function rw(t,e){return jE(t,e).canonicalString()}function jE(t,e){let n=(function(i){return new Le(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Ox(t){let e=Le.fromString(t);return be(Ux(e),10190,{key:e.toString()}),e}function BE(t,e){return rw(t.databaseId,e.path)}function nE(t,e){let n=Ox(e);if(n.get(1)!==t.databaseId.projectId)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(Fx(n))}function kx(t,e){return rw(t.databaseId,e)}function PH(t){let e=Ox(t);return e.length===4?Le.emptyPath():Fx(e)}function HE(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Fx(t){return be(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function EM(t,e,n){return{name:BE(t,e),fields:n.value.mapValue.fields}}function OH(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,f){return l.useProto3Json?(be(f===void 0||typeof f=="string",58123),xt.fromBase64String(f||"")):(be(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),xt.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let f=l.code===void 0?N.UNKNOWN:Nx(l.code);return new j(f,l.message||"")})(s);n=new Ah(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=nE(t,r.document.name),o=nr(r.document.updateTime),s=r.document.createTime?nr(r.document.createTime):ie.min(),a=new tn({mapValue:{fields:r.document.fields}}),u=Rn.newFoundDocument(i,o,s,a),l=r.targetIds||[],f=r.removedTargetIds||[];n=new qs(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=nE(t,r.document),o=r.readTime?nr(r.readTime):ie.min(),s=Rn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new qs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=nE(t,r.document),o=r.removedTargetIds||[];n=new qs([],o,i,null)}else{if(!("filter"in e))return Y(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new kE(i,o),a=r.targetId;n=new Sh(a,s)}}return n}function kH(t,e){let n;if(e instanceof Po)n={update:EM(t,e.key,e.value)};else if(e instanceof bu)n={delete:BE(t,e.key)};else if(e instanceof ir)n={update:EM(t,e.key,e.data),updateMask:zH(e.fieldMask)};else{if(!(e instanceof xE))return Y(16599,{Rt:e.type});n={verify:BE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof ea)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof No)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ta)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw Y(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:NH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y(27497)})(t,e.precondition)),n}function FH(t,e){return t&&t.length>0?(be(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?nr(i.updateTime):nr(o);return s.isEqual(ie.min())&&(s=nr(o)),new ME(s,i.transformResults||[])})(n,e))):[]}function LH(t,e){return{documents:[kx(t,e.path)]}}function VH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kx(t,i);let o=(function(l){if(l.length!==0)return Vx(Mn.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(f=>(function(g){return{field:Hs(g.field),direction:BH(g.dir)}})(f))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=UE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:n,parent:i}}function UH(t){let e=PH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){be(r===1,65062);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=(function(p){let g=Lx(p);return g instanceof Mn&&gx(g)?g.getFilters():[g]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(g=>(function(D){return new Mo($s(D.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(g))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,Jh(g)?null:g})(n.limit));let u=null;n.startAt&&(u=(function(p){let g=!!p.before,y=p.values||[];return new Js(y,g)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let g=!p.before,y=p.values||[];return new Js(y,g)})(n.endAt)),fH(e,i,s,o,a,"F",u,l)}function jH(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Lx(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=$s(n.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=$s(n.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=$s(n.unaryFilter.field);return tt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=$s(n.unaryFilter.field);return tt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}})(t):t.fieldFilter!==void 0?(function(n){return tt.create($s(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Mn.create(n.compositeFilter.filters.map(r=>Lx(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}})(n.compositeFilter.op))})(t):Y(30097,{filter:t})}function BH(t){return RH[t]}function HH(t){return MH[t]}function $H(t){return xH[t]}function Hs(t){return{fieldPath:t.canonicalString()}}function $s(t){return nn.fromServerFormat(t.fieldPath)}function Vx(t){return t instanceof tt?(function(n){if(n.op==="=="){if(aM(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NAN"}};if(sM(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aM(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NAN"}};if(sM(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(n.field),op:HH(n.op),value:n.value}}})(t):t instanceof Mn?(function(n){let r=n.getFilters().map(i=>Vx(i));return r.length===1?r[0]:{compositeFilter:{op:$H(n.op),filters:r}}})(t):Y(54877,{filter:t})}function zH(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ux(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Su=class t{constructor(e,n,r,i,o=ie.min(),s=ie.min(),a=xt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var $E=class{constructor(e){this.gt=e}};function qH(t){let e=UH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?RE(e,e.limit,"L"):e}var xh=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Fe(e.integerValue));else if("doubleValue"in e){let r=Fe(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Iu(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=kr(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Fr(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?fx(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):dx(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):Y(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=Qs,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Fe(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),W.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};xh.Ut=new xh;var zE=class{constructor(){this.Dn=new qE}addToCollectionParentIndex(e,n){return this.Dn.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Ro.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}},qE=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(Le.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(Le.comparator)).toArray()}};var Vre=new Uint8Array(0);var wM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jx=41943040,pn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(jx,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);var Au=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var IM="LruGarbageCollector",GH=1048576;function CM([t,e],[n,r]){let i=de(t,n);return i===0?de(e,r):i}var GE=class{constructor(e){this.Tr=e,this.buffer=new pt(CM),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();CM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},WE=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){B(IM,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ca(n)?B(IM,"Ignoring IndexedDB error during garbage collection: ",n):await aa(n)}await this.Rr(3e5)})}},KE=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return O.resolve(W0.ue);let r=new GE(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(wM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wM):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),js()<=he.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function WH(t,e){return new KE(t,e)}var QE=class{constructor(){this.changes=new Lr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var YE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var ZE=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_u(r.mutation,i,gn.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){let i=Do();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=gu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Do();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Vr(),s=vu(),a=(function(){return vu()})();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof ir)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),_u(f.mutation,l,f.mutation.getFieldMask(),rt.now())):s.set(l.key,gn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var p;return a.set(l,new YE(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=vu(),i=new $e((s,a)=>s-a),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||gn.empty();f=a.applyToLocalView(l,f),r.set(u,f);let p=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,f=u.value,p=Dx();f.forEach(g=>{if(!o.has(g)){let y=Mx(n.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_x(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):O.resolve(Do()),a=wu,u=o;return s.next(l=>O.forEach(l,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(f)?O.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,pe())).next(f=>({batchId:a,changes:Cx(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=gu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=gu();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,u=>{let l=(function(p,g){return new Ai(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Rn.newInvalidDocument(f)))});let a=gu();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&_u(f.mutation,l,gn.empty(),rt.now()),tp(n,l)&&(a=a.insert(u,l))}),a})}};var JE=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return O.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:nr(i.createTime)}})(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:qH(i.bundledQuery),readTime:nr(i.readTime)}})(n)),O.resolve()}};var XE=class{constructor(){this.overlays=new $e(W.comparator),this.kr=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Do();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),O.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){let i=Do(),o=n.length+1,s=new W(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new $e((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=Do(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=Do(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return O.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new OE(n,r));let o=this.kr.get(n);o===void 0&&(o=pe(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var e0=class{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}};var Ru=class{constructor(){this.qr=new pt(et.Qr),this.$r=new pt(et.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new et(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new et(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new W(new Le([])),r=new et(n,e),i=new et(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new W(new Le([])),r=new et(n,e),i=new et(n,e+1),o=pe();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new et(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},et=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return W.comparator(e.key,n.key)||de(e.Hr,n.Hr)}static Ur(e,n){return de(e.Hr,n.Hr)||W.comparator(e.key,n.key)}};var t0=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new pt(et.Qr)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new NE(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new et(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,n){return O.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?K0:this.er-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new et(n,0),i=new et(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(de);return n.forEach(i=>{let o=new et(i,0),s=new et(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),O.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));let s=new et(new W(o),0),a=new pt(de);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),O.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){be(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return O.forEach(n.mutations,i=>{let o=new et(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new et(n,0),i=this.Yr.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var n0=class{constructor(e){this.ni=e,this.docs=(function(){return new $e(W.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let r=Vr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Rn.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Vr(),s=n.path,a=new W(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||W4(G4(f),r)<=0||(i.has(f.key)||tp(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Y(9500)}ri(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new r0(this)}getSize(e){return O.resolve(this.size)}},r0=class extends QE{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var i0=class{constructor(e){this.persistence=e,this.ii=new Lr(n=>X0(n),ew),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.si=0,this.oi=new Ru,this.targetCount=0,this._i=Au.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),O.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new Au(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.hr(n),O.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),O.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.oi.containsKey(n))}};var Nh=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new W0(0),this.ci=!1,this.ci=!0,this.li=new e0,this.referenceDelegate=e(this),this.hi=new i0(this),this.indexManager=new zE,this.remoteDocumentCache=(function(i){return new n0(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new $E(n),this.Ti=new JE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new t0(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);let i=new o0(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return O.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},o0=class extends pE{constructor(e){super(),this.currentSequenceNumber=e}},s0=class t{constructor(e){this.persistence=e,this.Ai=new Ru,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw Y(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),O.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.mi,r=>{let i=W.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,ie.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return O.or([()=>O.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},Ph=class t{constructor(e,n){this.persistence=e,this.gi=new Lr(r=>Z4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=WH(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return O.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return O.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?O.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),O.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),O.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gh(e.data.value)),n}Sr(e,n,r){return O.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var a0=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=pe(),i=pe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var c0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var u0=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return AA()?8:Q4(ft())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new c0;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(js()<=he.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Bs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),O.resolve()):(js()<=he.DEBUG&&B("QueryEngine","Query:",Bs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(js()<=he.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Bs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(n))):O.resolve())}ps(e,n){if(dM(n))return O.resolve(null);let r=tr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=RE(n,null,"F"),r=tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=pe(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,a);return this.Ds(n,l,s,u.readTime)?this.ps(e,RE(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return dM(n)||i.isEqual(ie.min())?O.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?O.resolve(null):(js()<=he.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bs(n)),this.vs(e,s,n,q4(i,wu)).next(a=>a))})}bs(e,n){let r=new pt(wx(e));return n.forEach((i,o)=>{tp(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return js()<=he.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Bs(n)),this.gs.getDocumentsMatchingQuery(e,n,Ro.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var iw="LocalStore",KH=3e8,l0=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new $e(de),this.Ms=new Lr(o=>X0(o),ew),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZE(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function QH(t,e,n,r){return new l0(t,e,n,r)}async function Bx(t,e){let n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=pe();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){a.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})}function YH(t,e){let n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,f){let p=l.batch,g=p.keys(),y=O.resolve();return g.forEach(D=>{y=y.next(()=>f.getEntry(u,D)).next(x=>{let M=l.docVersions.get(D);be(M!==null,48541),x.version.compareTo(M)<0&&(p.applyToRemoteDocument(x,l),x.isValidDocument()&&(x.setReadTime(l.commitVersion),f.addEntry(x)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Hx(t){let e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function ZH(t,e){let n=te(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((f,p)=>{let g=i.get(p);if(!g)return;a.push(n.hi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,f.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(xt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),(function(x,M,U){return x.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=KH?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(g,y,f)&&a.push(n.hi.updateTargetData(o,y))});let u=Vr(),l=pe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(JH(o,s,e.documentUpdates).next(f=>{u=f.Ls,l=f.ks})),!r.isEqual(ie.min())){let f=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function JH(t,e,n){let r=pe(),i=pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Vr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):B(iw,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function XH(t,e){let n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=K0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function e3(t,e){let n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new Su(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function d0(t,e,n){let r=te(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ca(s))throw s;B(iw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function DM(t,e,n){let r=te(t),i=ie.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,f){let p=te(u),g=p.Ms.get(f);return g!==void 0?O.resolve(p.Fs.get(g)):p.hi.getTargetData(l,f)})(r,s,tr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:ie.min(),n?o:pe())).next(a=>(t3(r,pH(e),a),{documents:a,qs:o})))}function t3(t,e,n){let r=t.xs.get(e)||ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var Oh=class{constructor(){this.activeTargetIds=EH()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var f0=class{constructor(){this.Fo=new Oh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Oh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var h0=class{xo(e){}shutdown(){}};var bM="ConnectivityMonitor",kh=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){B(bM,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){B(bM,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ph=null;function p0(){return ph===null?ph=(function(){return 268435456+Math.round(2147483648*Math.random())})():ph++,"0x"+ph.toString(16)}var rE="RestConnection",n3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},g0=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Ch?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=p0(),a=this.Go(e,n.toUriEncodedString());B(rE,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),f=di(l);return this.jo(e,a,u,r,f).then(p=>(B(rE,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Ti(rE,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=n3[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var m0=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Mt="WebChannelConnection",y0=class extends g0{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=p0();return new Promise((a,u)=>{let l=new Z_;l.setWithCredentials(!0),l.listenOnce(J_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case pu.NO_ERROR:let p=l.getResponseJson();B(Mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case pu.TIMEOUT:B(Mt,`RPC '${e}' ${s} timed out`),u(new j(N.DEADLINE_EXCEEDED,"Request time out"));break;case pu.HTTP_ERROR:let g=l.getStatus();if(B(Mt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let D=y?.error;if(D&&D.status&&D.message){let x=(function(U){let q=U.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(q)>=0?q:N.UNKNOWN})(D.status);u(new j(x,D.message))}else u(new j(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new j(N.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{B(Mt,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);B(Mt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",f,r,15)})}P_(e,n,r){let i=p0(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=tE(),a=eE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");B(Mt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.T_(p);let g=!1,y=!1,D=new m0({Ho:M=>{y?B(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(g||(B(Mt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),B(Mt,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},Yo:()=>p.close()}),x=(M,U,q)=>{M.listen(U,J=>{try{q(J)}catch(Re){setTimeout(()=>{throw Re},0)}})};return x(p,Us.EventType.OPEN,()=>{y||(B(Mt,`RPC '${e}' stream ${i} transport opened.`),D.s_())}),x(p,Us.EventType.CLOSE,()=>{y||(y=!0,B(Mt,`RPC '${e}' stream ${i} transport closed`),D.__(),this.I_(p))}),x(p,Us.EventType.ERROR,M=>{y||(y=!0,Ti(Mt,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),D.__(new j(N.UNAVAILABLE,"The operation could not be completed")))}),x(p,Us.EventType.MESSAGE,M=>{var U;if(!y){let q=M.data[0];be(!!q,16349);let J=q,Re=J?.error||((U=J[0])===null||U===void 0?void 0:U.error);if(Re){B(Mt,`RPC '${e}' stream ${i} received error:`,Re);let Nt=Re.status,Te=(function(E){let w=Xe[E];if(w!==void 0)return Nx(w)})(Nt),I=Re.message;Te===void 0&&(Te=N.INTERNAL,I="Unknown error status: "+Nt+" with message "+Re.message),y=!0,D.__(new j(Te,I)),p.close()}else B(Mt,`RPC '${e}' stream ${i} received:`,q),D.a_(q)}}),x(a,X_.STAT_EVENT,M=>{M.stat===dh.PROXY?B(Mt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===dh.NOPROXY&&B(Mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.o_()},0),D}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function iE(){return typeof document<"u"?document:null}function np(t){return new VE(t,!0)}var Fh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var TM="PersistentStream",Lh=class{constructor(e,n,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Fh(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new j(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return B(TM,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(B(TM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},v0=class extends Lh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=OH(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?nr(s.readTime):ie.min()})(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=HE(this.serializer),n.addTarget=(function(o,s){let a,u=s.target;if(a=SE(u)?{documents:LH(o,u)}:{query:VH(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Px(o,s.resumeToken);let l=UE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ie.min())>0){a.readTime=Mh(o,s.snapshotVersion.toTimestamp());let l=UE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=jH(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=HE(this.serializer),n.removeTarget=e,this.k_(n)}},_0=class extends Lh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=FH(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=HE(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>kH(this.serializer,r))};this.k_(n)}};var E0=class{},w0=class extends E0{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,jE(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(N.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,jE(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},I0=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Or(n),this._a=!1):B("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Oo="RemoteStore",C0=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{Fo(this)&&(B(Oo,"Restarting streams for network reachability change."),await(async function(u){let l=te(u);l.Ia.add(4),await Pu(l),l.Aa.set("Unknown"),l.Ia.delete(4),await rp(l)})(this))})}),this.Aa=new I0(r,i)}};async function rp(t){if(Fo(t))for(let e of t.da)await e(!0)}async function Pu(t){for(let e of t.da)await e(!1)}function $x(t,e){let n=te(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),cw(n)?aw(n):ua(n).x_()&&sw(n,e))}function ow(t,e){let n=te(t),r=ua(n);n.Ta.delete(e),r.x_()&&zx(n,e),n.Ta.size===0&&(r.x_()?r.B_():Fo(n)&&n.Aa.set("Unknown"))}function sw(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ua(t).H_(e)}function zx(t,e){t.Ra.$e(e),ua(t).Y_(e)}function aw(t){t.Ra=new LE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ua(t).start(),t.Aa.aa()}function cw(t){return Fo(t)&&!ua(t).M_()&&t.Ta.size>0}function Fo(t){return te(t).Ia.size===0}function qx(t){t.Ra=void 0}async function r3(t){t.Aa.set("Online")}async function i3(t){t.Ta.forEach((e,n)=>{sw(t,e)})}async function o3(t,e){qx(t),cw(t)?(t.Aa.la(e),aw(t)):t.Aa.set("Unknown")}async function s3(t,e,n){if(t.Aa.set("Online"),e instanceof Ah&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})(t,e)}catch(r){B(Oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vh(t,r)}else if(e instanceof qs?t.Ra.Ye(e):e instanceof Sh?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ie.min()))try{let r=await Hx(t.localStore);n.compareTo(r)>=0&&await(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ta.get(l);f&&o.Ta.set(l,f.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let f=o.Ta.get(u);if(!f)return;o.Ta.set(u,f.withResumeToken(xt.EMPTY_BYTE_STRING,f.snapshotVersion)),zx(o,u);let p=new Su(f.target,u,l,f.sequenceNumber);sw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){B(Oo,"Failed to raise snapshot:",r),await Vh(t,r)}}async function Vh(t,e,n){if(!ca(e))throw e;t.Ia.add(1),await Pu(t),t.Aa.set("Offline"),n||(n=()=>Hx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{B(Oo,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await rp(t)})}function Gx(t,e){return e().catch(n=>Vh(t,n,e))}async function ip(t){let e=te(t),n=Ri(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:K0;for(;a3(e);)try{let i=await XH(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,c3(e,i)}catch(i){await Vh(e,i)}Wx(e)&&Kx(e)}function a3(t){return Fo(t)&&t.Pa.length<10}function c3(t,e){t.Pa.push(e);let n=Ri(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function Wx(t){return Fo(t)&&!Ri(t).M_()&&t.Pa.length>0}function Kx(t){Ri(t).start()}async function u3(t){Ri(t).na()}async function l3(t){let e=Ri(t);for(let n of t.Pa)e.X_(n.mutations)}async function d3(t,e,n){let r=t.Pa.shift(),i=PE.from(r,e,n);await Gx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ip(t)}async function f3(t,e){e&&Ri(t).Z_&&await(async function(r,i){if((function(s){return SH(s)&&s!==N.ABORTED})(i.code)){let o=r.Pa.shift();Ri(r).N_(),await Gx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ip(r)}})(t,e),Wx(t)&&Kx(t)}async function SM(t,e){let n=te(t);n.asyncQueue.verifyOperationInProgress(),B(Oo,"RemoteStore received new credentials");let r=Fo(n);n.Ia.add(3),await Pu(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await rp(n)}async function h3(t,e){let n=te(t);e?(n.Ia.delete(2),await rp(n)):e||(n.Ia.add(2),await Pu(n),n.Aa.set("Unknown"))}function ua(t){return t.Va||(t.Va=(function(n,r,i){let o=te(n);return o.ia(),new v0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:r3.bind(null,t),e_:i3.bind(null,t),n_:o3.bind(null,t),J_:s3.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),cw(t)?aw(t):t.Aa.set("Unknown")):(await t.Va.stop(),qx(t))})),t.Va}function Ri(t){return t.ma||(t.ma=(function(n,r,i){let o=te(n);return o.ia(),new _0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:u3.bind(null,t),n_:f3.bind(null,t),ea:l3.bind(null,t),ta:d3.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await ip(t)):(await t.ma.stop(),t.Pa.length>0&&(B(Oo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}var D0=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function uw(t,e){if(Or("AsyncQueue",`${e}: ${t}`),ca(t))return new j(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Uh=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=gu(),this.sortedSet=new $e(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var jh=class{constructor(){this.fa=new $e(W.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Y(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},ra=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Uh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var b0=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},T0=class{constructor(){this.queries=AM(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=te(n),o=i.queries;i.queries=AM(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new j(N.ABORTED,"Firestore shutting down"))}};function AM(){return new Lr(t=>Ex(t),ep)}async function p3(t,e){let n=te(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new b0,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let a=uw(s,`Initialization of query '${Bs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&lw(n)}async function g3(t,e){let n=te(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function m3(t,e){let n=te(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&lw(n)}function y3(t,e,n){let r=te(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function lw(t){t.Da.forEach(e=>{e.next()})}var S0,RM;(RM=S0||(S0={})).Fa="default",RM.Cache="cache";var A0=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==S0.Cache}};var Bh=class{constructor(e){this.key=e}},Hh=class{constructor(e){this.key=e}},R0=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=pe(),this.mutatedKeys=pe(),this.Xa=wx(e),this.eu=new Uh(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new jh,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let g=i.get(f),y=tp(this.query,p)?p:null,D=!!g&&this.mutatedKeys.has(g.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),M=!1;g&&y?g.data.isEqual(y.data)?D!==x&&(r.track({type:3,doc:y}),M=!0):this.iu(g,y)||(r.track({type:2,doc:y}),M=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),M=!0):g&&!y&&(r.track({type:1,doc:g}),M=!0,(u||l)&&(a=!0)),M&&(y?(s=s.add(y),o=x?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((f,p)=>(function(y,D){let x=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{At:M})}};return x(y)-x(D)})(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new ra(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new jh,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=pe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new Hh(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Bh(r))}),n}uu(e){this.Ha=e.qs,this.Za=pe();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return ra.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},dw="SyncEngine",M0=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},x0=class{constructor(e){this.key=e,this.lu=!1}},N0=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Lr(a=>Ex(a),ep),this.Tu=new Map,this.Iu=new Set,this.du=new $e(W.comparator),this.Eu=new Map,this.Au=new Ru,this.Ru={},this.Vu=new Map,this.mu=Au.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function v3(t,e,n=!0){let r=eN(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await Qx(r,e,n,!0),i}async function _3(t,e){let n=eN(t);await Qx(n,e,!0,!1)}async function Qx(t,e,n,r){let i=await e3(t.localStore,tr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=await E3(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&$x(t.remoteStore,i),a}async function E3(t,e,n,r,i){t.gu=(p,g,y)=>(async function(x,M,U,q){let J=M.view.nu(U);J.Ds&&(J=await DM(x.localStore,M.query,!1).then(({documents:I})=>M.view.nu(I,J)));let Re=q&&q.targetChanges.get(M.targetId),Nt=q&&q.targetMismatches.get(M.targetId)!=null,Te=M.view.applyChanges(J,x.isPrimaryClient,Re,Nt);return xM(x,M.targetId,Te._u),Te.snapshot})(t,p,g,y);let o=await DM(t.localStore,e,!0),s=new R0(e,o.qs),a=s.nu(o.documents),u=Tu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);xM(t,n,l._u);let f=new M0(e,n,s);return t.Pu.set(e,f),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot}async function w3(t,e,n){let r=te(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!ep(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await d0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ow(r.remoteStore,i.targetId),P0(r,i.targetId)}).catch(aa)):(P0(r,i.targetId),await d0(r.localStore,i.targetId,!0))}async function I3(t,e){let n=te(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ow(n.remoteStore,r.targetId))}async function C3(t,e,n){let r=M3(t);try{let i=await(function(s,a){let u=te(s),l=rt.now(),f=a.reduce((y,D)=>y.add(D.key),pe()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let D=Vr(),x=pe();return u.Os.getEntries(y,f).next(M=>{D=M,D.forEach((U,q)=>{q.isValidDocument()||(x=x.add(U))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,D)).next(M=>{p=M;let U=[];for(let q of a){let J=TH(q,p.get(q.key).overlayedDocument);J!=null&&U.push(new ir(q.key,J,hx(J.value.mapValue),Pr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,U,a)}).next(M=>{g=M;let U=M.applyToLocalDocumentSet(p,x);return u.documentOverlayCache.saveOverlays(y,M.batchId,U)})}).then(()=>({batchId:g.batchId,changes:Cx(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new $e(de)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,n),await Ou(r,i.changes),await ip(r.remoteStore)}catch(i){let o=uw(i,"Failed to persist write");n.reject(o)}}async function Yx(t,e){let n=te(t);try{let r=await ZH(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?be(s.lu,14607):i.removedDocuments.size>0&&(be(s.lu,42227),s.lu=!1))}),await Ou(n,r,e)}catch(r){await aa(r)}}function MM(t,e,n){let r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=te(s);u.onlineState=a;let l=!1;u.queries.forEach((f,p)=>{for(let g of p.wa)g.va(a)&&(l=!0)}),l&&lw(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function D3(t,e,n){let r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new $e(W.comparator);s=s.insert(o,Rn.newNoDocument(o,ie.min()));let a=pe().add(o),u=new Th(ie.min(),new Map,new $e(de),s,a);await Yx(r,u),r.du=r.du.remove(o),r.Eu.delete(e),fw(r)}else await d0(r.localStore,e,!1).then(()=>P0(r,e,n)).catch(aa)}async function b3(t,e){let n=te(t),r=e.batch.batchId;try{let i=await YH(n.localStore,e);Jx(n,r,null),Zx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ou(n,i)}catch(i){await aa(i)}}async function T3(t,e,n){let r=te(t);try{let i=await(function(s,a){let u=te(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(be(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})})(r.localStore,e);Jx(r,e,n),Zx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ou(r,i)}catch(i){await aa(i)}}function Zx(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function Jx(t,e,n){let r=te(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function P0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||Xx(t,r)})}function Xx(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(ow(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),fw(t))}function xM(t,e,n){for(let r of n)r instanceof Bh?(t.Au.addReference(r.key,e),S3(t,r)):r instanceof Hh?(B(dw,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||Xx(t,r.key)):Y(19791,{yu:r})}function S3(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(B(dw,"New document in limbo: "+n),t.Iu.add(r),fw(t))}function fw(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new W(Le.fromString(e)),r=t.mu.next();t.Eu.set(r,new x0(n)),t.du=t.du.insert(n,r),$x(t.remoteStore,new Su(tr(tw(n.path)),r,"TargetPurposeLimboResolution",W0.ue))}}async function Ou(t,e,n){let r=te(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=a0.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(u,l){let f=te(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,g=>O.forEach(g.Is,y=>f.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>O.forEach(g.ds,y=>f.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!ca(p))throw p;B(iw,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=f.Fs.get(g),D=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(D);f.Fs=f.Fs.insert(g,x)}}})(r.localStore,o))}async function A3(t,e){let n=te(t);if(!n.currentUser.isEqual(e)){B(dw,"User change. New user:",e.toKey());let r=await Bx(n.localStore,e);n.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new j(N.CANCELLED,s))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ou(n,r.Bs)}}function R3(t,e){let n=te(t),r=n.Eu.get(e);if(r&&r.lu)return pe().add(r.key);{let i=pe(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function eN(t){let e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D3.bind(null,e),e.hu.J_=m3.bind(null,e.eventManager),e.hu.pu=y3.bind(null,e.eventManager),e}function M3(t){let e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T3.bind(null,e),e}var tN=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=np(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)}Cu(n,r){return null}Fu(n,r){return null}vu(n){return QH(this.persistence,new u0,n.initialUser,this.serializer)}Du(n){return new Nh(s0.Vi,this.serializer)}bu(n){return new f0}async terminate(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),O0=class extends tN{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){be(this.persistence.referenceDelegate instanceof Ph,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new WE(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new Nh(r=>Ph.Vi(r,n),this.serializer)}};var x3=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>MM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=A3.bind(null,this.syncEngine),await h3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new T0})()}createDatastore(n){let r=np(n.databaseInfo.databaseId),i=(function(s){return new y0(s)})(n.databaseInfo);return(function(s,a,u,l){return new w0(s,a,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,u){return new C0(i,o,s,a,u)})(this.localStore,this.datastore,n.asyncQueue,r=>MM(this.syncEngine,r,0),(function(){return kh.C()?new kh:new h0})())}createSyncEngine(n,r){return(function(o,s,a,u,l,f,p){let g=new N0(o,s,a,u,l,f);return p&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){var n,r;await(async function(o){let s=te(o);B(Oo,"RemoteStore shutting down."),s.Ia.add(5),await Pu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return t.provider={build:()=>new t},t})();var k0=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Mi="FirestoreClient",F0=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ht.UNAUTHENTICATED,this.clientId=Eu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{B(Mi,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B(Mi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=uw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function oE(t,e){t.asyncQueue.verifyOperationInProgress(),B(Mi,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Bx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Ti("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{B("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Ti("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function NM(t,e){t.asyncQueue.verifyOperationInProgress();let n=await N3(t);B(Mi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>SM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>SM(e.remoteStore,i)),t._onlineComponents=e}async function N3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B(Mi,"Using user provided OfflineComponentProvider");try{await oE(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Ti("Error using user provided cache. Falling back to memory cache: "+n),await oE(t,new tN)}}else B(Mi,"Using default OfflineComponentProvider"),await oE(t,new O0(void 0));return t._offlineComponents}async function nN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B(Mi,"Using user provided OnlineComponentProvider"),await NM(t,t._uninitializedComponentsProvider._online)):(B(Mi,"Using default OnlineComponentProvider"),await NM(t,new x3))),t._onlineComponents}function P3(t){return nN(t).then(e=>e.syncEngine)}async function PM(t){let e=await nN(t),n=e.eventManager;return n.onListen=v3.bind(null,e.syncEngine),n.onUnlisten=w3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=I3.bind(null,e.syncEngine),n}function rN(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var OM=new Map;var iN="firestore.googleapis.com",kM=!0,$h=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iN,this.ssl=kM}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:kM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GH)throw new j(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ia=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $h({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new j(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $h(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new sE;switch(r.type){case"firstParty":return new lE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=OM.get(n);r&&(B("ComponentProvider","Removing Datastore"),OM.delete(n),r.terminate())})(this),Promise.resolve()}};function O3(t,e,n,r={}){var i;t=wi(t,ia);let o=di(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(Lf(`https://${u}`),Vf("Firestore",!0)),s.host!==iN&&s.host!==u&&Ti("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Yn(l,a)&&(t._setSettings(l),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=ht.MOCK_USER;else{f=IA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new j(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ht(g)}t._authCredentials=new aE(new vh(f,p))}}var ko=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},wt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Nu(n,t._jsonSchema))return new t(e,r||null,new W(Le.fromString(n.referencePath)))}};wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:nt("string",wt._jsonSchemaVersion),referencePath:nt("string")};var Ii=class t extends ko{constructor(e,n,r){super(e,n,tw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new W(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function op(t,e,...n){if(t=Ve(t),$M("collection","path",e),t instanceof ia){let r=Le.fromString(e,...n);return JR(r),new Ii(t,null,r)}{if(!(t instanceof wt||t instanceof Ii))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Le.fromString(e,...n));return JR(r),new Ii(t.firestore,null,r)}}function ku(t,e,...n){if(t=Ve(t),arguments.length===1&&(e=Eu.newId()),$M("doc","path",e),t instanceof ia){let r=Le.fromString(e,...n);return ZR(r),new wt(t,null,new W(r))}{if(!(t instanceof wt||t instanceof Ii))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Le.fromString(e,...n));return ZR(r),new wt(t.firestore,t instanceof Ii?t.converter:null,new W(r))}}var FM="AsyncQueue",zh=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Fh(this,"async_queue_retry"),this.oc=()=>{let r=iE();r&&B(FM,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=iE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=iE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new Nr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ca(e))throw e;B(FM,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Or("INTERNAL UNHANDLED ERROR: ",LM(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=D0.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Y(47125,{hc:LM(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function LM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function VM(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}var xi=class extends ia{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new zh,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new zh(e),this._firestoreClient=void 0,await e}}};function hw(t,e){let n=typeof t=="object"?t:Ls(),r=typeof t=="string"?t:e||Ch,i=ru(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=wA("firestore");o&&O3(i,...o)}return i}function oN(t){if(t._terminated)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||k3(t),t._firestoreClient}function k3(t){var e,n,r;let i=t._freezeSettings(),o=(function(a,u,l,f){return new gE(a,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,rN(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new F0(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(t._componentsProvider))}var Ci=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(xt.fromBase64String(e))}catch(n){throw new j(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nu(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Ci._jsonSchemaVersion="firestore/bytes/1.0",Ci._jsonSchema={type:nt("string",Ci._jsonSchemaVersion),bytes:nt("string")};var oa=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Mu=class{constructor(e){this._methodName=e}};var Di=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Nu(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:nt("string",Di._jsonSchemaVersion),latitude:nt("number"),longitude:nt("number")};var bi=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nu(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new j(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:nt("string",bi._jsonSchemaVersion),vectorValues:nt("object")};var F3=/^__.*__$/,L0=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ir(e,this.data,this.fieldMask,n,this.fieldTransforms):new Po(e,this.data,n,this.fieldTransforms)}},qh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ir(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function sN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ec:t})}}var V0=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Wh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(sN(this.Ec)&&F3.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},U0=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||np(e)}Dc(e,n,r,i=!1){return new V0({Ec:e,methodName:n,bc:r,path:nn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function pw(t){let e=t._freezeSettings(),n=np(t._databaseId);return new U0(t._databaseId,!!e.ignoreUndefinedProperties,n)}function L3(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);gw("Data must be an object, but it was:",s,r);let a=aN(r,s),u,l;if(o.merge)u=new gn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let g=j0(e,p,n);if(!s.contains(g))throw new j(N.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);uN(f,g)||f.push(g)}u=new gn(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new L0(new tn(a),u,l)}var Gh=class t extends Mu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function V3(t,e,n,r){let i=t.Dc(1,e,n);gw("Data must be an object, but it was:",i,r);let o=[],s=tn.empty();Ni(r,(u,l)=>{let f=mw(e,u,n);l=Ve(l);let p=i.gc(f);if(l instanceof Gh)o.push(f);else{let g=Fu(l,p);g!=null&&(o.push(f),s.set(f,g))}});let a=new gn(o);return new qh(s,a,i.fieldTransforms)}function U3(t,e,n,r,i,o){let s=t.Dc(1,e,n),a=[j0(e,r,n)],u=[i];if(o.length%2!=0)throw new j(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(j0(e,o[g])),u.push(o[g+1]);let l=[],f=tn.empty();for(let g=a.length-1;g>=0;--g)if(!uN(l,a[g])){let y=a[g],D=u[g];D=Ve(D);let x=s.gc(y);if(D instanceof Gh)l.push(y);else{let M=Fu(D,x);M!=null&&(l.push(y),f.set(y,M))}}let p=new gn(l);return new qh(f,p,s.fieldTransforms)}function j3(t,e,n,r=!1){return Fu(n,t.Dc(r?4:3,e))}function Fu(t,e){if(cN(t=Ve(t)))return gw("Unsupported field value:",e,t),aN(t,e);if(t instanceof Mu)return(function(r,i){if(!sN(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=Fu(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Ve(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=rt.fromDate(r);return{timestampValue:Mh(i.serializer,o)}}if(r instanceof rt){let o=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mh(i.serializer,o)}}if(r instanceof Di)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ci)return{bytesValue:Px(i.serializer,r._byteString)};if(r instanceof wt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:rw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bi)return(function(s,a){return{mapValue:{fields:{[Y0]:{stringValue:Z0},[Qs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return nw(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Zh(r)}`)})(t,e)}function aN(t,e){let n={};return ox(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(t,(r,i)=>{let o=Fu(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function cN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Di||t instanceof Ci||t instanceof wt||t instanceof Mu||t instanceof bi)}function gw(t,e,n){if(!cN(n)||!zM(n)){let r=Zh(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function j0(t,e,n){if((e=Ve(e))instanceof oa)return e._internalPath;if(typeof e=="string")return mw(t,e);throw Wh("Field path arguments must be of type string or ",t,!1,void 0,n)}var B3=new RegExp("[~\\*/\\[\\]]");function mw(t,e,n){if(e.search(B3)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oa(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new j(N.INVALID_ARGUMENT,a+t+u)}function uN(t,e){return t.some(n=>n.isEqual(e))}var Kh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new B0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(yw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},B0=class extends Kh{data(){return super.data()}};function yw(t,e){return typeof e=="string"?mw(t,e):e instanceof oa?e._internalPath:e._delegate._internalPath}function H3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new j(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xu=class{},Qh=class extends xu{};function lN(t,e,...n){let r=[];e instanceof xu&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(u=>u instanceof $0).length,a=o.filter(u=>u instanceof H0).length;if(s>1||s>0&&a>0)throw new j(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var H0=class t extends Qh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return fN(e._query,n),new ko(e.firestore,e.converter,AE(e._query,n))}_parse(e){let n=pw(e.firestore);return(function(o,s,a,u,l,f,p){let g;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new j(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){jM(p,f);let D=[];for(let x of p)D.push(UM(u,o,x));g={arrayValue:{values:D}}}else g=UM(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||jM(p,f),g=j3(a,s,p,f==="in"||f==="not-in");return tt.create(l,f,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var $0=class t extends xu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)fN(s,u),s=AE(s,u)})(e._query,n),new ko(e.firestore,e.converter,AE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var z0=class t extends Qh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=(function(i,o,s){if(i.startAt!==null)throw new j(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new j(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mo(o,s)})(e._query,this._field,this._direction);return new ko(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new Ai(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}};function dN(t,e="asc"){let n=e,r=yw("orderBy",t);return z0._create(r,n)}function UM(t,e,n){if(typeof(n=Ve(n))=="string"){if(n==="")throw new j(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_x(e)&&n.indexOf("/")!==-1)throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Le.fromString(n));if(!W.isDocumentKey(r))throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return oM(t,new W(r))}if(n instanceof wt)return oM(t,n._key);throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zh(n)}.`)}function jM(t,e){if(!Array.isArray(t)||t.length===0)throw new j(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fN(t,e){let n=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new j(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new j(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var q0=class{convertValue(e,n="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ni(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Qs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Fe(s.doubleValue));return new bi(o)}convertGeoPoint(e){return new Di(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Xh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cu(e));default:return null}}convertTimestamp(e){let n=kr(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Le.fromString(e);be(Ux(r),9688,{name:e});let i=new Dh(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||Or(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function $3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var To=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},So=class t extends Kh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Gs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(yw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new j(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};So._jsonSchemaVersion="firestore/documentSnapshot/1.0",So._jsonSchema={type:nt("string",So._jsonSchemaVersion),bundleSource:nt("string","DocumentSnapshot"),bundleName:nt("string"),bundle:nt("string")};var Gs=class extends So{data(e={}){return super.data(e)}},Ws=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new To(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gs(this._firestore,this._userDataWriter,r.key,r,new To(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Gs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new To(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Gs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new To(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:z3(a.type),doc:u,oldIndex:l,newIndex:f}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new j(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Eu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function z3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}Ws._jsonSchemaVersion="firestore/querySnapshot/1.0",Ws._jsonSchema={type:nt("string",Ws._jsonSchemaVersion),bundleSource:nt("string","QuerySnapshot"),bundleName:nt("string"),bundle:nt("string")};var Yh=class extends q0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ci(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}};function vw(t,e,n,...r){t=wi(t,wt);let i=wi(t.firestore,xi),o=pw(i),s;return s=typeof(e=Ve(e))=="string"||e instanceof oa?U3(o,"updateDoc",t._key,e,n,r):V3(o,"updateDoc",t._key,e),Ew(i,[s.toMutation(t._key,Pr.exists(!0))])}function hN(t){return Ew(wi(t.firestore,xi),[new bu(t._key,Pr.none())])}function _w(t,e){let n=wi(t.firestore,xi),r=ku(t),i=$3(t.converter,e);return Ew(n,[L3(pw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pr.exists(!1))]).then(()=>r)}function pN(t,...e){var n,r,i;t=Ve(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||VM(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(VM(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(t instanceof wt)l=wi(t.firestore,xi),f=tw(t._key.path),u={next:p=>{e[s]&&e[s](q3(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=wi(t,ko);l=wi(p.firestore,xi),f=p._query;let g=new Yh(l);u={next:y=>{e[s]&&e[s](new Ws(l,g,p,y))},error:e[s+1],complete:e[s+2]},H3(t._query)}return(function(g,y,D,x){let M=new k0(x),U=new A0(y,M,D);return g.asyncQueue.enqueueAndForget(async()=>p3(await PM(g),U)),()=>{M.Ou(),g.asyncQueue.enqueueAndForget(async()=>g3(await PM(g),U))}})(oN(l),f,a,u)}function Ew(t,e){return(function(r,i){let o=new Nr;return r.asyncQueue.enqueueAndForget(async()=>C3(await P3(r),i,o)),o.promise})(oN(t),e)}function q3(t,e,n){let r=n.docs.get(e._key),i=new Yh(t);return new So(t,i,e._key,r,new To(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){sa=i})(gi),pi(new hn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new xi(new cE(r.getProvider("auth-internal")),new dE(s,r.getProvider("app-check-internal")),(function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new j(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dh(l.options.projectId,f)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),An(WR,KR,e),An(WR,KR,"esm2017")})();var G3=["cardEl"],Lo=(t,e)=>({correct:t,wrong:e}),Pi=(t,e)=>e.id;function W3(t,e){t&1&&(S(0,"p",6),P(1,"Chargement..."),R())}function K3(t,e){if(t&1&&(S(0,"p",11),P(1),R()),t&2){let n=H(2);k(),He(n.authError())}}function Q3(t,e){if(t&1){let n=Ge();S(0,"div",12)(1,"div",13)(2,"div")(3,"p",14),P(4,"V\xE9rifie ton email"),R(),S(5,"p",15),P(6,"Un lien t'attend dans ta bo\xEEte. Clique puis recharge la page."),R()(),S(7,"div",16),P(8,"Email non v\xE9rifi\xE9"),R()(),S(9,"div",17)(10,"button",18),fe("click",function(){ce(n);let i=H(2);return ue(i.sendVerification())}),P(11," Renvoyer le mail "),R(),S(12,"span",19),P(13,"Pense \xE0 v\xE9rifier tes spams."),R()()()}if(t&2){let n=H(2);k(10),xe("disabled",n.auth.verifying())}}function Y3(t,e){if(t&1){let n=Ge();S(0,"div",2)(1,"div",4)(2,"h1"),P(3,"Connexion"),R(),S(4,"p",5),P(5,"Identifie-toi pour acc\xE9der \xE0 ta banque."),R(),ct(6,W3,2,0,"p",6),S(7,"form",7),fe("ngSubmit",function(){ce(n);let i=H();return ue(i.login())}),S(8,"label"),P(9," Email "),S(10,"input",8),fe("ngModelChange",function(i){ce(n);let o=H();return ue(o.email.set(i))}),R()(),S(11,"label"),P(12," Mot de passe "),S(13,"input",9),fe("ngModelChange",function(i){ce(n);let o=H();return ue(o.password.set(i))}),R()(),S(14,"button",10),P(15,"Se connecter"),R()(),ct(16,K3,2,1,"p",11),R(),ct(17,Q3,14,1,"div",12),R()}if(t&2){let n,r=H();k(6),ut(r.auth.loading()?6:-1),k(4),xe("ngModel",r.email()),k(3),xe("ngModel",r.password()),k(3),ut(r.authError()?16:-1),k(),ut(r.auth.user()&&!((n=r.auth.user())!=null&&n.emailVerified)&&r.environment.requireEmailVerification?17:-1)}}function Z3(t,e){if(t&1&&(S(0,"div",31)(1,"div",32),P(2),R()()),t&2){let n=H(2);k(),At("background",n.avatarColor()),k(),He(n.avatarInitial())}}function J3(t,e){if(t&1&&(S(0,"article",38)(1,"div",40)(2,"div",41)(3,"div",42),P(4,"Recto"),R(),S(5,"p",43),P(6),R()(),S(7,"div",44)(8,"div",42),P(9,"Verso"),R(),S(10,"p",43),P(11),R()()()()),t&2){let n=e.$implicit;k(6),He(n.front),k(5),He(n.back)}}function X3(t,e){t&1&&(S(0,"p",39),P(1,"Aucune carte pour l\u2019instant."),R())}function e$(t,e){t&1&&(S(0,"p",39),P(1,"Pas encore de tests. Lance une session dans l\u2019onglet R\xE9vision."),R())}function t$(t,e){if(t&1){let n=Ge();S(0,"article",46),fe("click",function(){let i=ce(n),o=H(4);return ue(o.openLatestInReview(i))})("keyup.enter",function(){let i=ce(n),o=H(4);return ue(o.openLatestInReview(i))}),S(1,"div",47)(2,"span",48),P(3),R(),S(4,"span",6),P(5),vc(6,"date"),R()(),S(7,"div",49)(8,"div",50)(9,"p",43),P(10),R()(),S(11,"div",51),P(12,"Voir le r\xE9cap complet"),R()()()}if(t&2){let n=e;xe("ngClass",wr(8,Lo,n.score===n.size,n.score!==n.size)),k(3),Ht("Test #",n.id),k(2),He(_c(6,5,n.createdAt,"short")),k(5),Gn("Score : ",n.score," / ",n.size)}}function n$(t,e){if(t&1&&ct(0,t$,13,11,"article",45),t&2){let n,r=H(3);ut((n=r.history()[0])?0:-1,n)}}function r$(t,e){if(t&1&&(ho(0),S(1,"header",33)(2,"div",34)(3,"p",23),P(4,"Accueil"),R(),S(5,"h1"),P(6,"Derni\xE8res cartes & tests"),R(),S(7,"p",5),P(8,"Un coup d\u2019\u0153il rapide sur ce que tu viens d\u2019ajouter et tes r\xE9visions."),R()()(),S(9,"div",35)(10,"section")(11,"div",36)(12,"h2"),P(13,"Derni\xE8res cartes"),R(),S(14,"span",6),P(15,"8 plus r\xE9centes"),R()(),S(16,"div",37),zn(17,J3,12,2,"article",38,Pi,!1,X3,2,0,"p",39),R()(),S(20,"section")(21,"div",36)(22,"h2"),P(23,"Dernier Test"),R()(),ct(24,e$,2,0,"p",39)(25,n$,1,1),R()(),po()),t&2){let n=H(2);k(17),qn(n.flashcards().slice(0,8)),k(7),ut(n.history().length===0?24:25)}}function i$(t,e){t&1&&(S(0,"p",39),P(1,"Ajoute ton premier mot pour cr\xE9er ta collection."),R())}function o$(t,e){if(t&1){let n=Ge();S(0,"button",65),fe("click",function(i){ce(n);let o=H().$implicit;return H(4).deleteCard(o.id),ue(i.stopPropagation())}),P(1," \xD7 "),R()}}function s$(t,e){if(t&1){let n=Ge();S(0,"article",63,1),fe("click",function(){let i=ce(n).$implicit,o=H(4);return ue(o.toggleCard(i.id))})("keyup.enter",function(){let i=ce(n).$implicit,o=H(4);return ue(o.toggleCard(i.id))}),ct(2,o$,2,0,"button",64),S(3,"div",40)(4,"div",41)(5,"div",42),P(6,"Recto"),R(),S(7,"p",43),P(8),R()(),S(9,"div",44)(10,"div",42),P(11,"Verso"),R(),S(12,"p",43),P(13),R()()()()}if(t&2){let n=e.$implicit,r=H(4);dt("new-card",n.id===r.lastAddedId())("flipped",n.flipped),oi("aria-pressed",n.flipped),k(2),ut(r.deleteMode()?2:-1),k(5),At("font-size",r.fontSize(n.front)),k(),He(n.front),k(4),At("font-size",r.fontSize(n.back)),k(),He(n.back)}}function a$(t,e){if(t&1&&zn(0,s$,14,12,"article",62,Pi),t&2){let n=H(3);qn(n.flashcards())}}function c$(t,e){if(t&1){let n=Ge();ho(0),S(1,"header",52)(2,"div",34)(3,"p",23),P(4,"Banque de cartes"),R(),S(5,"h1"),P(6,"Flashcards"),R(),S(7,"p",5),P(8,"Ajoute des mots, \xE9v\xE8nements, question... , clique sur une carte pour r\xE9v\xE9ler la r\xE9ponse."),R(),S(9,"div",53),si(10,"span",22),S(11,"span"),P(12),R()(),S(13,"div",54)(14,"button",55),fe("click",function(){ce(n);let i=H(2);return ue(i.shuffleCards())}),P(15," M\xE9langer "),R(),S(16,"button",55),fe("click",function(){ce(n);let i=H(2);return ue(i.flipAllCards())}),P(17," Tout retourner "),R(),S(18,"button",56),fe("click",function(){ce(n);let i=H(2);return ue(i.toggleDeleteMode())}),P(19),R()()(),S(20,"form",57,0),fe("ngSubmit",function(){ce(n);let i=H(2);return ue(i.addCard())}),S(22,"label"),P(23," recto "),S(24,"input",58),yc("ngModelChange",function(i){ce(n);let o=H(2);return Vd(o.form.front,i)||(o.form.front=i),ue(i)}),R()(),S(25,"label"),P(26," verso "),S(27,"input",59),yc("ngModelChange",function(i){ce(n);let o=H(2);return Vd(o.form.back,i)||(o.form.back=i),ue(i)}),R()(),S(28,"button",60),P(29,"Ajouter \xE0 la banque"),R()()(),S(30,"section",61),ct(31,i$,2,0,"p",39)(32,a$,2,0),R(),po()}if(t&2){let n=Ry(21),r=H(2);k(12),Gn("",r.totalCards()," carte",r.totalCards()>1?"s":""),k(2),xe("disabled",r.flashcards().length===0),k(2),xe("disabled",r.flashcards().length===0),k(2),dt("active",r.deleteMode()),k(),Ht(" ",r.deleteMode()?"Terminer suppression":"Supprimer cartes"," "),k(5),mc("ngModel",r.form.front),k(3),mc("ngModel",r.form.back),k(),xe("disabled",n.form.invalid),k(2),dt("delete-mode",r.deleteMode())("shuffling",r.shuffleWave()),k(),ut(r.flashcards().length===0?31:32)}}function u$(t,e){if(t&1){let n=Ge();S(0,"article",73),fe("click",function(i){let o=ce(n).$implicit,s=H(6);return i.stopPropagation(),ue(s.toggleRecapCard(o.id))}),S(1,"div",40)(2,"div",41)(3,"div",42),P(4,"Question"),R(),S(5,"p",43),P(6),R()(),S(7,"div",44)(8,"div",42),P(9,"R\xE9ponse"),R(),S(10,"p",43),P(11),R()()()()}if(t&2){let n=e.$implicit,r=H(2).$implicit,i=H(4);dt("flipped",i.recapFlips()[n.id]),xe("ngClass",wr(9,Lo,(r.answers==null?null:r.answers[n.id])===!0,(r.answers==null?null:r.answers[n.id])===!1)),k(5),At("font-size",i.fontSize(n.front)),k(),He(n.front),k(4),At("font-size",i.fontSize(n.back)),k(),He(n.back)}}function l$(t,e){if(t&1&&(S(0,"div",71),zn(1,u$,12,12,"article",72,Pi),R()),t&2){let n=H().$implicit;k(),qn(n.cards)}}function d$(t,e){if(t&1){let n=Ge();S(0,"article",46),fe("click",function(){let i=ce(n).$implicit,o=H(4);return ue(o.toggleHistoryView(i))})("keyup.enter",function(){let i=ce(n).$implicit,o=H(4);return ue(o.toggleHistoryView(i))}),S(1,"div",47)(2,"span",48),P(3),R(),S(4,"span",6),P(5),vc(6,"date"),R()(),S(7,"div",49)(8,"div",50)(9,"p",43),P(10),R()(),S(11,"div",51),P(12," Voir le r\xE9cap complet "),S(13,"span",70),P(14),R()()(),ct(15,l$,3,0,"div",71),R()}if(t&2){let n=e.$implicit,r=H(4);xe("ngClass",wr(10,Lo,n.score===n.size,n.score!==n.size)),k(3),Ht("Test #",n.id),k(2),He(_c(6,7,n.createdAt,"short")),k(5),Gn("Score : ",n.score," / ",n.size),k(4),He(r.openHistoryId()===n.id.toString()?"\u25B4":"\u25BE"),k(),ut(r.openHistoryId()===n.id.toString()?15:-1)}}function f$(t,e){t&1&&(S(0,"p",39),P(1,"Pas encore de tests. Lance une session dans l\u2019onglet R\xE9vision."),R())}function h$(t,e){if(t&1){let n=Ge();S(0,"p",39),P(1,"Lance un test pour t'entra\xEEner."),R(),S(2,"div",36)(3,"h2"),P(4,"Derniers Tests"),R(),S(5,"button",68),fe("click",function(){ce(n);let i=H(3);return ue(i.clearHistory())}),P(6,"Supprimer historique"),R()(),S(7,"div",69),zn(8,d$,16,13,"article",45,Pi,!1,f$,2,0,"p",39),R()}if(t&2){let n=H(3);k(8),qn(n.history().slice(0,12))}}function p$(t,e){if(t&1){let n=Ge();S(0,"article",73),fe("click",function(){let i=ce(n).$implicit,o=H(4);return ue(o.toggleRecapCard(i.id))}),S(1,"div",40)(2,"div",41)(3,"div",42),P(4,"Question"),R(),S(5,"p",43),P(6),R()(),S(7,"div",44)(8,"div",42),P(9,"R\xE9ponse"),R(),S(10,"p",43),P(11),R()()()()}if(t&2){let n=e.$implicit,r=H(4);dt("flipped",r.recapFlips()[n.id]),xe("ngClass",wr(9,Lo,r.answers()[n.id]===!0,r.answers()[n.id]===!1)),k(5),At("font-size",r.fontSize(n.front)),k(),He(n.front),k(4),At("font-size",r.fontSize(n.back)),k(),He(n.back)}}function g$(t,e){if(t&1){let n=Ge();S(0,"div",74)(1,"button",75),fe("click",function(){ce(n);let i=H(4);return ue(i.showAllRecap=!i.showAllRecap)}),P(2),R()()}if(t&2){let n=H(4);k(2),Ht(" ",n.showAllRecap?"\u25B4":"\u25BE"," ")}}function m$(t,e){if(t&1){let n=Ge();S(0,"article",73),fe("click",function(i){let o=ce(n).$implicit,s=H(6);return i.stopPropagation(),ue(s.toggleRecapCard(o.id))}),S(1,"div",40)(2,"div",41)(3,"div",42),P(4,"Question"),R(),S(5,"p",43),P(6),R()(),S(7,"div",44)(8,"div",42),P(9,"R\xE9ponse"),R(),S(10,"p",43),P(11),R()()()()}if(t&2){let n=e.$implicit,r=H(2).$implicit,i=H(4);dt("flipped",i.recapFlips()[n.id]),xe("ngClass",wr(9,Lo,(r.answers==null?null:r.answers[n.id])===!0,(r.answers==null?null:r.answers[n.id])===!1)),k(5),At("font-size",i.fontSize(n.front)),k(),He(n.front),k(4),At("font-size",i.fontSize(n.back)),k(),He(n.back)}}function y$(t,e){if(t&1&&(S(0,"div",71),zn(1,m$,12,12,"article",72,Pi),R()),t&2){let n=H().$implicit;k(),qn(n.cards)}}function v$(t,e){if(t&1){let n=Ge();S(0,"article",46),fe("click",function(){let i=ce(n).$implicit,o=H(4);return ue(o.toggleHistoryView(i))})("keyup.enter",function(){let i=ce(n).$implicit,o=H(4);return ue(o.toggleHistoryView(i))}),S(1,"div",47)(2,"span",48),P(3),R(),S(4,"span",6),P(5),vc(6,"date"),R()(),S(7,"div",49)(8,"div",50)(9,"p",43),P(10),R()(),S(11,"div",51),P(12," Voir le r\xE9cap complet "),S(13,"span",70),P(14),R()()(),ct(15,y$,3,0,"div",71),R()}if(t&2){let n=e.$implicit,r=H(4);xe("ngClass",wr(10,Lo,n.score===n.size,n.score!==n.size)),k(3),Ht("Test #",n.id),k(2),He(_c(6,7,n.createdAt,"short")),k(5),Gn("Score : ",n.score," / ",n.size),k(4),He(r.openHistoryId()===n.id.toString()?"\u25B4":"\u25BE"),k(),ut(r.openHistoryId()===n.id.toString()?15:-1)}}function _$(t,e){t&1&&(S(0,"p",39),P(1,"Pas encore de tests. Lance une session dans l\u2019onglet R\xE9vision."),R())}function E$(t,e){if(t&1){let n=Ge();S(0,"div",36)(1,"h2"),P(2,"R\xE9sultats"),R()(),S(3,"div",67)(4,"p"),P(5),R(),S(6,"button",25),fe("click",function(){ce(n);let i=H(3);return ue(i.startTest())}),P(7,"Relancer"),R(),S(8,"div",71),zn(9,p$,12,12,"article",72,Pi),R(),ct(11,g$,3,1,"div",74),R(),S(12,"div",36)(13,"h2"),P(14,"Derniers Tests"),R(),S(15,"button",68),fe("click",function(){ce(n);let i=H(3);return ue(i.clearHistory())}),P(16,"Supprimer historique"),R()(),S(17,"div",69),zn(18,v$,16,13,"article",45,Pi,!1,_$,2,0,"p",39),R()}if(t&2){let n=H(3);k(5),Gn("Score : ",n.score()," / ",n.reviewCards().length),k(4),qn(n.reviewCards().slice(0,n.showAllRecap?n.reviewCards().length:8)),k(2),ut(n.reviewCards().length>8?11:-1),k(7),qn(n.history().slice(0,12))}}function w$(t,e){if(t&1){let n=Ge();S(0,"article",73),fe("click",function(){let i=ce(n).$implicit,o=H(4);return ue(o.toggleRecapCard(i.id))}),S(1,"div",40)(2,"div",41)(3,"div",42),P(4,"Question"),R(),S(5,"p",43),P(6),R()(),S(7,"div",44)(8,"div",42),P(9,"R\xE9ponse"),R(),S(10,"p",43),P(11),R()()()()}if(t&2){let n=e.$implicit,r=H(4);dt("flipped",r.recapFlips()[n.id]),xe("ngClass",wr(9,Lo,r.answers()[n.id]===!0,r.answers()[n.id]===!1)),k(5),At("font-size",r.fontSize(n.front)),k(),He(n.front),k(4),At("font-size",r.fontSize(n.back)),k(),He(n.back)}}function I$(t,e){if(t&1){let n=Ge();S(0,"div",67)(1,"p"),P(2),R(),S(3,"p"),P(4),R(),S(5,"button",25),fe("click",function(){let i=ce(n),o=H(3);return ue(o.startTest(i.cards))}),P(6,"Relancer ce test"),R(),S(7,"div",71),zn(8,w$,12,12,"article",72,Pi),R()()}if(t&2){let n=e,r=H(3);k(2),Ld("R\xE9cap test #",n.id," \u2014 ",n.score," / ",n.size),k(2),Gn("Score : ",n.score," / ",n.size),k(4),qn(r.reviewCards().slice(0,r.showAllRecap?r.reviewCards().length:8))}}function C$(t,e){if(t&1&&(S(0,"p",77),P(1),R()),t&2){let n=H(4);k(),Ht(" ",n.lastCorrect()?"Bonne r\xE9ponse !":"Rat\xE9"," ")}}function D$(t,e){t&1&&P(0," En attente ")}function b$(t,e){t&1&&P(0," Correct ")}function T$(t,e){t&1&&P(0," Incorrect ")}function S$(t,e){if(t&1){let n=Ge();S(0,"form",79),fe("ngSubmit",function(){ce(n);let i=H(4);return ue(i.submitAnswer())}),S(1,"div",80)(2,"div")(3,"p",81),P(4,"Ta r\xE9ponse"),R(),S(5,"p",82),P(6,"Tape la traduction puis valide."),R()(),S(7,"div",83),ct(8,D$,1,0)(9,b$,1,0)(10,T$,1,0),R()(),S(11,"input",84),fe("input",function(i){ce(n);let o=H(4);return ue(o.answer.set(i.target.value))}),R(),S(12,"div",85)(13,"button",86),P(14,"Valider"),R(),S(15,"button",87),fe("click",function(){ce(n);let i=H(4);return ue(i.nextCard())}),P(16," Carte suivante "),R()()()}if(t&2){let n=H(4);k(7),dt("success",n.lastCorrect())("error",n.lastCorrect()===!1),k(),ut(n.lastCorrect()===null?8:n.lastCorrect()?9:10),k(3),xe("disabled",n.cardRevealed())("value",n.answer()),k(2),xe("disabled",n.cardRevealed()),k(2),xe("disabled",!n.cardRevealed())}}function A$(t,e){if(t&1&&(S(0,"div",76)(1,"div",40)(2,"div",41)(3,"div",42),P(4),R(),S(5,"p",43),P(6),R()(),S(7,"div",44)(8,"div",42),P(9,"R\xE9ponse attendue"),R(),S(10,"p",43),P(11),R(),ct(12,C$,2,1,"p",77),R()()(),ys(13,S$,17,9,"form",78)),t&2){let n=e,r=H(3);dt("revealed",r.cardRevealed()),k(4),Ht("Carte ",r.currentIndex()+1),k(),At("font-size",r.fontSize(r.showFront()?n.front:n.back)),k(),Ht(" ",r.showFront()?n.front:n.back," "),k(4),At("font-size",r.fontSize(r.showFront()?n.back:n.front)),k(),Ht(" ",r.showFront()?n.back:n.front," "),k(),ut(r.cardRevealed()?12:-1),k(),xe("ngIf",!r.testFinished())}}function R$(t,e){if(t&1){let n=Ge();ho(0),S(1,"section",52)(2,"div",34)(3,"p",23),P(4,"Session de r\xE9vision"),R(),S(5,"h1"),P(6,"Teste-toi"),R(),S(7,"p",5),P(8,"Choisis le nombre de cartes, r\xE9ponds, puis valide pour voir la solution."),R(),S(9,"div",53),si(10,"span",22),S(11,"span"),P(12),R()()(),S(13,"form",57),fe("ngSubmit",function(){ce(n);let i=H(2);return ue(i.startTest())}),S(14,"label"),P(15," Nombre de cartes "),S(16,"input",66),fe("ngModelChange",function(i){ce(n);let o=H(2);return ue(o.testSize.set(+(i||0)))}),R()(),S(17,"button",10),P(18,"Nouveau test"),R()()(),ct(19,h$,11,1),ct(20,E$,21,4),ct(21,I$,10,5,"div",67),ct(22,A$,14,11),po()}if(t&2){let n,r,i=H(2);k(12),Gn("Score : ",i.score()," / ",i.reviewCards().length||i.testSize()),k(4),xe("max",i.totalCards()||1)("ngModel",i.testSize()),k(3),ut(i.reviewCards().length===0&&!i.testFinished()?19:-1),k(),ut(i.testFinished()&&i.reviewCards().length>0&&!i.selectedHistory()?20:-1),k(),ut((n=i.selectedHistory())?21:-1,n),k(),ut((r=!i.selectedHistory()&&!i.testFinished()&&i.currentCard())?22:-1,r)}}function M$(t,e){if(t&1){let n=Ge();S(0,"div",3)(1,"nav",20)(2,"div",21),si(3,"span",22),S(4,"div")(5,"p",23),P(6,"Vocab"),R(),S(7,"strong"),P(8,"Bank"),R()(),ys(9,Z3,3,3,"div",24),R(),S(10,"button",25),fe("click",function(){ce(n);let i=H();return ue(i.switchTab("home"))}),P(11," Accueil "),R(),S(12,"button",25),fe("click",function(){ce(n);let i=H();return ue(i.switchTab("bank"))}),P(13),R(),S(14,"button",25),fe("click",function(){ce(n);let i=H();return ue(i.switchTab("review"))}),P(15," R\xE9vision "),R(),S(16,"div",26)(17,"button",27),fe("click",function(){ce(n);let i=H();return ue(i.logout())}),P(18,"D\xE9connexion"),R()()(),S(19,"section",28),ho(20,29),ys(21,r$,26,2,"ng-container",30)(22,c$,33,15,"ng-container",30)(23,R$,23,8,"ng-container",30),po(),R()()}if(t&2){let n=H();k(9),xe("ngIf",n.isAuthenticated()),k(),dt("active",n.activeTab()==="home"),k(2),dt("active",n.activeTab()==="bank"),k(),Ht(" Banque (",n.totalCards(),") "),k(),dt("active",n.activeTab()==="review"),k(6),xe("ngSwitch",n.activeTab()),k(),xe("ngSwitchCase","home"),k(),xe("ngSwitchCase","bank"),k(),xe("ngSwitchCase","review")}}var sp=class t{historyKeyBase="bank-vocabulary/history";nextTestId=1;db=null;unsubscribeCards;currentUserId=null;flashcards=le([]);totalCards=Zt(()=>this.flashcards().length);activeTab=le("home");testSize=le(5);reviewCards=le([]);currentIndex=le(0);score=le(0);showFront=le(!0);cardRevealed=le(!1);lastCorrect=le(null);testFinished=le(!1);answer=le("");history=le([]);selectedHistory=le(null);deleteMode=le(!1);lastAddedId=le(null);shuffleWave=le(!1);answers=le({});recapFlips=le({});showAllHistory=!1;showAllRecap=!1;openHistoryId=le(null);email=le("");password=le("");authError=le(null);environment=Os;historyKey=le(`${this.historyKeyBase}/anon`);cardRefs;auth=L(uh);form={front:"",back:""};constructor(){this.loadHistory(),us(()=>{let e=JSON.stringify(this.history());localStorage.setItem(this.historyKey(),e)}),us(()=>{let e=this.auth.user();this.handleUserChange(e??null)})}isAuthenticated=Zt(()=>{let e=this.auth.user();return!(!e||Os.requireEmailVerification&&!e.emailVerified)});avatarInitial=Zt(()=>{let e=this.auth.user()?.email??"";return e?e.trim()[0]?.toUpperCase()??"?":"?"});avatarColor=Zt(()=>{let e=this.auth.user()?.email??"",n=["#22d3ee","#60a5fa","#f97316","#f43f5e","#c084fc","#34d399"];if(!e)return n[0];let r=0;for(let i of e)r=(r*31+i.charCodeAt(0))%9973;return n[r%n.length]});fontSize(e){let n=(e??"").length;return n<=25?"20px":n<=60?"18px":n<=120?"16px":"14px"}async login(){this.authError.set(null);try{await this.auth.signIn(this.email(),this.password()),this.password.set("")}catch(e){this.authError.set(e?.message??"Erreur de connexion")}}async sendVerification(){try{await this.auth.sendVerification()}catch(e){this.authError.set(e?.message??"\xC9chec de l\u2019envoi du mail")}}async logout(){await this.auth.logout()}addCard(){let e=this.form.front.trim(),n=this.form.back.trim();!e||!n||!this.db||!this.auth.user()||(_w(op(this.db,"users",this.auth.user().uid,"cards"),{front:e,back:n,flipped:!1,createdAt:Date.now()}).then(r=>{this.lastAddedId.set(r.id),setTimeout(()=>this.lastAddedId.set(null),800)}).catch(r=>this.authError.set(r?.message??"Erreur lors de l\u2019ajout")),this.form.front="",this.form.back="")}toggleCard(e){if(this.deleteMode()||!this.db||!this.auth.user())return;let n=this.flashcards().find(r=>r.id===e);n&&vw(ku(this.db,"users",this.auth.user().uid,"cards",e),{flipped:!n.flipped}).catch(()=>{})}toggleDeleteMode(){this.deleteMode.update(e=>!e)}deleteCard(e){!this.db||!this.auth.user()||hN(ku(this.db,"users",this.auth.user().uid,"cards",e)).catch(()=>{})}flipAllCards(){if(!this.db||!this.auth.user())return;let e=!this.flashcards().every(i=>i.flipped),n=this.auth.user().uid,r=this.flashcards().map(i=>vw(ku(this.db,"users",n,"cards",i.id),{flipped:e}).catch(()=>{}));Promise.all(r).catch(()=>{})}async addSampleCards(){if(!this.db||!this.auth.user())return;let e=this.auth.user().uid,n=[{front:"Machine learning",back:"Apprentissage automatique"},{front:"Liquidity",back:"Liquidit\xE9"},{front:"Churn",back:"Attrition client"},{front:"Gross margin",back:"Marge brute"},{front:"Tenir compte de",back:"To take into account"},{front:"Key takeaway",back:"Point cl\xE9"},{front:"Deadline",back:"Date limite"},{front:"Cash flow",back:"Flux de tr\xE9sorerie"},{front:"Hypoth\xE8se",back:"Assumption"},{front:"Livrable",back:"Deliverable"}];try{await Promise.all(n.map(r=>_w(op(this.db,"users",e,"cards"),X(F({},r),{flipped:!1,createdAt:Date.now()}))))}catch(r){this.authError.set(r?.message??"Erreur lors de l\u2019ajout des exemples")}}shuffleCards(){this.flashcards.update(e=>{let n=[...e];for(let r=n.length-1;r>0;r--){let i=Math.floor(Math.random()*(r+1));[n[r],n[i]]=[n[i],n[r]]}return n}),this.prepareShuffleVectors(),this.shuffleWave.set(!1),setTimeout(()=>this.shuffleWave.set(!0)),setTimeout(()=>this.shuffleWave.set(!1),1e3)}prepareShuffleVectors(){if(!this.cardRefs)return;let e=window.innerWidth/2,n=window.innerHeight/2;this.cardRefs.forEach(r=>{let i=r.nativeElement,o=i.getBoundingClientRect(),s=e-(o.left+o.width/2),a=n-(o.top+o.height/2);i.style.setProperty("--dx",`${s}px`),i.style.setProperty("--dy",`${a}px`)})}switchTab(e){this.activeTab.set(e),e!=="review"&&this.selectedHistory.set(null),e!=="bank"&&this.deleteMode.set(!1)}startTest(e){this.selectedHistory.set(null);let n=e?[...e]:[...this.flashcards()],r=a=>(a??"").trim().toLowerCase(),i=Array.from(n.reduce((a,u)=>{let l=`${r(u.front)}|${r(u.back)}`;return a.has(l)||a.set(l,u),a},new Map).values());if(i.length===0){this.testFinished.set(!0),this.reviewCards.set([]);return}let o=Math.max(1,Math.min(this.testSize(),i.length)),s=e?i.slice(0,o):i.sort(()=>Math.random()-.5).slice(0,o);this.reviewCards.set(s),this.currentIndex.set(0),this.score.set(0),this.testFinished.set(!1),this.testSize.set(o),this.answers.set({}),this.recapFlips.set({}),this.prepareCard(!0)}submitAnswer(){let e=this.currentCard();if(!e||this.cardRevealed())return;let n=this.showFront()?e.back:e.front,i=this.answer().trim().toLowerCase()===n.trim().toLowerCase();i&&this.score.update(o=>o+1),this.answers.update(o=>X(F({},o),{[e.id]:i})),this.lastCorrect.set(i),this.cardRevealed.set(!0)}nextCard(){if(this.testFinished())return;let e=this.currentIndex()+1,n=e<this.reviewCards().length;this.cardRevealed.set(!1),this.showFront.set(!0),this.answer.set(""),this.lastCorrect.set(null),setTimeout(()=>{if(!n){this.finalizeTest();return}this.currentIndex.set(e),this.prepareCard(!0)},250)}toggleRecapCard(e){this.recapFlips.update(n=>X(F({},n),{[e]:!n[e]}))}toggleHistoryView(e){let n=String(e.id);if(this.openHistoryId()===n){this.openHistoryId.set(null),this.recapFlips.set({});return}this.recapFlips.set({}),this.openHistoryId.set(n)}openHistoryTest(e){this.activeTab.set("review"),this.selectedHistory.set(e),this.reviewCards.set(e.cards),this.currentIndex.set(0),this.score.set(e.score),this.testFinished.set(!0),this.answer.set(""),this.cardRevealed.set(!1),this.lastCorrect.set(null),this.showFront.set(!0),this.answers.set(e.answers??{})}clearHistory(){this.history.set([]),this.selectedHistory.set(null),this.reviewCards.set([]),this.testFinished.set(!1),this.currentIndex.set(0),this.score.set(0),this.openHistoryId.set(null),this.recapFlips.set({}),this.answers.set({}),this.nextTestId=1,localStorage.removeItem(this.historyKey())}openLatestInReview(e){this.switchTab("review"),this.reviewCards.set([]),this.testFinished.set(!1),this.selectedHistory.set(null),this.recapFlips.set({}),this.answers.set(e.answers??{}),this.openHistoryId.set(String(e.id))}currentCard=Zt(()=>this.reviewCards()[this.currentIndex()]??null);finalizeTest(){if(this.testFinished())return;this.testFinished.set(!0);let e=this.reviewCards().length;if(e===0)return;let n=this.reviewCards().map(o=>X(F({},o),{flipped:!1})),r=F({},this.answers()),i={id:this.nextTestId++,createdAt:Date.now(),size:e,score:this.score(),cards:n,answers:r};this.history.update(o=>[i,...o].slice(0,12))}prepareCard(e=!1){this.showFront.set(e?!0:Math.random()>.5),this.answer.set(""),this.cardRevealed.set(!1),this.lastCorrect.set(null)}loadHistory(){let e=localStorage.getItem(this.historyKey());if(e)try{let n=JSON.parse(e);if(Array.isArray(n)){this.history.set(n.slice(0,12));let r=n.reduce((i,o)=>Math.max(i,o.id??0),0);this.nextTestId=(r||0)+1}}catch{}}handleUserChange(e){if(this.unsubscribeCards?.(),!e){this.flashcards.set([]),this.db=null,this.historyKey.set(`${this.historyKeyBase}/anon`),this.history.set([]),this.reviewCards.set([]),this.selectedHistory.set(null),this.testFinished.set(!1),this.currentIndex.set(0),this.currentUserId=null;return}if(this.currentUserId&&this.currentUserId!==e.uid&&(this.history.set([]),this.reviewCards.set([]),this.selectedHistory.set(null),this.testFinished.set(!1),this.currentIndex.set(0)),this.currentUserId=e.uid,this.historyKey.set(`${this.historyKeyBase}/${e.uid}`),this.loadHistory(),!this.db)try{this.db=hw(Ls())}catch{this.db=hw(iu(Os.firebase))}let n=lN(op(this.db,"users",e.uid,"cards"),dN("createdAt","desc"));this.unsubscribeCards=pN(n,r=>{let i=r.docs.map(o=>{let s=o.data();return{id:o.id,front:s.front,back:s.back,flipped:!!s.flipped,createdAt:s.createdAt??Date.now()}});this.flashcards.set(i)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=pc({type:t,selectors:[["app-root"]],viewQuery:function(n,r){if(n&1&&Fd(G3,5),n&2){let i;Sy(i=Ay())&&(r.cardRefs=i)}},decls:2,vars:1,consts:[["cardForm","ngForm"],["cardEl",""],[1,"auth-screen"],[1,"layout"],[1,"auth-card"],[1,"lede"],[1,"muted"],["autocomplete","off",1,"auth-form",3,"ngSubmit"],["type","email","name","email","required","","autocomplete","off","autocapitalize","none","spellcheck","false",3,"ngModelChange","ngModel"],["type","password","name","password","required","","autocomplete","off",3,"ngModelChange","ngModel"],["type","submit"],[1,"auth-error"],[1,"verify-card","below-auth"],[1,"verify-header"],[1,"verify-title"],[1,"verify-sub"],[1,"chip","warning"],[1,"verify-actions"],["type","button",1,"nav-btn",3,"click","disabled"],[1,"muted","small"],[1,"sidebar"],[1,"brand"],[1,"dot"],[1,"eyebrow"],["class","brand-avatar",4,"ngIf"],[1,"nav-btn",3,"click"],[1,"sidebar-meta"],["type","button",1,"logout",3,"click"],[1,"page"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"brand-avatar"],[1,"avatar"],[1,"hero","single"],[1,"headline"],[1,"home-sections"],[1,"section-title"],[1,"grid"],["role","presentation",1,"card"],[1,"empty"],[1,"card-inner"],[1,"card-face","front"],[1,"tag"],[1,"word"],[1,"card-face","back"],["tabindex","0",1,"history-wide",3,"ngClass"],["tabindex","0",1,"history-wide",3,"click","keyup.enter","ngClass"],[1,"history-wide__header"],[1,"pill","small"],[1,"history-wide__body"],[1,"history-wide__score"],[1,"history-wide__cta"],[1,"hero"],[1,"stats"],[1,"actions-bar"],["type","button",1,"shuffle-btn",3,"click","disabled"],["type","button",1,"delete-toggle",3,"click"],["autocomplete","off",1,"new-card",3,"ngSubmit"],["name","front","type","text","required","","autocomplete","off","autocapitalize","none","spellcheck","false",3,"ngModelChange","ngModel"],["name","back","type","text","required","","autocomplete","off","autocapitalize","none","spellcheck","false",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],["aria-label","Liste des flashcards",1,"grid"],["role","button","tabindex","0",1,"card",3,"new-card","flipped"],["role","button","tabindex","0",1,"card",3,"click","keyup.enter"],["type","button","aria-label","Supprimer cette carte",1,"delete-badge"],["type","button","aria-label","Supprimer cette carte",1,"delete-badge",3,"click"],["name","size","type","number","min","1","placeholder","5","required","","autocomplete","off","inputmode","numeric",3,"ngModelChange","max","ngModel"],[1,"result"],["type","button",1,"danger-btn",3,"click"],[1,"history-stack"],[1,"chevron"],[1,"grid","recap-grid"],[1,"card","recap",3,"ngClass","flipped"],[1,"card","recap",3,"click","ngClass"],[1,"more-btn-wrapper"],["type","button",1,"nav-btn","more-btn",3,"click"],[1,"review-card"],[1,"hint"],["class","answer","autocomplete","off",3,"ngSubmit",4,"ngIf"],["autocomplete","off",1,"answer",3,"ngSubmit"],[1,"answer-header"],[1,"answer-title"],[1,"answer-sub"],[1,"chip"],["name","answer","type","text","placeholder","\xC9cris ta r\xE9ponse","required","","autocomplete","off","autocapitalize","none","spellcheck","false",1,"answer-input",3,"input","disabled","value"],[1,"actions"],["type","submit",1,"primary",3,"disabled"],["type","button",1,"secondary",3,"click","disabled"]],template:function(n,r){n&1&&ct(0,Y3,18,5,"div",2)(1,M$,24,12,"div",3),n&2&&ut(r.isAuthenticated()?1:0)},dependencies:[Zd,jy,By,Yd,Hy,pA,fA,Nf,zv,oA,sA,Kv,Wv,Gv,$v,Hv,$y],styles:['@font-face{font-family:Manrope;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggqxSuXd.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Manrope;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggOxSuXd.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Manrope;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggSxSuXd.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Manrope;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggixSuXd.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Manrope;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggmxSuXd.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Manrope;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggexSg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Manrope;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggqxSuXd.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Manrope;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggOxSuXd.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Manrope;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggSxSuXd.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Manrope;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggixSuXd.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Manrope;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggmxSuXd.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Manrope;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggexSg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Manrope;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggqxSuXd.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Manrope;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggOxSuXd.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Manrope;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggSxSuXd.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Manrope;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggixSuXd.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Manrope;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggmxSuXd.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Manrope;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/manrope/v20/xn7gYHE41ni1AdIRggexSg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb54C-s0.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb94C-s0.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPbF4Cw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb54C-s0.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb94C-s0.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPbF4Cw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb54C-s0.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb94C-s0.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPbF4Cw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb54C-s0.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPb94C-s0.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Space Grotesk;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/spacegrotesk/v22/V8mDoQDjQSkFtoMM3T6r8E7mPbF4Cw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_nghost-%COMP%]{display:block;min-height:100vh;background:radial-gradient(circle at 20% 20%,#2d6cdf1f,transparent 40%),radial-gradient(circle at 80% 10%,#f59e0b1f,transparent 35%),linear-gradient(135deg,#0b1224,#0f192f 45%,#0b1224);color:#e5ecf5;font-family:Space Grotesk,Manrope,system-ui,-apple-system,sans-serif;padding:48px 24px 72px;box-sizing:border-box}.layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:220px 1fr;gap:24px;max-width:1280px;margin:0 auto}.sidebar[_ngcontent-%COMP%]{position:sticky;top:32px;align-self:start;background:#0f172a;border:1px solid #1f2e4d;border-radius:16px;padding:18px;display:flex;flex-direction:column;gap:10px;box-shadow:0 10px 35px #0003}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:8px;min-width:0}.brand-avatar[_ngcontent-%COMP%]{margin-left:auto;display:flex;align-items:center}.user-pill[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:0;max-width:180px;margin-bottom:8px}.avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;display:grid;place-items:center;color:#0b1224;font-weight:800;text-transform:uppercase;box-shadow:0 0 0 2px #0f172a,0 6px 14px #0003}.user-mail[_ngcontent-%COMP%]{max-width:120px;font-size:12px;color:#cbd5e1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.brand[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background:linear-gradient(120deg,#60a5fa,#22d3ee);box-shadow:0 0 12px #22d3ee66}.nav-btn[_ngcontent-%COMP%]{background:#111b30;border:1px solid #1f2e4d;border-radius:12px;color:#e5ecf5;padding:10px 12px;text-align:left;cursor:pointer;transition:border .2s ease,background .2s ease,transform .08s ease}.nav-btn[_ngcontent-%COMP%]:hover{border-color:#60a5fa}.nav-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb22,#22d3ee22);border-color:#60a5fa;transform:translate(2px)}.sidebar-meta[_ngcontent-%COMP%]{margin-top:6px;color:#94a3b8;font-size:13px}.sidebar-meta[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{margin-top:8px;width:100%;background:#111b30;border:1px solid #1f2e4d;color:#e5ecf5;border-radius:10px;padding:8px 10px;cursor:pointer}.page[_ngcontent-%COMP%]{max-width:1100px;width:100%}.hero[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.2fr 1fr;gap:32px;align-items:center;margin-bottom:28px}.hero.single[_ngcontent-%COMP%]{grid-template-columns:1fr}.headline[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:8px 0 6px;font-size:40px;letter-spacing:-.02em}.headline[_ngcontent-%COMP%]   .lede[_ngcontent-%COMP%]{margin:0;color:#b7c4d6}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.2em;font-size:11px;color:#7bb8ff;margin:0}.stats[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:10px;margin-top:18px;background:#13223c;color:#dbeafe;padding:10px 14px;border:1px solid #1f2e4d;border-radius:999px;font-weight:600;width:fit-content}.stats[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:linear-gradient(120deg,#60a5fa,#22d3ee);box-shadow:0 0 12px #22d3ee66}.actions-bar[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:12px}.delete-toggle[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#f97316);border:1px solid #ef4444;color:#0b1224;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer;transition:transform .08s ease,box-shadow .2s ease,background .2s ease}.delete-toggle.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#22d3ee);border-color:#2563eb;color:#0b1224}.delete-toggle[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 10px 25px #0003}.shuffle-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#22d3ee);border:none;color:#0b1224;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer;transition:transform .08s ease,box-shadow .2s ease,border-color .2s ease}.shuffle-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 12px 30px #2563eb44}.shuffle-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.new-card[_ngcontent-%COMP%]{background:#0f172a;border:1px solid #1f2e4d;border-radius:16px;padding:16px;display:grid;gap:12px;box-shadow:0 10px 35px #0003}.new-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;color:#cbd5e1;font-size:14px}.new-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#0b1224;border:1px solid #1e293b;border-radius:10px;color:#e5ecf5;padding:12px 14px;outline:none;font-size:15px;transition:border .2s ease,box-shadow .2s ease}.new-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#60a5fa;box-shadow:0 0 0 3px #60a5fa33}.new-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:4px;background:linear-gradient(135deg,#2563eb,#22d3ee);border:none;border-radius:12px;color:#0b1224;font-weight:700;padding:12px 14px;cursor:pointer;transition:transform .1s ease,box-shadow .2s ease,opacity .2s ease}.new-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.new-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-1px);box-shadow:0 12px 30px #2563eb44}.grid[_ngcontent-%COMP%]{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));margin-top:24px}.recap-grid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .recap-grid[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{height:150px}.empty[_ngcontent-%COMP%]{grid-column:1 / -1;text-align:center;color:#94a3b8;padding:18px;border:1px dashed #1f2e4d;border-radius:12px;background:#0f172a}.card[_ngcontent-%COMP%]{position:relative;height:180px;perspective:1100px;cursor:pointer;transition:transform .2s ease}.card.correct[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #22c55e80,0 10px 30px #22c55e22;border-radius:16px}.card.wrong[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #ef444480,0 10px 30px #ef444422;border-radius:16px}.delete-badge[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:28px;height:28px;border-radius:50%;border:none;background:#ef4444;color:#fff;font-weight:800;cursor:pointer;z-index:2;box-shadow:0 0 0 2px #0f172a,0 6px 14px #0003}.delete-badge[_ngcontent-%COMP%]:hover{background:#dc2626}.grid.delete-mode[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .5s ease-in-out infinite}.grid.shuffling[_ngcontent-%COMP%]:not(.delete-mode)   .card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_gather-scatter .9s ease-in-out}.grid.shuffling[_ngcontent-%COMP%]:not(.delete-mode)   .card[_ngcontent-%COMP%]:nth-child(2n){animation-delay:40ms}.grid.shuffling[_ngcontent-%COMP%]:not(.delete-mode)   .card[_ngcontent-%COMP%]:nth-child(3n){animation-delay:80ms}.grid.shuffling[_ngcontent-%COMP%]:not(.delete-mode)   .card[_ngcontent-%COMP%]:nth-child(4n){animation-delay:.12s}@keyframes _ngcontent-%COMP%_gather-scatter{0%{transform:translate(0) scale(1)}35%{transform:translate(var(--dx, 0px),var(--dy, 0px)) scale(.55) rotate(-.5deg)}55%{transform:translate(var(--dx, 0px),var(--dy, 0px)) scale(.55) rotate(.5deg)}to{transform:translate(0) scale(1)}}@keyframes _ngcontent-%COMP%_shake{0%{transform:translate(.5px,.5px) rotate(0)}20%{transform:translate(-.5px,-1px) rotate(-.5deg)}40%{transform:translate(-1.5px) rotate(.5deg)}60%{transform:translate(1.5px,1px) rotate(0)}80%{transform:translate(.5px,-.5px) rotate(.5deg)}to{transform:translate(-.5px,1px) rotate(-.5deg)}}.card.new-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pop-in .45s ease}@keyframes _ngcontent-%COMP%_pop-in{0%{transform:scale(.9);opacity:0}60%{transform:scale(1.03);opacity:1}to{transform:scale(1)}}.card-inner[_ngcontent-%COMP%]{position:absolute;inset:0;transition:transform .6s ease;transform-style:preserve-3d}.card.flipped[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.card-face[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:12px;padding:18px;border-radius:16px;border:1px solid #1f2e4d;backface-visibility:hidden;background:#0f172a;box-shadow:0 14px 35px #0000002a}.card-face.back[_ngcontent-%COMP%]{background:linear-gradient(160deg,#0ea5e9,#2563eb);color:#f8fafc;transform:rotateY(180deg)}.tag[_ngcontent-%COMP%]{position:absolute;top:12px;left:12px;width:fit-content;padding:6px 10px;border-radius:999px;font-size:11px;letter-spacing:.08em;background:#1f2e4d;color:#cbd5e1}.card-face.back[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background:#0b1224;color:#dbeafe}.word[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:800;text-align:center;width:100%;word-break:break-word;overflow-wrap:break-word;line-height:1.25;padding:0 6px;max-height:130px;overflow-y:auto}.word[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.word[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#1f2e4d;border-radius:999px}.hint[_ngcontent-%COMP%]{margin:0;color:#94a3b8;font-size:13px}.card-face.back[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{color:#e2e8f0}.home-sections[_ngcontent-%COMP%]{display:grid;gap:28px}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:8px}.section-title[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%], .muted[_ngcontent-%COMP%]{color:#94a3b8;font-size:13px}.history-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px}.with-toggle[_ngcontent-%COMP%]{margin-top:16px}.more-btn[_ngcontent-%COMP%]{background:#0f172a;border:1px solid #1f2e4d;color:#e5ecf5;border-radius:999px;padding:8px 12px;font-weight:700;cursor:pointer;min-width:38px;line-height:1}.more-btn-wrapper[_ngcontent-%COMP%]{grid-column:1 / -1;display:flex;justify-content:center;align-items:center}.verify-card[_ngcontent-%COMP%]{background:#0f172a;border:1.5px solid #1f2e4d;border-radius:14px;padding:16px;display:grid;gap:10px;box-shadow:0 10px 30px #00000040}.verify-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:14px;flex-wrap:wrap}.verify-title[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.verify-sub[_ngcontent-%COMP%]{margin:0;color:#94a3b8;font-size:14px}.verify-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.chip.warning[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b;border:1px solid #f59e0b44}.history-card[_ngcontent-%COMP%]{background:#0f172a;border:1px solid #1f2e4d;border-radius:14px;padding:14px;cursor:pointer;transition:border .2s ease,transform .1s ease}.history-card[_ngcontent-%COMP%]:hover{border-color:#60a5fa;transform:translateY(-2px)}.history-stack[_ngcontent-%COMP%]{display:grid;gap:12px}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px}.danger-btn[_ngcontent-%COMP%]{padding:8px 14px;border-radius:12px;border:1px solid #f87171;background:#b91c1c;color:#fff;font-weight:600;cursor:pointer;transition:transform .15s ease,box-shadow .15s ease,background .15s ease}.danger-btn[_ngcontent-%COMP%]:hover{background:#ef4444;box-shadow:0 8px 20px #ef444440;transform:translateY(-1px)}.danger-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.history-wide[_ngcontent-%COMP%]{background:#0f172a;border:1.5px solid #1f2e4d;border-radius:14px;padding:14px;display:grid;gap:10px;cursor:pointer;transition:border .2s ease,transform .1s ease;width:100%;box-sizing:border-box}.history-wide[_ngcontent-%COMP%]:hover{border-color:#60a5fa;transform:translateY(-2px)}.history-wide.correct[_ngcontent-%COMP%]{border-color:#22c55e;box-shadow:0 0 0 .5px #22c55e40}.history-wide.wrong[_ngcontent-%COMP%]{border-color:#f43f5e;box-shadow:0 0 0 .5px #f43f5e40}.history-wide__header[_ngcontent-%COMP%], .history-wide__body[_ngcontent-%COMP%], .history-wide__row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.history-wide__left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.history-wide__right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:700;color:#e5ecf5}.history-wide[_ngcontent-%COMP%]   .chevron[_ngcontent-%COMP%]{color:#94a3b8}.history-wide__score[_ngcontent-%COMP%]   .word[_ngcontent-%COMP%]{margin:0}.history-wide__cta[_ngcontent-%COMP%]{color:#60a5fa;font-weight:700}.history-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.pill.small[_ngcontent-%COMP%]{padding:4px 8px;border-radius:999px;background:#111b30;border:1px solid #1f2e4d;color:#dbeafe;font-size:12px}.score[_ngcontent-%COMP%]{margin:10px 0 4px;font-size:22px;font-weight:700}.date[_ngcontent-%COMP%]{margin:0 0 8px;color:#94a3b8;font-size:13px}.link-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#60a5fa;cursor:pointer;padding:0;font-weight:600}.review-card[_ngcontent-%COMP%]{position:relative;max-width:640px;margin:0 auto 16px;height:220px;perspective:1200px}.review-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{transform-style:preserve-3d;transition:transform .6s ease}.review-card.revealed[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.answer[_ngcontent-%COMP%]{background:#0f172a;border:1px solid #1f2e4d;border-radius:16px;padding:16px;display:grid;gap:12px;max-width:640px;margin:0 auto 24px}.answer-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px}.answer-title[_ngcontent-%COMP%]{margin:0;font-weight:700;color:#e5ecf5}.answer-sub[_ngcontent-%COMP%]{margin:2px 0 0;color:#94a3b8;font-size:13px}.chip[_ngcontent-%COMP%]{padding:6px 10px;border-radius:999px;background:#1f2e4d;color:#cbd5e1;font-size:12px;white-space:nowrap}.chip.success[_ngcontent-%COMP%]{background:#0f5132;color:#c5f6e0}.chip.error[_ngcontent-%COMP%]{background:#5c1f1f;color:#fca5a5}.answer-input[_ngcontent-%COMP%]{background:#0b1224;border:1px solid #1e293b;border-radius:10px;color:#e5ecf5;padding:12px 14px;outline:none;font-size:15px;transition:border .2s ease,box-shadow .2s ease;width:100%;box-sizing:border-box}.answer-input[_ngcontent-%COMP%]:focus{border-color:#60a5fa;box-shadow:0 0 0 3px #60a5fa33}.actions[_ngcontent-%COMP%]{display:flex;gap:10px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}.actions[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#22d3ee);border:none;color:#0b1224;border-radius:10px;padding:12px 14px;font-weight:700}.actions[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{background:#111b30;border:1px solid #1f2e4d;color:#e5ecf5;border-radius:10px;padding:12px 14px;font-weight:700}.result[_ngcontent-%COMP%]{background:#0f172a;border:1px solid #1f2e4d;border-radius:16px;padding:16px;margin-bottom:16px}@media(max-width:880px){[_nghost-%COMP%]{padding:32px 18px 64px}.layout[_ngcontent-%COMP%]{grid-template-columns:1fr}.sidebar[_ngcontent-%COMP%]{position:relative;top:0;flex-direction:row;align-items:center}.hero[_ngcontent-%COMP%]{grid-template-columns:1fr}.history-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}}.auth-screen[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;background:radial-gradient(circle at 20% 20%,#2d6cdf1f,transparent 40%),radial-gradient(circle at 80% 10%,#f59e0b1f,transparent 35%),linear-gradient(135deg,#0b1224,#0f192f 45%,#0b1224);padding:32px}.auth-card[_ngcontent-%COMP%]{background:#0f172a;border:1px solid #1f2e4d;border-radius:16px;padding:24px;width:min(420px,100%);color:#e5ecf5;box-shadow:0 14px 40px #0003}.below-auth[_ngcontent-%COMP%]{margin-top:16px;width:min(640px,100%)}.auth-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 6px}.auth-card[_ngcontent-%COMP%]   .lede[_ngcontent-%COMP%]{margin:0 0 16px;color:#94a3b8}.auth-form[_ngcontent-%COMP%]{display:grid;gap:12px}.auth-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:grid;gap:6px;color:#cbd5e1}.auth-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#0b1224;border:1px solid #1e293b;border-radius:10px;color:#e5ecf5;padding:12px 14px}.auth-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:6px;background:linear-gradient(135deg,#2563eb,#22d3ee);border:none;border-radius:10px;color:#0b1224;padding:12px 14px;font-weight:700;cursor:pointer}.auth-error[_ngcontent-%COMP%]{margin:10px 0 0;color:#f87171}.verify-block[_ngcontent-%COMP%]{margin-top:12px;padding:10px;border-radius:10px;background:#111b30;border:1px solid #1f2e4d}.verify-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:6px}@media(max-width:520px){.word[_ngcontent-%COMP%]{font-size:18px}}']})};Jy(sp,HS).catch(t=>console.error(t));
