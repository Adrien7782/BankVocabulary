<section class="page">
  <header class="hero">
    <div class="headline">
      <p class="eyebrow">Banque de vocabulaire</p>
      <h1>Flashcards FR → EN</h1>
      <p class="lede">Ajoute des mots, clique sur une carte pour révéler la traduction.</p>
      <div class="stats">
        <span class="dot"></span>
        <span>{{ totalCards() }} carte{{ totalCards() > 1 ? 's' : '' }}</span>
      </div>
    </div>

    <form class="new-card" (ngSubmit)="addCard()" #cardForm="ngForm">
      <label>
        Mot en français
        <input
          name="front"
          type="text"
          placeholder="ex : découvert"
          [(ngModel)]="form.front"
          required
        />
      </label>
      <label>
        Traduction anglaise
        <input
          name="back"
          type="text"
          placeholder="ex : overdraft"
          [(ngModel)]="form.back"
          required
        />
      </label>
      <button type="submit" [disabled]="cardForm.form.invalid">Ajouter à la banque</button>
    </form>
  </header>

  <section class="grid" aria-label="Liste des flashcards">
    @if (flashcards().length === 0) {
      <p class="empty">Ajoute ton premier mot pour créer ta collection.</p>
    } @else {
      @for (card of flashcards(); track card.id) {
        <article
          class="card"
          (click)="toggleCard(card.id)"
          [class.flipped]="card.flipped"
          role="button"
          [attr.aria-pressed]="card.flipped"
          tabindex="0"
          (keyup.enter)="toggleCard(card.id)"
        >
          <div class="card-inner">
            <div class="card-face front">
              <div class="tag">FR</div>
              <p class="word">{{ card.front }}</p>
              <p class="hint">Clique pour traduire</p>
            </div>
            <div class="card-face back">
              <div class="tag">EN</div>
              <p class="word">{{ card.back }}</p>
              <p class="hint">Clique pour revenir</p>
            </div>
          </div>
        </article>
      }
    }
  </section>
</section>
